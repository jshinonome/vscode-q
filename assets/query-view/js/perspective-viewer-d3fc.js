(function (root, factory) {
        if (typeof define === 'function' && define.amd) {
            define(['exports'], factory);
        } else if (typeof exports === 'object' && typeof exports.nodeName !== 'string') {
            factory(exports, module);
        } else {
            const exports = (root.perspective_viewer_d3fc = {});
            const module = {exports}
            factory(exports, module);
            root.perspective_viewer_d3fc = module.exports;
        }
    }(typeof self !== 'undefined' ? self : this, function (exports, module) {
    
var Lk=Object.create;var kf=Object.defineProperty;var Ok=Object.getOwnPropertyDescriptor;var Bk=Object.getOwnPropertyNames;var Fk=Object.getPrototypeOf,Hk=Object.prototype.hasOwnProperty;var T=(e,t)=>()=>(e&&(t=e(e=0)),t);var Rx=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),At=(e,t)=>{for(var r in t)kf(e,r,{get:t[r],enumerable:!0})},Lx=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let a of Bk(t))!Hk.call(e,a)&&a!==r&&kf(e,a,{get:()=>t[a],enumerable:!(n=Ok(t,a))||n.enumerable});return e};var Re=(e,t,r)=>(r=e!=null?Lk(Fk(e)):{},Lx(t||!e||!e.__esModule?kf(r,"default",{value:e,enumerable:!0}):r,e)),ar=e=>Lx(kf({},"__esModule",{value:!0}),e);function Fe(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}var _r=T(()=>{});function Fi(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}var yd=T(()=>{});function yo(e){let t,r,n;e.length!==2?(t=Fe,r=(u,l)=>Fe(e(u),l),n=(u,l)=>e(u)-l):(t=e===Fe||e===Fi?e:Yk,r=e,n=e);function a(u,l,s=0,h=u.length){if(s<h){if(t(l,l)!==0)return h;do{let b=s+h>>>1;r(u[b],l)<0?s=b+1:h=b}while(s<h)}return s}function o(u,l,s=0,h=u.length){if(s<h){if(t(l,l)!==0)return h;do{let b=s+h>>>1;r(u[b],l)<=0?s=b+1:h=b}while(s<h)}return s}function i(u,l,s=0,h=u.length){let b=a(u,l,s,h-1);return b>s&&n(u[b-1],l)>-n(u[b],l)?b-1:b}return{left:a,center:i,right:o}}function Yk(){return 0}var wd=T(()=>{_r();yd()});function Hi(e){return e===null?NaN:+e}function*_d(e,t){if(t===void 0)for(let r of e)r!=null&&(r=+r)>=r&&(yield r);else{let r=-1;for(let n of e)(n=t(n,++r,e))!=null&&(n=+n)>=n&&(yield n)}}var Sd=T(()=>{});var Ox,Md,Bx,Fx,Tf,Ad=T(()=>{_r();wd();Sd();Ox=yo(Fe),Md=Ox.right,Bx=Ox.left,Fx=yo(Hi).center,Tf=Md});function Hx(e,t){if(!((t=+t)>=0))throw new RangeError("invalid r");let r=e.length;if(!((r=Math.floor(r))>=0))throw new RangeError("invalid length");if(!r||!t)return e;let n=Cd(t),a=e.slice();return n(e,a,0,r,1),n(a,e,0,r,1),n(e,a,0,r,1),e}function Wx(e){return function(t,r,n=r){if(!((r=+r)>=0))throw new RangeError("invalid rx");if(!((n=+n)>=0))throw new RangeError("invalid ry");let{data:a,width:o,height:i}=t;if(!((o=Math.floor(o))>=0))throw new RangeError("invalid width");if(!((i=Math.floor(i!==void 0?i:a.length/o))>=0))throw new RangeError("invalid height");if(!o||!i||!r&&!n)return t;let u=r&&e(r),l=n&&e(n),s=a.slice();return u&&l?(wo(u,s,a,o,i),wo(u,a,s,o,i),wo(u,s,a,o,i),_o(l,a,s,o,i),_o(l,s,a,o,i),_o(l,a,s,o,i)):u?(wo(u,a,s,o,i),wo(u,s,a,o,i),wo(u,a,s,o,i)):l&&(_o(l,a,s,o,i),_o(l,s,a,o,i),_o(l,a,s,o,i)),t}}function wo(e,t,r,n,a){for(let o=0,i=n*a;o<i;)e(t,r,o,o+=n,1)}function _o(e,t,r,n,a){for(let o=0,i=n*a;o<n;++o)e(t,r,o,o+i,n)}function qk(e){let t=Cd(e);return(r,n,a,o,i)=>{a<<=2,o<<=2,i<<=2,t(r,n,a+0,o+0,i),t(r,n,a+1,o+1,i),t(r,n,a+2,o+2,i),t(r,n,a+3,o+3,i)}}function Cd(e){let t=Math.floor(e);if(t===e)return Wk(e);let r=e-t,n=2*e+1;return(a,o,i,u,l)=>{if(!((u-=l)>=i))return;let s=t*o[i],h=l*t,b=h+l;for(let v=i,M=i+h;v<M;v+=l)s+=o[Math.min(u,v)];for(let v=i,M=u;v<=M;v+=l)s+=o[Math.min(u,v+h)],a[v]=(s+r*(o[Math.max(i,v-b)]+o[Math.min(u,v+b)]))/n,s-=o[Math.max(i,v-h)]}}function Wk(e){let t=2*e+1;return(r,n,a,o,i)=>{if(!((o-=i)>=a))return;let u=e*n[a],l=i*e;for(let s=a,h=a+l;s<h;s+=i)u+=n[Math.min(o,s)];for(let s=a,h=o;s<=h;s+=i)u+=n[Math.min(o,s+l)],r[s]=u/t,u-=n[Math.max(a,s-l)]}}var Yx,qx,$x=T(()=>{Yx=Wx(Cd),qx=Wx(qk)});function on(e,t){let r=0;if(t===void 0)for(let n of e)n!=null&&(n=+n)>=n&&++r;else{let n=-1;for(let a of e)(a=t(a,++n,e))!=null&&(a=+a)>=a&&++r}return r}var Yi=T(()=>{});function $k(e){return e.length|0}function Gk(e){return!(e>0)}function Uk(e){return typeof e!="object"||"length"in e?e:Array.from(e)}function Xk(e){return t=>e(...t)}function kd(...e){let t=typeof e[e.length-1]=="function"&&Xk(e.pop());e=e.map(Uk);let r=e.map($k),n=e.length-1,a=new Array(n+1).fill(0),o=[];if(n<0||r.some(Gk))return o;for(;;){o.push(a.map((u,l)=>e[l][u]));let i=n;for(;++a[i]===r[i];){if(i===0)return t?o.map(t):o;a[i--]=0}}}var Gx=T(()=>{});function Td(e,t){var r=0,n=0;return Float64Array.from(e,t===void 0?a=>r+=+a||0:a=>r+=+t(a,n++,e)||0)}var Ux=T(()=>{});function qi(e,t){let r=0,n,a=0,o=0;if(t===void 0)for(let i of e)i!=null&&(i=+i)>=i&&(n=i-a,a+=n/++r,o+=n*(i-a));else{let i=-1;for(let u of e)(u=t(u,++i,e))!=null&&(u=+u)>=u&&(n=u-a,a+=n/++r,o+=n*(u-a))}if(r>1)return o/(r-1)}var Vd=T(()=>{});function Wi(e,t){let r=qi(e,t);return r&&Math.sqrt(r)}var Nd=T(()=>{Vd()});function ba(e,t){let r,n;if(t===void 0)for(let a of e)a!=null&&(r===void 0?a>=a&&(r=n=a):(r>a&&(r=a),n<a&&(n=a)));else{let a=-1;for(let o of e)(o=t(o,++a,e))!=null&&(r===void 0?o>=o&&(r=n=o):(r>o&&(r=o),n<o&&(n=o)))}return[r,n]}var Dd=T(()=>{});function Xx(e,t){let r=new So;if(t===void 0)for(let n of e)(n=+n)&&r.add(n);else{let n=-1;for(let a of e)(a=+t(a,++n,e))&&r.add(a)}return+r}function jx(e,t){let r=new So,n=-1;return Float64Array.from(e,t===void 0?a=>r.add(+a||0):a=>r.add(+t(a,++n,e)||0))}var So,Qx=T(()=>{So=class{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){let r=this._partials,n=0;for(let a=0;a<this._n&&a<32;a++){let o=r[a],i=t+o,u=Math.abs(t)<Math.abs(o)?t-(i-o):o-(i-t);u&&(r[n++]=u),t=i}return r[n]=t,this._n=n+1,this}valueOf(){let t=this._partials,r=this._n,n,a,o,i=0;if(r>0){for(i=t[--r];r>0&&(n=i,a=t[--r],i=n+a,o=a-(i-n),!o););r>0&&(o<0&&t[r-1]<0||o>0&&t[r-1]>0)&&(a=o*2,n=i+a,a==n-i&&(i=n))}return i}}});function Ed({_intern:e,_key:t},r){let n=t(r);return e.has(n)?e.get(n):r}function Kx({_intern:e,_key:t},r){let n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function Zx({_intern:e,_key:t},r){let n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function Jx(e){return e!==null&&typeof e=="object"?e.valueOf():e}var or,Lt,un=T(()=>{or=class extends Map{constructor(t,r=Jx){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(let[n,a]of t)this.set(n,a)}get(t){return super.get(Ed(this,t))}has(t){return super.has(Ed(this,t))}set(t,r){return super.set(Kx(this,t),r)}delete(t){return super.delete(Zx(this,t))}},Lt=class extends Set{constructor(t,r=Jx){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(let n of t)this.add(n)}has(t){return super.has(Ed(this,t))}add(t){return super.add(Kx(this,t))}delete(t){return super.delete(Zx(this,t))}}});function fn(e){return e}var Id=T(()=>{});function $i(e,...t){return Mo(e,fn,fn,t)}function Pd(e,...t){return Mo(e,Array.from,fn,t)}function e1(e,t){for(let r=1,n=t.length;r<n;++r)e=e.flatMap(a=>a.pop().map(([o,i])=>[...a,o,i]));return e}function t1(e,...t){return e1(Pd(e,...t),t)}function r1(e,t,...r){return e1(zd(e,t,...r),r)}function Vf(e,t,...r){return Mo(e,fn,t,r)}function zd(e,t,...r){return Mo(e,Array.from,t,r)}function n1(e,...t){return Mo(e,fn,o1,t)}function a1(e,...t){return Mo(e,Array.from,o1,t)}function o1(e){if(e.length!==1)throw new Error("duplicate key");return e[0]}function Mo(e,t,r,n){return function a(o,i){if(i>=n.length)return r(o);let u=new or,l=n[i++],s=-1;for(let h of o){let b=l(h,++s,o),v=u.get(b);v?v.push(h):u.set(b,[h])}for(let[h,b]of u)u.set(h,a(b,i));return t(u)}(e,0)}var Rd=T(()=>{un();Id()});function Gi(e,t){return Array.from(t,r=>e[r])}var Ld=T(()=>{});function Ao(e,...t){if(typeof e[Symbol.iterator]!="function")throw new TypeError("values is not iterable");e=Array.from(e);let[r]=t;if(r&&r.length!==2||t.length>1){let n=Uint32Array.from(e,(a,o)=>o);return t.length>1?(t=t.map(a=>e.map(a)),n.sort((a,o)=>{for(let i of t){let u=ln(i[a],i[o]);if(u)return u}})):(r=e.map(r),n.sort((a,o)=>ln(r[a],r[o]))),Gi(e,n)}return e.sort(Ui(r))}function Ui(e=Fe){if(e===Fe)return ln;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{let n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function ln(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}var Co=T(()=>{_r();Ld()});function Od(e,t,r){return(t.length!==2?Ao(Vf(e,t,r),([n,a],[o,i])=>Fe(a,i)||Fe(n,o)):Ao($i(e,r),([n,a],[o,i])=>t(a,i)||Fe(n,o))).map(([n])=>n)}var i1=T(()=>{_r();Rd();Co()});var u1,f1,FR,l1=T(()=>{u1=Array.prototype,f1=u1.slice,FR=u1.map});function Xi(e){return()=>e}var c1=T(()=>{});function ji(e,t,r){var n,a=-1,o,i,u;if(t=+t,e=+e,r=+r,e===t&&r>0)return[e];if((n=t<e)&&(o=e,e=t,t=o),(u=En(e,t,r))===0||!isFinite(u))return[];if(u>0){let l=Math.round(e/u),s=Math.round(t/u);for(l*u<e&&++l,s*u>t&&--s,i=new Array(o=s-l+1);++a<o;)i[a]=(l+a)*u}else{u=-u;let l=Math.round(e*u),s=Math.round(t*u);for(l/u<e&&++l,s/u>t&&--s,i=new Array(o=s-l+1);++a<o;)i[a]=(l+a)/u}return n&&i.reverse(),i}function En(e,t,r){var n=(t-e)/Math.max(0,r),a=Math.floor(Math.log(n)/Math.LN10),o=n/Math.pow(10,a);return a>=0?(o>=Bd?10:o>=Fd?5:o>=Hd?2:1)*Math.pow(10,a):-Math.pow(10,-a)/(o>=Bd?10:o>=Fd?5:o>=Hd?2:1)}function s1(e,t,r){var n=Math.abs(t-e)/Math.max(0,r),a=Math.pow(10,Math.floor(Math.log(n)/Math.LN10)),o=n/a;return o>=Bd?a*=10:o>=Fd?a*=5:o>=Hd&&(a*=2),t<e?-a:a}var Bd,Fd,Hd,Nf=T(()=>{Bd=Math.sqrt(50),Fd=Math.sqrt(10),Hd=Math.sqrt(2)});function Qi(e,t,r){let n;for(;;){let a=En(e,t,r);if(a===n||a===0||!isFinite(a))return[e,t];a>0?(e=Math.floor(e/a)*a,t=Math.ceil(t/a)*a):a<0&&(e=Math.ceil(e*a)/a,t=Math.floor(t*a)/a),n=a}}var Yd=T(()=>{Nf()});function Ki(e){return Math.ceil(Math.log(on(e))/Math.LN2)+1}var qd=T(()=>{Yi()});function Df(){var e=fn,t=ba,r=Ki;function n(a){Array.isArray(a)||(a=Array.from(a));var o,i=a.length,u,l,s=new Array(i);for(o=0;o<i;++o)s[o]=e(a[o],o,a);var h=t(s),b=h[0],v=h[1],M=r(s,b,v);if(!Array.isArray(M)){let F=v,R=+M;if(t===ba&&([b,v]=Qi(b,v,R)),M=ji(b,v,R),M[0]<=b&&(l=En(b,v,R)),M[M.length-1]>=v)if(F>=v&&t===ba){let z=En(b,v,R);isFinite(z)&&(z>0?v=(Math.floor(v/z)+1)*z:z<0&&(v=(Math.ceil(v*-z)+1)/-z))}else M.pop()}for(var A=M.length,N=0,C=A;M[N]<=b;)++N;for(;M[C-1]>v;)--C;(N||C<A)&&(M=M.slice(N,C),A=C-N);var D=new Array(A+1),B;for(o=0;o<=A;++o)B=D[o]=[],B.x0=o>0?M[o-1]:b,B.x1=o<A?M[o]:v;if(isFinite(l)){if(l>0)for(o=0;o<i;++o)(u=s[o])!=null&&b<=u&&u<=v&&D[Math.min(A,Math.floor((u-b)/l))].push(a[o]);else if(l<0){for(o=0;o<i;++o)if((u=s[o])!=null&&b<=u&&u<=v){let F=Math.floor((b-u)*l);D[Math.min(A,F+(M[F]<=u))].push(a[o])}}}else for(o=0;o<i;++o)(u=s[o])!=null&&b<=u&&u<=v&&D[Tf(M,u,0,A)].push(a[o]);return D}return n.value=function(a){return arguments.length?(e=typeof a=="function"?a:Xi(a),n):e},n.domain=function(a){return arguments.length?(t=typeof a=="function"?a:Xi([a[0],a[1]]),n):t},n.thresholds=function(a){return arguments.length?(r=typeof a=="function"?a:Xi(Array.isArray(a)?f1.call(a):a),n):r},n}var d1=T(()=>{l1();Ad();c1();Dd();Id();Yd();Nf();qd()});function Ir(e,t){let r;if(t===void 0)for(let n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let a of e)(a=t(a,++n,e))!=null&&(r<a||r===void 0&&a>=a)&&(r=a)}return r}var Wd=T(()=>{});function ya(e,t){let r,n=-1,a=-1;if(t===void 0)for(let o of e)++a,o!=null&&(r<o||r===void 0&&o>=o)&&(r=o,n=a);else for(let o of e)(o=t(o,++a,e))!=null&&(r<o||r===void 0&&o>=o)&&(r=o,n=a);return n}var Ef=T(()=>{});function ir(e,t){let r;if(t===void 0)for(let n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let a of e)(a=t(a,++n,e))!=null&&(r>a||r===void 0&&a>=a)&&(r=a)}return r}var If=T(()=>{});function wa(e,t){let r,n=-1,a=-1;if(t===void 0)for(let o of e)++a,o!=null&&(r>o||r===void 0&&o>=o)&&(r=o,n=a);else for(let o of e)(o=t(o,++a,e))!=null&&(r>o||r===void 0&&o>=o)&&(r=o,n=a);return n}var Pf=T(()=>{});function _a(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?ln:Ui(a);n>r;){if(n-r>600){let l=n-r+1,s=t-r+1,h=Math.log(l),b=.5*Math.exp(2*h/3),v=.5*Math.sqrt(h*b*(l-b)/l)*(s-l/2<0?-1:1),M=Math.max(r,Math.floor(t-s*b/l+v)),A=Math.min(n,Math.floor(t+(l-s)*b/l+v));_a(e,t,M,A,a)}let o=e[t],i=r,u=n;for(Zi(e,r,t),a(e[n],o)>0&&Zi(e,r,n);i<u;){for(Zi(e,i,u),++i,--u;a(e[i],o)<0;)++i;for(;a(e[u],o)>0;)--u}a(e[r],o)===0?Zi(e,r,u):(++u,Zi(e,u,n)),u<=t&&(r=u+1),t<=u&&(n=u-1)}return e}function Zi(e,t,r){let n=e[t];e[t]=e[r],e[r]=n}var $d=T(()=>{Co()});function Ji(e,t=Fe){let r,n=!1;if(t.length===1){let a;for(let o of e){let i=t(o);(n?Fe(i,a)>0:Fe(i,i)===0)&&(r=o,a=i,n=!0)}}else for(let a of e)(n?t(a,r)>0:t(a,a)===0)&&(r=a,n=!0);return r}var Gd=T(()=>{_r()});function In(e,t,r){if(e=Float64Array.from(_d(e,r)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return ir(e);if(t>=1)return Ir(e);var n,a=(n-1)*t,o=Math.floor(a),i=Ir(_a(e,o).subarray(0,o+1)),u=ir(e.subarray(o+1));return i+(u-i)*(a-o)}}function m1(e,t,r=Hi){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,o=Math.floor(a),i=+r(e[o],o,e),u=+r(e[o+1],o+1,e);return i+(u-i)*(a-o)}}function zf(e,t,r){if(e=Float64Array.from(_d(e,r)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return wa(e);if(t>=1)return ya(e);var n,a=Math.floor((n-1)*t),o=(u,l)=>ln(e[u],e[l]),i=_a(Uint32Array.from(e,(u,l)=>l),a,0,n-1,o);return Ji(i.subarray(0,a+1),u=>e[u])}}var Rf=T(()=>{Wd();Ef();If();Pf();$d();Sd();Co();Gd()});function Ud(e,t,r){return Math.ceil((r-t)/(2*(In(e,.75)-In(e,.25))*Math.pow(on(e),-1/3)))}var h1=T(()=>{Yi();Rf()});function Xd(e,t,r){return Math.ceil((r-t)*Math.cbrt(on(e))/(3.49*Wi(e)))}var p1=T(()=>{Yi();Nd()});function jd(e,t){let r=0,n=0;if(t===void 0)for(let a of e)a!=null&&(a=+a)>=a&&(++r,n+=a);else{let a=-1;for(let o of e)(o=t(o,++a,e))!=null&&(o=+o)>=o&&(++r,n+=o)}if(r)return n/r}var g1=T(()=>{});function Qd(e,t){return In(e,.5,t)}function v1(e,t){return zf(e,.5,t)}var x1=T(()=>{Rf()});function*jk(e){for(let t of e)yield*t}function Kd(e){return Array.from(jk(e))}var b1=T(()=>{});function Zd(e,t){let r=new or;if(t===void 0)for(let o of e)o!=null&&o>=o&&r.set(o,(r.get(o)||0)+1);else{let o=-1;for(let i of e)(i=t(i,++o,e))!=null&&i>=i&&r.set(i,(r.get(i)||0)+1)}let n,a=0;for(let[o,i]of r)i>a&&(a=i,n=o);return n}var y1=T(()=>{un()});function Jd(e,t=Qk){let r=[],n,a=!1;for(let o of e)a&&r.push(t(n,o)),n=o,a=!0;return r}function Qk(e,t){return[e,t]}var w1=T(()=>{});function em(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,o=new Array(a);++n<a;)o[n]=e+n*r;return o}var _1=T(()=>{});function tm(e,t=Fe){if(typeof e[Symbol.iterator]!="function")throw new TypeError("values is not iterable");let r=Array.from(e),n=new Float64Array(r.length);t.length!==2&&(r=r.map(t),t=Fe);let a=(u,l)=>t(r[u],r[l]),o,i;return Uint32Array.from(r,(u,l)=>l).sort(t===Fe?(u,l)=>ln(r[u],r[l]):Ui(a)).forEach((u,l)=>{let s=a(u,o===void 0?u:o);s>=0?((o===void 0||s>0)&&(o=u,i=l),n[u]=i):n[u]=NaN}),n}var S1=T(()=>{_r();Co()});function rm(e,t=Fe){let r,n=!1;if(t.length===1){let a;for(let o of e){let i=t(o);(n?Fe(i,a)<0:Fe(i,i)===0)&&(r=o,a=i,n=!0)}}else for(let a of e)(n?t(a,r)<0:t(a,a)===0)&&(r=a,n=!0);return r}var M1=T(()=>{_r()});function eu(e,t=Fe){if(t.length===1)return wa(e,t);let r,n=-1,a=-1;for(let o of e)++a,(n<0?t(o,o)===0:t(o,r)<0)&&(r=o,n=a);return n}var nm=T(()=>{_r();Pf()});function am(e,t=Fe){if(t.length===1)return ya(e,t);let r,n=-1,a=-1;for(let o of e)++a,(n<0?t(o,o)===0:t(o,r)>0)&&(r=o,n=a);return n}var A1=T(()=>{_r();Ef()});function om(e,t){let r=eu(e,t);return r<0?void 0:r}var C1=T(()=>{nm()});function im(e){return function(r,n=0,a=r.length){let o=a-(n=+n);for(;o;){let i=e()*o--|0,u=r[o+n];r[o+n]=r[i+n],r[i+n]=u}return r}}var k1,T1=T(()=>{k1=im(Math.random)});function um(e,t){let r=0;if(t===void 0)for(let n of e)(n=+n)&&(r+=n);else{let n=-1;for(let a of e)(a=+t(a,++n,e))&&(r+=a)}return r}var V1=T(()=>{});function tu(e){if(!(o=e.length))return[];for(var t=-1,r=ir(e,Kk),n=new Array(r);++t<r;)for(var a=-1,o,i=n[t]=new Array(o);++a<o;)i[a]=e[a][t];return n}function Kk(e){return e.length}var fm=T(()=>{If()});function lm(){return tu(arguments)}var N1=T(()=>{fm()});function cm(e,t){if(typeof t!="function")throw new TypeError("test is not a function");let r=-1;for(let n of e)if(!t(n,++r,e))return!1;return!0}var D1=T(()=>{});function sm(e,t){if(typeof t!="function")throw new TypeError("test is not a function");let r=-1;for(let n of e)if(t(n,++r,e))return!0;return!1}var E1=T(()=>{});function dm(e,t){if(typeof t!="function")throw new TypeError("test is not a function");let r=[],n=-1;for(let a of e)t(a,++n,e)&&r.push(a);return r}var I1=T(()=>{});function mm(e,t){if(typeof e[Symbol.iterator]!="function")throw new TypeError("values is not iterable");if(typeof t!="function")throw new TypeError("mapper is not a function");return Array.from(e,(r,n)=>t(r,n,e))}var P1=T(()=>{});function hm(e,t,r){if(typeof t!="function")throw new TypeError("reducer is not a function");let n=e[Symbol.iterator](),a,o,i=-1;if(arguments.length<3){if({done:a,value:r}=n.next(),a)return;++i}for(;{done:a,value:o}=n.next(),!a;)r=t(r,o,++i,e);return r}var z1=T(()=>{});function pm(e){if(typeof e[Symbol.iterator]!="function")throw new TypeError("values is not iterable");return Array.from(e).reverse()}var R1=T(()=>{});function gm(e,...t){e=new Lt(e);for(let r of t)for(let n of r)e.delete(n);return e}var L1=T(()=>{un()});function vm(e,t){let r=t[Symbol.iterator](),n=new Lt;for(let a of e){if(n.has(a))return!1;let o,i;for(;({value:o,done:i}=r.next())&&!i;){if(Object.is(a,o))return!1;n.add(o)}}return!0}var O1=T(()=>{un()});function xm(e,...t){e=new Lt(e),t=t.map(Zk);e:for(let r of e)for(let n of t)if(!n.has(r)){e.delete(r);continue e}return e}function Zk(e){return e instanceof Lt?e:new Lt(e)}var B1=T(()=>{un()});function ru(e,t){let r=e[Symbol.iterator](),n=new Set;for(let a of t){let o=F1(a);if(n.has(o))continue;let i,u;for(;{value:i,done:u}=r.next();){if(u)return!1;let l=F1(i);if(n.add(l),Object.is(o,l))break}}return!0}function F1(e){return e!==null&&typeof e=="object"?e.valueOf():e}var bm=T(()=>{});function ym(e,t){return ru(t,e)}var H1=T(()=>{bm()});function wm(...e){let t=new Lt;for(let r of e)for(let n of r)t.add(n);return t}var Y1=T(()=>{un()});var _m={};At(_m,{Adder:()=>So,InternMap:()=>or,InternSet:()=>Lt,ascending:()=>Fe,bin:()=>Df,bisect:()=>Tf,bisectCenter:()=>Fx,bisectLeft:()=>Bx,bisectRight:()=>Md,bisector:()=>yo,blur:()=>Hx,blur2:()=>Yx,blurImage:()=>qx,count:()=>on,cross:()=>kd,cumsum:()=>Td,descending:()=>Fi,deviation:()=>Wi,difference:()=>gm,disjoint:()=>vm,every:()=>cm,extent:()=>ba,fcumsum:()=>jx,filter:()=>dm,flatGroup:()=>t1,flatRollup:()=>r1,fsum:()=>Xx,greatest:()=>Ji,greatestIndex:()=>am,group:()=>$i,groupSort:()=>Od,groups:()=>Pd,histogram:()=>Df,index:()=>n1,indexes:()=>a1,intersection:()=>xm,least:()=>rm,leastIndex:()=>eu,map:()=>mm,max:()=>Ir,maxIndex:()=>ya,mean:()=>jd,median:()=>Qd,medianIndex:()=>v1,merge:()=>Kd,min:()=>ir,minIndex:()=>wa,mode:()=>Zd,nice:()=>Qi,pairs:()=>Jd,permute:()=>Gi,quantile:()=>In,quantileIndex:()=>zf,quantileSorted:()=>m1,quickselect:()=>_a,range:()=>em,rank:()=>tm,reduce:()=>hm,reverse:()=>pm,rollup:()=>Vf,rollups:()=>zd,scan:()=>om,shuffle:()=>k1,shuffler:()=>im,some:()=>sm,sort:()=>Ao,subset:()=>ym,sum:()=>um,superset:()=>ru,thresholdFreedmanDiaconis:()=>Ud,thresholdScott:()=>Xd,thresholdSturges:()=>Ki,tickIncrement:()=>En,tickStep:()=>s1,ticks:()=>ji,transpose:()=>tu,union:()=>wm,variance:()=>qi,zip:()=>lm});var Sm=T(()=>{Ad();_r();wd();$x();Yi();Gx();Ux();yd();Nd();Dd();Qx();Rd();i1();d1();h1();p1();qd();Wd();Ef();g1();x1();b1();If();Pf();y1();Yd();w1();Ld();Rf();$d();_1();S1();M1();nm();Gd();A1();C1();T1();V1();Nf();fm();Vd();N1();D1();E1();I1();P1();z1();R1();Co();L1();O1();B1();H1();bm();Y1();un()});function $t(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}var nu=T(()=>{});function Lf(e){let t=e,r=e,n=e;e.length!==2&&(t=(u,l)=>e(u)-l,r=$t,n=(u,l)=>$t(e(u),l));function a(u,l,s=0,h=u.length){if(s<h){if(r(l,l)!==0)return h;do{let b=s+h>>>1;n(u[b],l)<0?s=b+1:h=b}while(s<h)}return s}function o(u,l,s=0,h=u.length){if(s<h){if(r(l,l)!==0)return h;do{let b=s+h>>>1;n(u[b],l)<=0?s=b+1:h=b}while(s<h)}return s}function i(u,l,s=0,h=u.length){let b=a(u,l,s,h-1);return b>s&&t(u[b-1],l)>-t(u[b],l)?b-1:b}return{left:a,center:i,right:o}}var q1=T(()=>{nu()});function au(e){return e===null?NaN:+e}function*W1(e,t){if(t===void 0)for(let r of e)r!=null&&(r=+r)>=r&&(yield r);else{let r=-1;for(let n of e)(n=t(n,++r,e))!=null&&(n=+n)>=n&&(yield n)}}var Mm=T(()=>{});var $1,G1,Jk,eT,Sr,U1=T(()=>{nu();q1();Mm();$1=Lf($t),G1=$1.right,Jk=$1.left,eT=Lf(au).center,Sr=G1});function X1(e=$t){if(e===$t)return Am;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{let n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function Am(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}var j1=T(()=>{nu()});function Sa(e,t,r){var n,a=-1,o,i,u;if(t=+t,e=+e,r=+r,e===t&&r>0)return[e];if((n=t<e)&&(o=e,e=t,t=o),(u=Of(e,t,r))===0||!isFinite(u))return[];if(u>0){let l=Math.round(e/u),s=Math.round(t/u);for(l*u<e&&++l,s*u>t&&--s,i=new Array(o=s-l+1);++a<o;)i[a]=(l+a)*u}else{u=-u;let l=Math.round(e*u),s=Math.round(t*u);for(l/u<e&&++l,s/u>t&&--s,i=new Array(o=s-l+1);++a<o;)i[a]=(l+a)/u}return n&&i.reverse(),i}function Of(e,t,r){var n=(t-e)/Math.max(0,r),a=Math.floor(Math.log(n)/Math.LN10),o=n/Math.pow(10,a);return a>=0?(o>=Cm?10:o>=km?5:o>=Tm?2:1)*Math.pow(10,a):-Math.pow(10,-a)/(o>=Cm?10:o>=km?5:o>=Tm?2:1)}function Vm(e,t,r){var n=Math.abs(t-e)/Math.max(0,r),a=Math.pow(10,Math.floor(Math.log(n)/Math.LN10)),o=n/a;return o>=Cm?a*=10:o>=km?a*=5:o>=Tm&&(a*=2),t<e?-a:a}var Cm,km,Tm,Q1=T(()=>{Cm=Math.sqrt(50),km=Math.sqrt(10),Tm=Math.sqrt(2)});function Bf(e,t){let r;if(t===void 0)for(let n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let a of e)(a=t(a,++n,e))!=null&&(r<a||r===void 0&&a>=a)&&(r=a)}return r}var K1=T(()=>{});function Ff(e,t){let r;if(t===void 0)for(let n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let a of e)(a=t(a,++n,e))!=null&&(r>a||r===void 0&&a>=a)&&(r=a)}return r}var Z1=T(()=>{});function Hf(e,t,r=0,n=e.length-1,a){for(a=a===void 0?Am:X1(a);n>r;){if(n-r>600){let l=n-r+1,s=t-r+1,h=Math.log(l),b=.5*Math.exp(2*h/3),v=.5*Math.sqrt(h*b*(l-b)/l)*(s-l/2<0?-1:1),M=Math.max(r,Math.floor(t-s*b/l+v)),A=Math.min(n,Math.floor(t+(l-s)*b/l+v));Hf(e,t,M,A,a)}let o=e[t],i=r,u=n;for(ou(e,r,t),a(e[n],o)>0&&ou(e,r,n);i<u;){for(ou(e,i,u),++i,--u;a(e[i],o)<0;)++i;for(;a(e[u],o)>0;)--u}a(e[r],o)===0?ou(e,r,u):(++u,ou(e,u,n)),u<=t&&(r=u+1),t<=u&&(n=u-1)}return e}function ou(e,t,r){let n=e[t];e[t]=e[r],e[r]=n}var J1=T(()=>{j1()});function Yf(e,t,r){if(e=Float64Array.from(W1(e,r)),!!(n=e.length)){if((t=+t)<=0||n<2)return Ff(e);if(t>=1)return Bf(e);var n,a=(n-1)*t,o=Math.floor(a),i=Bf(Hf(e,o).subarray(0,o+1)),u=Ff(e.subarray(o+1));return i+(u-i)*(a-o)}}function Nm(e,t,r=au){if(!!(n=e.length)){if((t=+t)<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,o=Math.floor(a),i=+r(e[o],o,e),u=+r(e[o+1],o+1,e);return i+(u-i)*(a-o)}}var eb=T(()=>{K1();Z1();J1();Mm()});function qf(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,o=new Array(a);++n<a;)o[n]=e+n*r;return o}var tb=T(()=>{});var Mr=T(()=>{U1();nu();eb();tb();Q1();un()});function Ze(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function ur(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}var Ct=T(()=>{});function fr(){var e=new or,t=[],r=[],n=Wf;function a(o){let i=e.get(o);if(i===void 0){if(n!==Wf)return n;e.set(o,i=t.push(o)-1)}return r[i%r.length]}return a.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new or;for(let i of o)e.has(i)||e.set(i,t.push(i)-1);return a},a.range=function(o){return arguments.length?(r=Array.from(o),a):r.slice()},a.unknown=function(o){return arguments.length?(n=o,a):n},a.copy=function(){return fr(t,r).unknown(n)},Ze.apply(a,arguments),a}var Wf,Dm=T(()=>{Mr();Ct();Wf=Symbol("implicit")});function Ar(){var e=fr().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,o,i,u=!1,l=0,s=0,h=.5;delete e.unknown;function b(){var v=t().length,M=a<n,A=M?a:n,N=M?n:a;o=(N-A)/Math.max(1,v-l+s*2),u&&(o=Math.floor(o)),A+=(N-A-o*(v-l))*h,i=o*(1-l),u&&(A=Math.round(A),i=Math.round(i));var C=qf(v).map(function(D){return A+o*D});return r(M?C.reverse():C)}return e.domain=function(v){return arguments.length?(t(v),b()):t()},e.range=function(v){return arguments.length?([n,a]=v,n=+n,a=+a,b()):[n,a]},e.rangeRound=function(v){return[n,a]=v,n=+n,a=+a,u=!0,b()},e.bandwidth=function(){return i},e.step=function(){return o},e.round=function(v){return arguments.length?(u=!!v,b()):u},e.padding=function(v){return arguments.length?(l=Math.min(1,s=+v),b()):l},e.paddingInner=function(v){return arguments.length?(l=Math.min(1,v),b()):l},e.paddingOuter=function(v){return arguments.length?(s=+v,b()):s},e.align=function(v){return arguments.length?(h=Math.max(0,Math.min(1,v)),b()):h},e.copy=function(){return Ar(t(),[n,a]).round(u).paddingInner(l).paddingOuter(s).align(h)},Ze.apply(b(),arguments)}function rb(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return rb(t())},e}function nb(){return rb(Ar.apply(null,arguments).paddingInner(1))}var ab=T(()=>{Mr();Ct();Dm()});function ko(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function iu(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}var Em=T(()=>{});function Aa(){}function ib(){return this.rgb().formatHex()}function fT(){return db(this).formatHsl()}function ub(){return this.rgb().formatRgb()}function Tt(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=tT.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?fb(t):r===3?new kt(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?$f(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?$f(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=rT.exec(e))?new kt(t[1],t[2],t[3],1):(t=nT.exec(e))?new kt(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=aT.exec(e))?$f(t[1],t[2],t[3],t[4]):(t=oT.exec(e))?$f(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=iT.exec(e))?sb(t[1],t[2]/100,t[3]/100,1):(t=uT.exec(e))?sb(t[1],t[2]/100,t[3]/100,t[4]):ob.hasOwnProperty(e)?fb(ob[e]):e==="transparent"?new kt(NaN,NaN,NaN,0):null}function fb(e){return new kt(e>>16&255,e>>8&255,e&255,1)}function $f(e,t,r,n){return n<=0&&(e=t=r=NaN),new kt(e,t,r,n)}function zm(e){return e instanceof Aa||(e=Tt(e)),e?(e=e.rgb(),new kt(e.r,e.g,e.b,e.opacity)):new kt}function zn(e,t,r,n){return arguments.length===1?zm(e):new kt(e,t,r,n??1)}function kt(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}function lb(){return"#"+Im(this.r)+Im(this.g)+Im(this.b)}function cb(){var e=this.opacity;return e=isNaN(e)?1:Math.max(0,Math.min(1,e)),(e===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(e===1?")":", "+e+")")}function Im(e){return e=Math.max(0,Math.min(255,Math.round(e)||0)),(e<16?"0":"")+e.toString(16)}function sb(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Pr(e,t,r,n)}function db(e){if(e instanceof Pr)return new Pr(e.h,e.s,e.l,e.opacity);if(e instanceof Aa||(e=Tt(e)),!e)return new Pr;if(e instanceof Pr)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),o=Math.max(t,r,n),i=NaN,u=o-a,l=(o+a)/2;return u?(t===o?i=(r-n)/u+(r<n)*6:r===o?i=(n-t)/u+2:i=(t-r)/u+4,u/=l<.5?o+a:2-o-a,i*=60):u=l>0&&l<1?0:i,new Pr(i,u,l,e.opacity)}function mb(e,t,r,n){return arguments.length===1?db(e):new Pr(e,t,r,n??1)}function Pr(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}function Pm(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}var Pn,Ma,To,uu,zr,tT,rT,nT,aT,oT,iT,uT,ob,Rm=T(()=>{Em();Pn=.7,Ma=1/Pn,To="\\s*([+-]?\\d+)\\s*",uu="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",zr="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",tT=/^#([0-9a-f]{3,8})$/,rT=new RegExp("^rgb\\("+[To,To,To]+"\\)$"),nT=new RegExp("^rgb\\("+[zr,zr,zr]+"\\)$"),aT=new RegExp("^rgba\\("+[To,To,To,uu]+"\\)$"),oT=new RegExp("^rgba\\("+[zr,zr,zr,uu]+"\\)$"),iT=new RegExp("^hsl\\("+[uu,zr,zr]+"\\)$"),uT=new RegExp("^hsla\\("+[uu,zr,zr,uu]+"\\)$"),ob={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ko(Aa,Tt,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:ib,formatHex:ib,formatHsl:fT,formatRgb:ub,toString:ub});ko(kt,zn,iu(Aa,{brighter:function(e){return e=e==null?Ma:Math.pow(Ma,e),new kt(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=e==null?Pn:Math.pow(Pn,e),new kt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:lb,formatHex:lb,formatRgb:cb,toString:cb}));ko(Pr,mb,iu(Aa,{brighter:function(e){return e=e==null?Ma:Math.pow(Ma,e),new Pr(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=e==null?Pn:Math.pow(Pn,e),new Pr(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new kt(Pm(e>=240?e-240:e+120,a,n),Pm(e,a,n),Pm(e<120?e+240:e-120,a,n),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return e=isNaN(e)?1:Math.max(0,Math.min(1,e)),(e===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(e===1?")":", "+e+")")}}))});var hb,pb,gb=T(()=>{hb=Math.PI/180,pb=180/Math.PI});function lT(e){if(e instanceof Ca)return new Ca(e.h,e.s,e.l,e.opacity);e instanceof kt||(e=zm(e));var t=e.r/255,r=e.g/255,n=e.b/255,a=(bb*n+vb*t-xb*r)/(bb+vb-xb),o=n-a,i=(fu*(r-a)-Om*o)/Gf,u=Math.sqrt(i*i+o*o)/(fu*a*(1-a)),l=u?Math.atan2(i,o)*pb-120:NaN;return new Ca(l<0?l+360:l,u,a,e.opacity)}function Ot(e,t,r,n){return arguments.length===1?lT(e):new Ca(e,t,r,n??1)}function Ca(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}var yb,Lm,Om,Gf,fu,vb,xb,bb,wb=T(()=>{Em();Rm();gb();yb=-.14861,Lm=1.78277,Om=-.29227,Gf=-.90649,fu=1.97294,vb=fu*Gf,xb=fu*Lm,bb=Lm*Om-Gf*yb;ko(Ca,Ot,iu(Aa,{brighter:function(e){return e=e==null?Ma:Math.pow(Ma,e),new Ca(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=e==null?Pn:Math.pow(Pn,e),new Ca(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=isNaN(this.h)?0:(this.h+120)*hb,t=+this.l,r=isNaN(this.s)?0:this.s*t*(1-t),n=Math.cos(e),a=Math.sin(e);return new kt(255*(t+r*(yb*n+Lm*a)),255*(t+r*(Om*n+Gf*a)),255*(t+r*(fu*n)),this.opacity)}}))});var cn=T(()=>{Rm();wb()});function Bm(e,t,r,n,a){var o=e*e,i=o*e;return((1-3*e+3*o-i)*t+(4-6*o+3*i)*r+(1+3*e+3*o-3*i)*n+i*a)/6}function _b(e){var t=e.length-1;return function(r){var n=r<=0?r=0:r>=1?(r=1,t-1):Math.floor(r*t),a=e[n],o=e[n+1],i=n>0?e[n-1]:2*a-o,u=n<t-1?e[n+2]:2*o-a;return Bm((r-n/t)*t,i,a,o,u)}}var Fm=T(()=>{});function Sb(e){var t=e.length;return function(r){var n=Math.floor(((r%=1)<0?++r:r)*t),a=e[(n+t-1)%t],o=e[n%t],i=e[(n+1)%t],u=e[(n+2)%t];return Bm((r-n/t)*t,a,o,i,u)}}var Mb=T(()=>{Fm()});var Vo,Hm=T(()=>{Vo=e=>()=>e});function Ab(e,t){return function(r){return e+r*t}}function cT(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function Cb(e,t){var r=t-e;return r?Ab(e,r>180||r<-180?r-360*Math.round(r/360):r):Vo(isNaN(e)?t:e)}function kb(e){return(e=+e)==1?sn:function(t,r){return r-t?cT(t,r,e):Vo(isNaN(t)?r:t)}}function sn(e,t){var r=t-e;return r?Ab(e,r):Vo(isNaN(e)?t:e)}var Ym=T(()=>{Hm()});function Tb(e){return function(t){var r=t.length,n=new Array(r),a=new Array(r),o=new Array(r),i,u;for(i=0;i<r;++i)u=zn(t[i]),n[i]=u.r||0,a[i]=u.g||0,o[i]=u.b||0;return n=e(n),a=e(a),o=e(o),u.opacity=1,function(l){return u.r=n(l),u.g=a(l),u.b=o(l),u+""}}}var ka,qm,sT,Wm=T(()=>{cn();Fm();Mb();Ym();ka=function e(t){var r=kb(t);function n(a,o){var i=r((a=zn(a)).r,(o=zn(o)).r),u=r(a.g,o.g),l=r(a.b,o.b),s=sn(a.opacity,o.opacity);return function(h){return a.r=i(h),a.g=u(h),a.b=l(h),a.opacity=s(h),a+""}}return n.gamma=e,n}(1);qm=Tb(_b),sT=Tb(Sb)});function Vb(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(o){for(a=0;a<r;++a)n[a]=e[a]*(1-o)+t[a]*o;return n}}function Nb(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}var Db=T(()=>{});function Eb(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),o=new Array(r),i;for(i=0;i<n;++i)a[i]=tt(e[i],t[i]);for(;i<r;++i)o[i]=t[i];return function(u){for(i=0;i<n;++i)o[i]=a[i](u);return o}}var Ib=T(()=>{lu()});function Pb(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}var zb=T(()=>{});function wt(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}var cu=T(()=>{});function Rb(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=tt(e[a],t[a]):n[a]=t[a];return function(o){for(a in r)n[a]=r[a](o);return n}}var Lb=T(()=>{lu()});function dT(e){return function(){return e}}function mT(e){return function(t){return e(t)+""}}function su(e,t){var r=Gm.lastIndex=$m.lastIndex=0,n,a,o,i=-1,u=[],l=[];for(e=e+"",t=t+"";(n=Gm.exec(e))&&(a=$m.exec(t));)(o=a.index)>r&&(o=t.slice(r,o),u[i]?u[i]+=o:u[++i]=o),(n=n[0])===(a=a[0])?u[i]?u[i]+=a:u[++i]=a:(u[++i]=null,l.push({i,x:wt(n,a)})),r=$m.lastIndex;return r<t.length&&(o=t.slice(r),u[i]?u[i]+=o:u[++i]=o),u.length<2?l[0]?mT(l[0].x):dT(t):(t=l.length,function(s){for(var h=0,b;h<t;++h)u[(b=l[h]).i]=b.x(s);return u.join("")})}var Gm,$m,Um=T(()=>{cu();Gm=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,$m=new RegExp(Gm.source,"g")});function tt(e,t){var r=typeof t,n;return t==null||r==="boolean"?Vo(t):(r==="number"?wt:r==="string"?(n=Tt(t))?(t=n,ka):su:t instanceof Tt?ka:t instanceof Date?Pb:Nb(t)?Vb:Array.isArray(t)?Eb:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Rb:wt)(e,t)}var lu=T(()=>{cn();Wm();Ib();zb();cu();Lb();Um();Hm();Db()});function Ta(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}var Ob=T(()=>{});function Xm(e,t,r,n,a,o){var i,u,l;return(i=Math.sqrt(e*e+t*t))&&(e/=i,t/=i),(l=e*r+t*n)&&(r-=e*l,n-=t*l),(u=Math.sqrt(r*r+n*n))&&(r/=u,n/=u,l/=u),e*n<t*r&&(e=-e,t=-t,l=-l,i=-i),{translateX:a,translateY:o,rotate:Math.atan2(t,e)*Bb,skewX:Math.atan(l)*Bb,scaleX:i,scaleY:u}}var Bb,Uf,Fb=T(()=>{Bb=180/Math.PI,Uf={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1}});function Hb(e){let t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Uf:Xm(t.a,t.b,t.c,t.d,t.e,t.f)}function Yb(e){return e==null?Uf:(Xf||(Xf=document.createElementNS("http://www.w3.org/2000/svg","g")),Xf.setAttribute("transform",e),(e=Xf.transform.baseVal.consolidate())?(e=e.matrix,Xm(e.a,e.b,e.c,e.d,e.e,e.f)):Uf)}var Xf,qb=T(()=>{Fb()});function Wb(e,t,r,n){function a(s){return s.length?s.pop()+" ":""}function o(s,h,b,v,M,A){if(s!==b||h!==v){var N=M.push("translate(",null,t,null,r);A.push({i:N-4,x:wt(s,b)},{i:N-2,x:wt(h,v)})}else(b||v)&&M.push("translate("+b+t+v+r)}function i(s,h,b,v){s!==h?(s-h>180?h+=360:h-s>180&&(s+=360),v.push({i:b.push(a(b)+"rotate(",null,n)-2,x:wt(s,h)})):h&&b.push(a(b)+"rotate("+h+n)}function u(s,h,b,v){s!==h?v.push({i:b.push(a(b)+"skewX(",null,n)-2,x:wt(s,h)}):h&&b.push(a(b)+"skewX("+h+n)}function l(s,h,b,v,M,A){if(s!==b||h!==v){var N=M.push(a(M)+"scale(",null,",",null,")");A.push({i:N-4,x:wt(s,b)},{i:N-2,x:wt(h,v)})}else(b!==1||v!==1)&&M.push(a(M)+"scale("+b+","+v+")")}return function(s,h){var b=[],v=[];return s=e(s),h=e(h),o(s.translateX,s.translateY,h.translateX,h.translateY,b,v),i(s.rotate,h.rotate,b,v),u(s.skewX,h.skewX,b,v),l(s.scaleX,s.scaleY,h.scaleX,h.scaleY,b,v),s=h=null,function(M){for(var A=-1,N=v.length,C;++A<N;)b[(C=v[A]).i]=C.x(M);return b.join("")}}}var jm,Qm,$b=T(()=>{cu();qb();jm=Wb(Hb,"px, ","px)","deg)"),Qm=Wb(Yb,", ",")",")")});function Gb(e){return((e=Math.exp(e))+1/e)/2}function pT(e){return((e=Math.exp(e))-1/e)/2}function gT(e){return((e=Math.exp(2*e))-1)/(e+1)}var hT,Km,Ub=T(()=>{hT=1e-12;Km=function e(t,r,n){function a(o,i){var u=o[0],l=o[1],s=o[2],h=i[0],b=i[1],v=i[2],M=h-u,A=b-l,N=M*M+A*A,C,D;if(N<hT)D=Math.log(v/s)/t,C=function($){return[u+$*M,l+$*A,s*Math.exp(t*$*D)]};else{var B=Math.sqrt(N),F=(v*v-s*s+n*N)/(2*s*r*B),R=(v*v-s*s-n*N)/(2*v*r*B),z=Math.log(Math.sqrt(F*F+1)-F),L=Math.log(Math.sqrt(R*R+1)-R);D=(L-z)/t,C=function($){var G=$*D,ue=Gb(z),ne=s/(r*B)*(ue*gT(t*G+z)-pT(z));return[u+ne*M,l+ne*A,s*ue/Gb(t*G+z)]}}return C.duration=D*1e3*t/Math.SQRT2,C}return a.rho=function(o){var i=Math.max(.001,+o),u=i*i,l=u*u;return e(i,u,l)},a}(Math.SQRT2,2,4)});function Xb(e){return function t(r){r=+r;function n(a,o){var i=e((a=Ot(a)).h,(o=Ot(o)).h),u=sn(a.s,o.s),l=sn(a.l,o.l),s=sn(a.opacity,o.opacity);return function(h){return a.h=i(h),a.s=u(h),a.l=l(Math.pow(h,r)),a.opacity=s(h),a+""}}return n.gamma=t,n}(1)}var vT,No,jb=T(()=>{cn();Ym();vT=Xb(Cb),No=Xb(sn)});function jf(e,t){t===void 0&&(t=e,e=tt);for(var r=0,n=t.length-1,a=t[0],o=new Array(n<0?0:n);r<n;)o[r]=e(a,a=t[++r]);return function(i){var u=Math.max(0,Math.min(n-1,Math.floor(i*=n)));return o[u](i-u)}}var Qb=T(()=>{lu()});var Zt=T(()=>{lu();cu();Ob();Um();$b();Ub();Wm();jb();Qb()});function Zm(e){return function(){return e}}var Kb=T(()=>{});function Rn(e){return+e}var Qf=T(()=>{});function ut(e){return e}function Jm(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:Zm(isNaN(t)?NaN:.5)}function xT(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function bT(e,t,r){var n=e[0],a=e[1],o=t[0],i=t[1];return a<n?(n=Jm(a,n),o=r(i,o)):(n=Jm(n,a),o=r(o,i)),function(u){return o(n(u))}}function yT(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),o=new Array(n),i=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++i<n;)a[i]=Jm(e[i],e[i+1]),o[i]=r(t[i],t[i+1]);return function(u){var l=Sr(e,u,1,n)-1;return o[l](a[l](u))}}function Rr(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Va(){var e=Zb,t=Zb,r=tt,n,a,o,i=ut,u,l,s;function h(){var v=Math.min(e.length,t.length);return i!==ut&&(i=xT(e[0],e[v-1])),u=v>2?yT:bT,l=s=null,b}function b(v){return v==null||isNaN(v=+v)?o:(l||(l=u(e.map(n),t,r)))(n(i(v)))}return b.invert=function(v){return i(a((s||(s=u(t,e.map(n),wt)))(v)))},b.domain=function(v){return arguments.length?(e=Array.from(v,Rn),h()):e.slice()},b.range=function(v){return arguments.length?(t=Array.from(v),h()):t.slice()},b.rangeRound=function(v){return t=Array.from(v),r=Ta,h()},b.clamp=function(v){return arguments.length?(i=v?!0:ut,h()):i!==ut},b.interpolate=function(v){return arguments.length?(r=v,h()):r},b.unknown=function(v){return arguments.length?(o=v,b):o},function(v,M){return n=v,a=M,h()}}function Na(){return Va()(ut,ut)}var Zb,Lr=T(()=>{Mr();Zt();Kb();Qf();Zb=[0,1]});function Jb(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Da(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}var du=T(()=>{});function Or(e){return e=Da(Math.abs(e)),e?e[1]:NaN}var mu=T(()=>{du()});function ey(e,t){return function(r,n){for(var a=r.length,o=[],i=0,u=e[0],l=0;a>0&&u>0&&(l+u+1>n&&(u=Math.max(1,n-l)),o.push(r.substring(a-=u,a+u)),!((l+=u+1)>n));)u=e[i=(i+1)%e.length];return o.reverse().join(t)}}var ty=T(()=>{});function ry(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var ny=T(()=>{});function Br(e){if(!(t=wT.exec(e)))throw new Error("invalid format: "+e);var t;return new Kf({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function Kf(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}var wT,eh=T(()=>{wT=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;Br.prototype=Kf.prototype;Kf.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type}});function ay(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var oy=T(()=>{});function iy(e,t){var r=Da(e,t);if(!r)return e+"";var n=r[0],a=r[1],o=a-(th=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,i=n.length;return o===i?n:o>i?n+new Array(o-i+1).join("0"):o>0?n.slice(0,o)+"."+n.slice(o):"0."+new Array(1-o).join("0")+Da(e,Math.max(0,t+o-1))[0]}var th,rh=T(()=>{du()});function nh(e,t){var r=Da(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}var uy=T(()=>{du()});var ah,fy=T(()=>{du();rh();uy();ah={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Jb,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>nh(e*100,t),r:nh,s:iy,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)}});function oh(e){return e}var ly=T(()=>{});function dy(e){var t=e.grouping===void 0||e.thousands===void 0?oh:ey(cy.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?oh:ry(cy.call(e.numerals,String)),i=e.percent===void 0?"%":e.percent+"",u=e.minus===void 0?"\u2212":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function s(b){b=Br(b);var v=b.fill,M=b.align,A=b.sign,N=b.symbol,C=b.zero,D=b.width,B=b.comma,F=b.precision,R=b.trim,z=b.type;z==="n"?(B=!0,z="g"):ah[z]||(F===void 0&&(F=12),R=!0,z="g"),(C||v==="0"&&M==="=")&&(C=!0,v="0",M="=");var L=N==="$"?r:N==="#"&&/[boxX]/.test(z)?"0"+z.toLowerCase():"",$=N==="$"?n:/[%p]/.test(z)?i:"",G=ah[z],ue=/[defgprs%]/.test(z);F=F===void 0?6:/[gprs]/.test(z)?Math.max(1,Math.min(21,F)):Math.max(0,Math.min(20,F));function ne(U){var Z=L,K=$,H,te,j;if(z==="c")K=G(U)+K,U="";else{U=+U;var X=U<0||1/U<0;if(U=isNaN(U)?l:G(Math.abs(U),F),R&&(U=ay(U)),X&&+U==0&&A!=="+"&&(X=!1),Z=(X?A==="("?A:u:A==="-"||A==="("?"":A)+Z,K=(z==="s"?sy[8+th/3]:"")+K+(X&&A==="("?")":""),ue){for(H=-1,te=U.length;++H<te;)if(j=U.charCodeAt(H),48>j||j>57){K=(j===46?a+U.slice(H+1):U.slice(H))+K,U=U.slice(0,H);break}}}B&&!C&&(U=t(U,1/0));var ee=Z.length+U.length+K.length,J=ee<D?new Array(D-ee+1).join(v):"";switch(B&&C&&(U=t(J+U,J.length?D-K.length:1/0),J=""),M){case"<":U=Z+U+K+J;break;case"=":U=Z+J+U+K;break;case"^":U=J.slice(0,ee=J.length>>1)+Z+U+K+J.slice(ee);break;default:U=J+Z+U+K;break}return o(U)}return ne.toString=function(){return b+""},ne}function h(b,v){var M=s((b=Br(b),b.type="f",b)),A=Math.max(-8,Math.min(8,Math.floor(Or(v)/3)))*3,N=Math.pow(10,-A),C=sy[8+A/3];return function(D){return M(N*D)+C}}return{format:s,formatPrefix:h}}var cy,sy,my=T(()=>{mu();ty();ny();eh();oy();fy();rh();ly();cy=Array.prototype.map,sy=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"]});function ih(e){return Zf=dy(e),Fr=Zf.format,Jf=Zf.formatPrefix,Zf}var Zf,Fr,Jf,hy=T(()=>{my();ih({thousands:",",grouping:[3],currency:["$",""]})});function uh(e){return Math.max(0,-Or(Math.abs(e)))}var py=T(()=>{mu()});function fh(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Or(t)/3)))*3-Or(Math.abs(e)))}var gy=T(()=>{mu()});function lh(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Or(t)-Or(e))+1}var vy=T(()=>{mu()});var el=T(()=>{hy();eh();py();gy();vy()});function hu(e,t,r,n){var a=Vm(e,t,r),o;switch(n=Br(n??",f"),n.type){case"s":{var i=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(o=fh(a,i))&&(n.precision=o),Jf(n,i)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(o=lh(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=o-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(o=uh(a))&&(n.precision=o-(n.type==="%")*2);break}}return Fr(n)}var ch=T(()=>{Mr();el()});function Bt(e){var t=e.domain;return e.ticks=function(r){var n=t();return Sa(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return hu(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,o=n.length-1,i=n[a],u=n[o],l,s,h=10;for(u<i&&(s=i,i=u,u=s,s=a,a=o,o=s);h-- >0;){if(s=Of(i,u,r),s===l)return n[a]=i,n[o]=u,t(n);if(s>0)i=Math.floor(i/s)*s,u=Math.ceil(u/s)*s;else if(s<0)i=Math.ceil(i*s)/s,u=Math.floor(u*s)/s;else break;l=s}return e},e}function Hr(){var e=Na();return e.copy=function(){return Rr(e,Hr())},Ze.apply(e,arguments),Bt(e)}var dn=T(()=>{Mr();Lr();Ct();ch()});function tl(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Rn),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return tl(e).unknown(t)},e=arguments.length?Array.from(e,Rn):[0,1],Bt(r)}var xy=T(()=>{dn();Qf()});function pu(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],o=e[n],i;return o<a&&(i=r,r=n,n=i,i=a,a=o,o=i),e[r]=t.floor(a),e[n]=t.ceil(o),e}var sh=T(()=>{});function by(e){return Math.log(e)}function yy(e){return Math.exp(e)}function _T(e){return-Math.log(-e)}function ST(e){return-Math.exp(-e)}function MT(e){return isFinite(e)?+("1e"+e):e<0?0:e}function AT(e){return e===10?MT:e===Math.E?Math.exp:t=>Math.pow(e,t)}function CT(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function wy(e){return(t,r)=>-e(-t,r)}function gu(e){let t=e(by,yy),r=t.domain,n=10,a,o;function i(){return a=CT(n),o=AT(n),r()[0]<0?(a=wy(a),o=wy(o),e(_T,ST)):e(by,yy),t}return t.base=function(u){return arguments.length?(n=+u,i()):n},t.domain=function(u){return arguments.length?(r(u),i()):r()},t.ticks=u=>{let l=r(),s=l[0],h=l[l.length-1],b=h<s;b&&([s,h]=[h,s]);let v=a(s),M=a(h),A,N,C=u==null?10:+u,D=[];if(!(n%1)&&M-v<C){if(v=Math.floor(v),M=Math.ceil(M),s>0){for(;v<=M;++v)for(A=1;A<n;++A)if(N=v<0?A/o(-v):A*o(v),!(N<s)){if(N>h)break;D.push(N)}}else for(;v<=M;++v)for(A=n-1;A>=1;--A)if(N=v>0?A/o(-v):A*o(v),!(N<s)){if(N>h)break;D.push(N)}D.length*2<C&&(D=Sa(s,h,C))}else D=Sa(v,M,Math.min(M-v,C)).map(o);return b?D.reverse():D},t.tickFormat=(u,l)=>{if(u==null&&(u=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=Br(l)).precision==null&&(l.trim=!0),l=Fr(l)),u===1/0)return l;let s=Math.max(1,n*u/t.ticks().length);return h=>{let b=h/o(Math.round(a(h)));return b*n<n-.5&&(b*=n),b<=s?l(h):""}},t.nice=()=>r(pu(r(),{floor:u=>o(Math.floor(a(u))),ceil:u=>o(Math.ceil(a(u)))})),t}function rl(){let e=gu(Va()).domain([1,10]);return e.copy=()=>Rr(e,rl()).base(e.base()),Ze.apply(e,arguments),e}var nl=T(()=>{Mr();el();sh();Lr();Ct()});function _y(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function Sy(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function vu(e){var t=1,r=e(_y(t),Sy(t));return r.constant=function(n){return arguments.length?e(_y(t=+n),Sy(t)):t},Bt(r)}function al(){var e=vu(Va());return e.copy=function(){return Rr(e,al()).constant(e.constant())},Ze.apply(e,arguments)}var ol=T(()=>{dn();Lr();Ct()});function My(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function kT(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function TT(e){return e<0?-e*e:e*e}function xu(e){var t=e(ut,ut),r=1;function n(){return r===1?e(ut,ut):r===.5?e(kT,TT):e(My(r),My(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},Bt(t)}function bu(){var e=xu(Va());return e.copy=function(){return Rr(e,bu()).exponent(e.exponent())},Ze.apply(e,arguments),e}function Ay(){return bu.apply(null,arguments).exponent(.5)}var il=T(()=>{dn();Lr();Ct()});function Cy(e){return Math.sign(e)*e*e}function VT(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function ul(){var e=Na(),t=[0,1],r=!1,n;function a(o){var i=VT(e(o));return isNaN(i)?n:r?Math.round(i):i}return a.invert=function(o){return e.invert(Cy(o))},a.domain=function(o){return arguments.length?(e.domain(o),a):e.domain()},a.range=function(o){return arguments.length?(e.range((t=Array.from(o,Rn)).map(Cy)),a):t.slice()},a.rangeRound=function(o){return a.range(o).round(!0)},a.round=function(o){return arguments.length?(r=!!o,a):r},a.clamp=function(o){return arguments.length?(e.clamp(o),a):e.clamp()},a.unknown=function(o){return arguments.length?(n=o,a):n},a.copy=function(){return ul(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Ze.apply(a,arguments),Bt(a)}var ky=T(()=>{Lr();Ct();dn();Qf()});function fl(){var e=[],t=[],r=[],n;function a(){var i=0,u=Math.max(1,t.length);for(r=new Array(u-1);++i<u;)r[i-1]=Nm(e,i/u);return o}function o(i){return i==null||isNaN(i=+i)?n:t[Sr(r,i)]}return o.invertExtent=function(i){var u=t.indexOf(i);return u<0?[NaN,NaN]:[u>0?r[u-1]:e[0],u<r.length?r[u]:e[e.length-1]]},o.domain=function(i){if(!arguments.length)return e.slice();e=[];for(let u of i)u!=null&&!isNaN(u=+u)&&e.push(u);return e.sort($t),a()},o.range=function(i){return arguments.length?(t=Array.from(i),a()):t.slice()},o.unknown=function(i){return arguments.length?(n=i,o):n},o.quantiles=function(){return r.slice()},o.copy=function(){return fl().domain(e).range(t).unknown(n)},Ze.apply(o,arguments)}var Ty=T(()=>{Mr();Ct()});function ll(){var e=0,t=1,r=1,n=[.5],a=[0,1],o;function i(l){return l!=null&&l<=l?a[Sr(n,l,0,r)]:o}function u(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*t-(l-r)*e)/(r+1);return i}return i.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,u()):[e,t]},i.range=function(l){return arguments.length?(r=(a=Array.from(l)).length-1,u()):a.slice()},i.invertExtent=function(l){var s=a.indexOf(l);return s<0?[NaN,NaN]:s<1?[e,n[0]]:s>=r?[n[r-1],t]:[n[s-1],n[s]]},i.unknown=function(l){return arguments.length&&(o=l),i},i.thresholds=function(){return n.slice()},i.copy=function(){return ll().domain([e,t]).range(a).unknown(o)},Ze.apply(Bt(i),arguments)}var Vy=T(()=>{Mr();dn();Ct()});function cl(){var e=[.5],t=[0,1],r,n=1;function a(o){return o!=null&&o<=o?t[Sr(e,o,0,n)]:r}return a.domain=function(o){return arguments.length?(e=Array.from(o),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(o){return arguments.length?(t=Array.from(o),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(o){var i=t.indexOf(o);return[e[i-1],e[i]]},a.unknown=function(o){return arguments.length?(r=o,a):r},a.copy=function(){return cl().domain(e).range(t).unknown(r)},Ze.apply(a,arguments)}var Ny=T(()=>{Mr();Ct()});function Ve(e,t,r,n){function a(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return a.floor=function(o){return e(o=new Date(+o)),o},a.ceil=function(o){return e(o=new Date(o-1)),t(o,1),e(o),o},a.round=function(o){var i=a(o),u=a.ceil(o);return o-i<u-o?i:u},a.offset=function(o,i){return t(o=new Date(+o),i==null?1:Math.floor(i)),o},a.range=function(o,i,u){var l=[],s;if(o=a.ceil(o),u=u==null?1:Math.floor(u),!(o<i)||!(u>0))return l;do l.push(s=new Date(+o)),t(o,u),e(o);while(s<o&&o<i);return l},a.filter=function(o){return Ve(function(i){if(i>=i)for(;e(i),!o(i);)i.setTime(i-1)},function(i,u){if(i>=i)if(u<0)for(;++u<=0;)for(;t(i,-1),!o(i););else for(;--u>=0;)for(;t(i,1),!o(i););})},r&&(a.count=function(o,i){return dh.setTime(+o),mh.setTime(+i),e(dh),e(mh),Math.floor(r(dh,mh))},a.every=function(o){return o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?a.filter(n?function(i){return n(i)%o===0}:function(i){return a.count(0,i)%o===0}):a}),a}var dh,mh,Vt=T(()=>{dh=new Date,mh=new Date});var sl,yu,hh,ph=T(()=>{Vt();sl=Ve(function(){},function(e,t){e.setTime(+e+t)},function(e,t){return t-e});sl.every=function(e){return e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Ve(function(t){t.setTime(Math.floor(t/e)*e)},function(t,r){t.setTime(+t+r*e)},function(t,r){return(r-t)/e}):sl};yu=sl,hh=sl.range});var Dy,lr,gh,vh=T(()=>{Vt();Dy=Ve(function(e){e.setTime(e-e.getMilliseconds())},function(e,t){e.setTime(+e+t*1e3)},function(e,t){return(t-e)/1e3},function(e){return e.getUTCSeconds()}),lr=Dy,gh=Dy.range});var Ey,Do,Iy,xh=T(()=>{Vt();Ey=Ve(function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*1e3)},function(e,t){e.setTime(+e+t*6e4)},function(e,t){return(t-e)/6e4},function(e){return e.getMinutes()}),Do=Ey,Iy=Ey.range});var Py,Eo,zy,bh=T(()=>{Vt();Py=Ve(function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*1e3-e.getMinutes()*6e4)},function(e,t){e.setTime(+e+t*36e5)},function(e,t){return(t-e)/36e5},function(e){return e.getHours()}),Eo=Py,zy=Py.range});var Ry,mn,Ly,wh=T(()=>{Vt();Ry=Ve(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*6e4)/864e5,e=>e.getDate()-1),mn=Ry,Ly=Ry.range});function Pa(e){return Ve(function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},function(t,r){t.setDate(t.getDate()+r*7)},function(t,r){return(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*6e4)/6048e5})}var qr,za,_h,Sh,hn,Mh,Ah,Ch,By,Fy,Hy,Yy,qy,Wy,kh=T(()=>{Vt();qr=Pa(0),za=Pa(1),_h=Pa(2),Sh=Pa(3),hn=Pa(4),Mh=Pa(5),Ah=Pa(6),Ch=qr.range,By=za.range,Fy=_h.range,Hy=Sh.range,Yy=hn.range,qy=Mh.range,Wy=Ah.range});var $y,Io,Gy,Th=T(()=>{Vt();$y=Ve(function(e){e.setDate(1),e.setHours(0,0,0,0)},function(e,t){e.setMonth(e.getMonth()+t)},function(e,t){return t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12},function(e){return e.getMonth()}),Io=$y,Gy=$y.range});var Vh,cr,Uy,Nh=T(()=>{Vt();Vh=Ve(function(e){e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e,t){return t.getFullYear()-e.getFullYear()},function(e){return e.getFullYear()});Vh.every=function(e){return!isFinite(e=Math.floor(e))||!(e>0)?null:Ve(function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,r){t.setFullYear(t.getFullYear()+r*e)})};cr=Vh,Uy=Vh.range});var Xy,Po,jy,Dh=T(()=>{Vt();Xy=Ve(function(e){e.setUTCSeconds(0,0)},function(e,t){e.setTime(+e+t*6e4)},function(e,t){return(t-e)/6e4},function(e){return e.getUTCMinutes()}),Po=Xy,jy=Xy.range});var Qy,zo,Ky,Eh=T(()=>{Vt();Qy=Ve(function(e){e.setUTCMinutes(0,0,0)},function(e,t){e.setTime(+e+t*36e5)},function(e,t){return(t-e)/36e5},function(e){return e.getUTCHours()}),zo=Qy,Ky=Qy.range});var Zy,pn,Jy,Ih=T(()=>{Vt();Zy=Ve(function(e){e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+t)},function(e,t){return(t-e)/864e5},function(e){return e.getUTCDate()-1}),pn=Zy,Jy=Zy.range});function Ra(e){return Ve(function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},function(t,r){t.setUTCDate(t.getUTCDate()+r*7)},function(t,r){return(r-t)/6048e5})}var Wr,La,Ph,zh,gn,Rh,Lh,Oh,e2,t2,r2,n2,a2,o2,Bh=T(()=>{Vt();Wr=Ra(0),La=Ra(1),Ph=Ra(2),zh=Ra(3),gn=Ra(4),Rh=Ra(5),Lh=Ra(6),Oh=Wr.range,e2=La.range,t2=Ph.range,r2=zh.range,n2=gn.range,a2=Rh.range,o2=Lh.range});var i2,Ro,u2,Fh=T(()=>{Vt();i2=Ve(function(e){e.setUTCDate(1),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCMonth(e.getUTCMonth()+t)},function(e,t){return t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12},function(e){return e.getUTCMonth()}),Ro=i2,u2=i2.range});var Hh,sr,f2,Yh=T(()=>{Vt();Hh=Ve(function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)},function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()},function(e){return e.getUTCFullYear()});Hh.every=function(e){return!isFinite(e=Math.floor(e))||!(e>0)?null:Ve(function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,r){t.setUTCFullYear(t.getUTCFullYear()+r*e)})};sr=Hh,f2=Hh.range});function dl(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}var l2=T(()=>{});function ml(e){let t=e,r=e,n=e;e.length!==2&&(t=(u,l)=>e(u)-l,r=dl,n=(u,l)=>dl(e(u),l));function a(u,l,s=0,h=u.length){if(s<h){if(r(l,l)!==0)return h;do{let b=s+h>>>1;n(u[b],l)<0?s=b+1:h=b}while(s<h)}return s}function o(u,l,s=0,h=u.length){if(s<h){if(r(l,l)!==0)return h;do{let b=s+h>>>1;n(u[b],l)<=0?s=b+1:h=b}while(s<h)}return s}function i(u,l,s=0,h=u.length){let b=a(u,l,s,h-1);return b>s&&t(u[b-1],l)>-t(u[b],l)?b-1:b}return{left:a,center:i,right:o}}var c2=T(()=>{l2()});function hl(e,t,r){var n=Math.abs(t-e)/Math.max(0,r),a=Math.pow(10,Math.floor(Math.log(n)/Math.LN10)),o=n/a;return o>=NT?a*=10:o>=DT?a*=5:o>=ET&&(a*=2),t<e?-a:a}var NT,DT,ET,s2=T(()=>{NT=Math.sqrt(50),DT=Math.sqrt(10),ET=Math.sqrt(2)});var d2=T(()=>{c2();s2()});function h2(e,t,r,n,a,o){let i=[[lr,1,1e3],[lr,5,5*1e3],[lr,15,15*1e3],[lr,30,30*1e3],[o,1,6e4],[o,5,5*6e4],[o,15,15*6e4],[o,30,30*6e4],[a,1,36e5],[a,3,3*36e5],[a,6,6*36e5],[a,12,12*36e5],[n,1,864e5],[n,2,2*864e5],[r,1,6048e5],[t,1,2592e6],[t,3,3*2592e6],[e,1,31536e6]];function u(s,h,b){let v=h<s;v&&([s,h]=[h,s]);let M=b&&typeof b.range=="function"?b:l(s,h,b),A=M?M.range(s,+h+1):[];return v?A.reverse():A}function l(s,h,b){let v=Math.abs(h-s)/b,M=ml(([,,C])=>C).right(i,v);if(M===i.length)return e.every(hl(s/31536e6,h/31536e6,b));if(M===0)return yu.every(Math.max(hl(s,h,b),1));let[A,N]=i[v/i[M-1][2]<i[M][2]/v?M-1:M];return A.every(N)}return[u,l]}var pl,gl,vl,xl,p2=T(()=>{d2();ph();vh();xh();bh();wh();kh();Th();Nh();Dh();Eh();Ih();Bh();Fh();Yh();[pl,gl]=h2(sr,Ro,Wr,pn,zo,Po),[vl,xl]=h2(cr,Io,qr,mn,Eo,Do)});var g2={};At(g2,{timeDay:()=>mn,timeDays:()=>Ly,timeFriday:()=>Mh,timeFridays:()=>qy,timeHour:()=>Eo,timeHours:()=>zy,timeInterval:()=>Ve,timeMillisecond:()=>yu,timeMilliseconds:()=>hh,timeMinute:()=>Do,timeMinutes:()=>Iy,timeMonday:()=>za,timeMondays:()=>By,timeMonth:()=>Io,timeMonths:()=>Gy,timeSaturday:()=>Ah,timeSaturdays:()=>Wy,timeSecond:()=>lr,timeSeconds:()=>gh,timeSunday:()=>qr,timeSundays:()=>Ch,timeThursday:()=>hn,timeThursdays:()=>Yy,timeTickInterval:()=>xl,timeTicks:()=>vl,timeTuesday:()=>_h,timeTuesdays:()=>Fy,timeWednesday:()=>Sh,timeWednesdays:()=>Hy,timeWeek:()=>qr,timeWeeks:()=>Ch,timeYear:()=>cr,timeYears:()=>Uy,utcDay:()=>pn,utcDays:()=>Jy,utcFriday:()=>Rh,utcFridays:()=>a2,utcHour:()=>zo,utcHours:()=>Ky,utcMillisecond:()=>yu,utcMilliseconds:()=>hh,utcMinute:()=>Po,utcMinutes:()=>jy,utcMonday:()=>La,utcMondays:()=>e2,utcMonth:()=>Ro,utcMonths:()=>u2,utcSaturday:()=>Lh,utcSaturdays:()=>o2,utcSecond:()=>lr,utcSeconds:()=>gh,utcSunday:()=>Wr,utcSundays:()=>Oh,utcThursday:()=>gn,utcThursdays:()=>n2,utcTickInterval:()=>gl,utcTicks:()=>pl,utcTuesday:()=>Ph,utcTuesdays:()=>t2,utcWednesday:()=>zh,utcWednesdays:()=>r2,utcWeek:()=>Wr,utcWeeks:()=>Oh,utcYear:()=>sr,utcYears:()=>f2});var Lo=T(()=>{Vt();ph();vh();xh();bh();wh();kh();Th();Nh();Dh();Eh();Ih();Bh();Fh();Yh();p2()});function qh(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Wh(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function wu(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function $h(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,o=e.days,i=e.shortDays,u=e.months,l=e.shortMonths,s=_u(a),h=Su(a),b=_u(o),v=Su(o),M=_u(i),A=Su(i),N=_u(u),C=Su(u),D=_u(l),B=Su(l),F={a:X,A:ee,b:J,B:ae,c:null,d:_2,e:_2,f:rV,g:dV,G:hV,H:JT,I:eV,j:tV,L:k2,m:nV,M:aV,p:se,q:de,Q:A2,s:C2,S:oV,u:iV,U:uV,V:fV,w:lV,W:cV,x:null,X:null,y:sV,Y:mV,Z:pV,"%":M2},R={a:re,A:me,b:Me,B:Oe,c:null,d:S2,e:S2,f:bV,g:VV,G:DV,H:gV,I:vV,j:xV,L:V2,m:yV,M:wV,p:Ne,q:Ue,Q:A2,s:C2,S:_V,u:SV,U:MV,V:AV,w:CV,W:kV,x:null,X:null,y:TV,Y:NV,Z:EV,"%":M2},z={a:ne,A:U,b:Z,B:K,c:H,d:y2,e:y2,f:jT,g:b2,G:x2,H:w2,I:w2,j:$T,L:XT,m:WT,M:GT,p:ue,q:qT,Q:KT,s:ZT,S:UT,u:OT,U:BT,V:FT,w:LT,W:HT,x:te,X:j,y:b2,Y:x2,Z:YT,"%":QT};F.x=L(r,F),F.X=L(n,F),F.c=L(t,F),R.x=L(r,R),R.X=L(n,R),R.c=L(t,R);function L(le,_e){return function(be){var ie=[],Xe=-1,Be=0,vt=le.length,nt,xe,Qe;for(be instanceof Date||(be=new Date(+be));++Xe<vt;)le.charCodeAt(Xe)===37&&(ie.push(le.slice(Be,Xe)),(xe=v2[nt=le.charAt(++Xe)])!=null?nt=le.charAt(++Xe):xe=nt==="e"?" ":"0",(Qe=_e[nt])&&(nt=Qe(be,xe)),ie.push(nt),Be=Xe+1);return ie.push(le.slice(Be,Xe)),ie.join("")}}function $(le,_e){return function(be){var ie=wu(1900,void 0,1),Xe=G(ie,le,be+="",0),Be,vt;if(Xe!=be.length)return null;if("Q"in ie)return new Date(ie.Q);if("s"in ie)return new Date(ie.s*1e3+("L"in ie?ie.L:0));if(_e&&!("Z"in ie)&&(ie.Z=0),"p"in ie&&(ie.H=ie.H%12+ie.p*12),ie.m===void 0&&(ie.m="q"in ie?ie.q:0),"V"in ie){if(ie.V<1||ie.V>53)return null;"w"in ie||(ie.w=1),"Z"in ie?(Be=Wh(wu(ie.y,0,1)),vt=Be.getUTCDay(),Be=vt>4||vt===0?La.ceil(Be):La(Be),Be=pn.offset(Be,(ie.V-1)*7),ie.y=Be.getUTCFullYear(),ie.m=Be.getUTCMonth(),ie.d=Be.getUTCDate()+(ie.w+6)%7):(Be=qh(wu(ie.y,0,1)),vt=Be.getDay(),Be=vt>4||vt===0?za.ceil(Be):za(Be),Be=mn.offset(Be,(ie.V-1)*7),ie.y=Be.getFullYear(),ie.m=Be.getMonth(),ie.d=Be.getDate()+(ie.w+6)%7)}else("W"in ie||"U"in ie)&&("w"in ie||(ie.w="u"in ie?ie.u%7:"W"in ie?1:0),vt="Z"in ie?Wh(wu(ie.y,0,1)).getUTCDay():qh(wu(ie.y,0,1)).getDay(),ie.m=0,ie.d="W"in ie?(ie.w+6)%7+ie.W*7-(vt+5)%7:ie.w+ie.U*7-(vt+6)%7);return"Z"in ie?(ie.H+=ie.Z/100|0,ie.M+=ie.Z%100,Wh(ie)):qh(ie)}}function G(le,_e,be,ie){for(var Xe=0,Be=_e.length,vt=be.length,nt,xe;Xe<Be;){if(ie>=vt)return-1;if(nt=_e.charCodeAt(Xe++),nt===37){if(nt=_e.charAt(Xe++),xe=z[nt in v2?_e.charAt(Xe++):nt],!xe||(ie=xe(le,be,ie))<0)return-1}else if(nt!=be.charCodeAt(ie++))return-1}return ie}function ue(le,_e,be){var ie=s.exec(_e.slice(be));return ie?(le.p=h.get(ie[0].toLowerCase()),be+ie[0].length):-1}function ne(le,_e,be){var ie=M.exec(_e.slice(be));return ie?(le.w=A.get(ie[0].toLowerCase()),be+ie[0].length):-1}function U(le,_e,be){var ie=b.exec(_e.slice(be));return ie?(le.w=v.get(ie[0].toLowerCase()),be+ie[0].length):-1}function Z(le,_e,be){var ie=D.exec(_e.slice(be));return ie?(le.m=B.get(ie[0].toLowerCase()),be+ie[0].length):-1}function K(le,_e,be){var ie=N.exec(_e.slice(be));return ie?(le.m=C.get(ie[0].toLowerCase()),be+ie[0].length):-1}function H(le,_e,be){return G(le,t,_e,be)}function te(le,_e,be){return G(le,r,_e,be)}function j(le,_e,be){return G(le,n,_e,be)}function X(le){return i[le.getDay()]}function ee(le){return o[le.getDay()]}function J(le){return l[le.getMonth()]}function ae(le){return u[le.getMonth()]}function se(le){return a[+(le.getHours()>=12)]}function de(le){return 1+~~(le.getMonth()/3)}function re(le){return i[le.getUTCDay()]}function me(le){return o[le.getUTCDay()]}function Me(le){return l[le.getUTCMonth()]}function Oe(le){return u[le.getUTCMonth()]}function Ne(le){return a[+(le.getUTCHours()>=12)]}function Ue(le){return 1+~~(le.getUTCMonth()/3)}return{format:function(le){var _e=L(le+="",F);return _e.toString=function(){return le},_e},parse:function(le){var _e=$(le+="",!1);return _e.toString=function(){return le},_e},utcFormat:function(le){var _e=L(le+="",R);return _e.toString=function(){return le},_e},utcParse:function(le){var _e=$(le+="",!0);return _e.toString=function(){return le},_e}}}function He(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",o=a.length;return n+(o<r?new Array(r-o+1).join(t)+a:a)}function RT(e){return e.replace(zT,"\\$&")}function _u(e){return new RegExp("^(?:"+e.map(RT).join("|")+")","i")}function Su(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function LT(e,t,r){var n=ct.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function OT(e,t,r){var n=ct.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function BT(e,t,r){var n=ct.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function FT(e,t,r){var n=ct.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function HT(e,t,r){var n=ct.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function x2(e,t,r){var n=ct.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function b2(e,t,r){var n=ct.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function YT(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function qT(e,t,r){var n=ct.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function WT(e,t,r){var n=ct.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function y2(e,t,r){var n=ct.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function $T(e,t,r){var n=ct.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function w2(e,t,r){var n=ct.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function GT(e,t,r){var n=ct.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function UT(e,t,r){var n=ct.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function XT(e,t,r){var n=ct.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function jT(e,t,r){var n=ct.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function QT(e,t,r){var n=PT.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function KT(e,t,r){var n=ct.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function ZT(e,t,r){var n=ct.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function _2(e,t){return He(e.getDate(),t,2)}function JT(e,t){return He(e.getHours(),t,2)}function eV(e,t){return He(e.getHours()%12||12,t,2)}function tV(e,t){return He(1+mn.count(cr(e),e),t,3)}function k2(e,t){return He(e.getMilliseconds(),t,3)}function rV(e,t){return k2(e,t)+"000"}function nV(e,t){return He(e.getMonth()+1,t,2)}function aV(e,t){return He(e.getMinutes(),t,2)}function oV(e,t){return He(e.getSeconds(),t,2)}function iV(e){var t=e.getDay();return t===0?7:t}function uV(e,t){return He(qr.count(cr(e)-1,e),t,2)}function T2(e){var t=e.getDay();return t>=4||t===0?hn(e):hn.ceil(e)}function fV(e,t){return e=T2(e),He(hn.count(cr(e),e)+(cr(e).getDay()===4),t,2)}function lV(e){return e.getDay()}function cV(e,t){return He(za.count(cr(e)-1,e),t,2)}function sV(e,t){return He(e.getFullYear()%100,t,2)}function dV(e,t){return e=T2(e),He(e.getFullYear()%100,t,2)}function mV(e,t){return He(e.getFullYear()%1e4,t,4)}function hV(e,t){var r=e.getDay();return e=r>=4||r===0?hn(e):hn.ceil(e),He(e.getFullYear()%1e4,t,4)}function pV(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+He(t/60|0,"0",2)+He(t%60,"0",2)}function S2(e,t){return He(e.getUTCDate(),t,2)}function gV(e,t){return He(e.getUTCHours(),t,2)}function vV(e,t){return He(e.getUTCHours()%12||12,t,2)}function xV(e,t){return He(1+pn.count(sr(e),e),t,3)}function V2(e,t){return He(e.getUTCMilliseconds(),t,3)}function bV(e,t){return V2(e,t)+"000"}function yV(e,t){return He(e.getUTCMonth()+1,t,2)}function wV(e,t){return He(e.getUTCMinutes(),t,2)}function _V(e,t){return He(e.getUTCSeconds(),t,2)}function SV(e){var t=e.getUTCDay();return t===0?7:t}function MV(e,t){return He(Wr.count(sr(e)-1,e),t,2)}function N2(e){var t=e.getUTCDay();return t>=4||t===0?gn(e):gn.ceil(e)}function AV(e,t){return e=N2(e),He(gn.count(sr(e),e)+(sr(e).getUTCDay()===4),t,2)}function CV(e){return e.getUTCDay()}function kV(e,t){return He(La.count(sr(e)-1,e),t,2)}function TV(e,t){return He(e.getUTCFullYear()%100,t,2)}function VV(e,t){return e=N2(e),He(e.getUTCFullYear()%100,t,2)}function NV(e,t){return He(e.getUTCFullYear()%1e4,t,4)}function DV(e,t){var r=e.getUTCDay();return e=r>=4||r===0?gn(e):gn.ceil(e),He(e.getUTCFullYear()%1e4,t,4)}function EV(){return"+0000"}function M2(){return"%"}function A2(e){return+e}function C2(e){return Math.floor(+e/1e3)}var v2,ct,PT,zT,D2=T(()=>{Lo();v2={"-":"",_:" ",0:"0"},ct=/^\s*\d+/,PT=/^%/,zT=/[\\^$*+?|[\]().{}]/g});function Gh(e){return Oo=$h(e),bl=Oo.format,E2=Oo.parse,yl=Oo.utcFormat,I2=Oo.utcParse,Oo}var Oo,bl,E2,yl,I2,P2=T(()=>{D2();Gh({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]})});var wl=T(()=>{P2()});function IV(e){return new Date(e)}function PV(e){return e instanceof Date?+e:+new Date(+e)}function _l(e,t,r,n,a,o,i,u,l,s){var h=Na(),b=h.invert,v=h.domain,M=s(".%L"),A=s(":%S"),N=s("%I:%M"),C=s("%I %p"),D=s("%a %d"),B=s("%b %d"),F=s("%B"),R=s("%Y");function z(L){return(l(L)<L?M:u(L)<L?A:i(L)<L?N:o(L)<L?C:n(L)<L?a(L)<L?D:B:r(L)<L?F:R)(L)}return h.invert=function(L){return new Date(b(L))},h.domain=function(L){return arguments.length?v(Array.from(L,PV)):v().map(IV)},h.ticks=function(L){var $=v();return e($[0],$[$.length-1],L??10)},h.tickFormat=function(L,$){return $==null?z:s($)},h.nice=function(L){var $=v();return(!L||typeof L.range!="function")&&(L=t($[0],$[$.length-1],L??10)),L?v(pu($,L)):h},h.copy=function(){return Rr(h,_l(e,t,r,n,a,o,i,u,l,s))},h}function Mu(){return Ze.apply(_l(vl,xl,cr,Io,qr,mn,Eo,Do,lr,bl).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}var Uh=T(()=>{Lo();wl();Lr();Ct();sh()});function Xh(){return Ze.apply(_l(pl,gl,sr,Ro,Wr,pn,zo,Po,lr,yl).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}var z2=T(()=>{Lo();wl();Uh();Ct()});function Sl(){var e=0,t=1,r,n,a,o,i=ut,u=!1,l;function s(b){return b==null||isNaN(b=+b)?l:i(a===0?.5:(b=(o(b)-r)*a,u?Math.max(0,Math.min(1,b)):b))}s.domain=function(b){return arguments.length?([e,t]=b,r=o(e=+e),n=o(t=+t),a=r===n?0:1/(n-r),s):[e,t]},s.clamp=function(b){return arguments.length?(u=!!b,s):u},s.interpolator=function(b){return arguments.length?(i=b,s):i};function h(b){return function(v){var M,A;return arguments.length?([M,A]=v,i=b(M,A),s):[i(0),i(1)]}}return s.range=h(tt),s.rangeRound=h(Ta),s.unknown=function(b){return arguments.length?(l=b,s):l},function(b){return o=b,r=b(e),n=b(t),a=r===n?0:1/(n-r),s}}function vn(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function Bo(){var e=Bt(Sl()(ut));return e.copy=function(){return vn(e,Bo())},ur.apply(e,arguments)}function jh(){var e=gu(Sl()).domain([1,10]);return e.copy=function(){return vn(e,jh()).base(e.base())},ur.apply(e,arguments)}function Qh(){var e=vu(Sl());return e.copy=function(){return vn(e,Qh()).constant(e.constant())},ur.apply(e,arguments)}function Ml(){var e=xu(Sl());return e.copy=function(){return vn(e,Ml()).exponent(e.exponent())},ur.apply(e,arguments)}function R2(){return Ml.apply(null,arguments).exponent(.5)}var Kh=T(()=>{Zt();Lr();Ct();dn();nl();ol();il()});function Al(){var e=[],t=ut;function r(n){if(n!=null&&!isNaN(n=+n))return t((Sr(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort($t),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,o)=>Yf(e,o/n))},r.copy=function(){return Al(t).domain(e)},ur.apply(r,arguments)}var L2=T(()=>{Mr();Lr();Ct()});function Cl(){var e=0,t=.5,r=1,n=1,a,o,i,u,l,s=ut,h,b=!1,v;function M(N){return isNaN(N=+N)?v:(N=.5+((N=+h(N))-o)*(n*N<n*o?u:l),s(b?Math.max(0,Math.min(1,N)):N))}M.domain=function(N){return arguments.length?([e,t,r]=N,a=h(e=+e),o=h(t=+t),i=h(r=+r),u=a===o?0:.5/(o-a),l=o===i?0:.5/(i-o),n=o<a?-1:1,M):[e,t,r]},M.clamp=function(N){return arguments.length?(b=!!N,M):b},M.interpolator=function(N){return arguments.length?(s=N,M):s};function A(N){return function(C){var D,B,F;return arguments.length?([D,B,F]=C,s=jf(N,[D,B,F]),M):[s(0),s(.5),s(1)]}}return M.range=A(tt),M.rangeRound=A(Ta),M.unknown=function(N){return arguments.length?(v=N,M):v},function(N){return h=N,a=N(e),o=N(t),i=N(r),u=a===o?0:.5/(o-a),l=o===i?0:.5/(i-o),n=o<a?-1:1,M}}function kl(){var e=Bt(Cl()(ut));return e.copy=function(){return vn(e,kl())},ur.apply(e,arguments)}function Zh(){var e=gu(Cl()).domain([.1,1,10]);return e.copy=function(){return vn(e,Zh()).base(e.base())},ur.apply(e,arguments)}function Jh(){var e=vu(Cl());return e.copy=function(){return vn(e,Jh()).constant(e.constant())},ur.apply(e,arguments)}function Tl(){var e=xu(Cl());return e.copy=function(){return vn(e,Tl()).exponent(e.exponent())},ur.apply(e,arguments)}function O2(){return Tl.apply(null,arguments).exponent(.5)}var B2=T(()=>{Zt();Lr();Ct();dn();nl();Kh();ol();il()});var F2={};At(F2,{scaleBand:()=>Ar,scaleDiverging:()=>kl,scaleDivergingLog:()=>Zh,scaleDivergingPow:()=>Tl,scaleDivergingSqrt:()=>O2,scaleDivergingSymlog:()=>Jh,scaleIdentity:()=>tl,scaleImplicit:()=>Wf,scaleLinear:()=>Hr,scaleLog:()=>rl,scaleOrdinal:()=>fr,scalePoint:()=>nb,scalePow:()=>bu,scaleQuantile:()=>fl,scaleQuantize:()=>ll,scaleRadial:()=>ul,scaleSequential:()=>Bo,scaleSequentialLog:()=>jh,scaleSequentialPow:()=>Ml,scaleSequentialQuantile:()=>Al,scaleSequentialSqrt:()=>R2,scaleSequentialSymlog:()=>Qh,scaleSqrt:()=>Ay,scaleSymlog:()=>al,scaleThreshold:()=>cl,scaleTime:()=>Mu,scaleUtc:()=>Xh,tickFormat:()=>hu});var ep=T(()=>{ab();xy();dn();nl();ol();Dm();il();ky();Ty();Vy();Ny();Uh();z2();Kh();L2();B2();ch()});var Ie,st=T(()=>{Ie=Math.random});var H2,Y2=T(()=>{st();H2=function e(t){function r(n,a){return n=n==null?0:+n,a=a==null?1:+a,arguments.length===1?(a=n,n=0):a-=n,function(){return t()*a+n}}return r.source=e,r}(Ie)});var q2,W2=T(()=>{st();q2=function e(t){function r(n,a){return arguments.length<2&&(a=n,n=0),n=Math.floor(n),a=Math.floor(a)-n,function(){return Math.floor(t()*a+n)}}return r.source=e,r}(Ie)});var Fo,Vl=T(()=>{st();Fo=function e(t){function r(n,a){var o,i;return n=n==null?0:+n,a=a==null?1:+a,function(){var u;if(o!=null)u=o,o=null;else do o=t()*2-1,u=t()*2-1,i=o*o+u*u;while(!i||i>1);return n+a*u*Math.sqrt(-2*Math.log(i)/i)}}return r.source=e,r}(Ie)});var $2,G2=T(()=>{st();Vl();$2=function e(t){var r=Fo.source(t);function n(){var a=r.apply(this,arguments);return function(){return Math.exp(a())}}return n.source=e,n}(Ie)});var Nl,tp=T(()=>{st();Nl=function e(t){function r(n){return(n=+n)<=0?()=>0:function(){for(var a=0,o=n;o>1;--o)a+=t();return a+o*t()}}return r.source=e,r}(Ie)});var U2,X2=T(()=>{st();tp();U2=function e(t){var r=Nl.source(t);function n(a){if((a=+a)==0)return t;var o=r(a);return function(){return o()/a}}return n.source=e,n}(Ie)});var j2,Q2=T(()=>{st();j2=function e(t){function r(n){return function(){return-Math.log1p(-t())/n}}return r.source=e,r}(Ie)});var K2,Z2=T(()=>{st();K2=function e(t){function r(n){if((n=+n)<0)throw new RangeError("invalid alpha");return n=1/-n,function(){return Math.pow(1-t(),n)}}return r.source=e,r}(Ie)});var J2,ew=T(()=>{st();J2=function e(t){function r(n){if((n=+n)<0||n>1)throw new RangeError("invalid p");return function(){return Math.floor(t()+n)}}return r.source=e,r}(Ie)});var Dl,rp=T(()=>{st();Dl=function e(t){function r(n){if((n=+n)<0||n>1)throw new RangeError("invalid p");return n===0?()=>1/0:n===1?()=>1:(n=Math.log1p(-n),function(){return 1+Math.floor(Math.log1p(-t())/n)})}return r.source=e,r}(Ie)});var Ho,El=T(()=>{st();Vl();Ho=function e(t){var r=Fo.source(t)();function n(a,o){if((a=+a)<0)throw new RangeError("invalid k");if(a===0)return()=>0;if(o=o==null?1:+o,a===1)return()=>-Math.log1p(-t())*o;var i=(a<1?a+1:a)-1/3,u=1/(3*Math.sqrt(i)),l=a<1?()=>Math.pow(t(),1/a):()=>1;return function(){do{do var s=r(),h=1+u*s;while(h<=0);h*=h*h;var b=1-t()}while(b>=1-.0331*s*s*s*s&&Math.log(b)>=.5*s*s+i*(1-h+Math.log(h)));return i*h*l()*o}}return n.source=e,n}(Ie)});var Il,np=T(()=>{st();El();Il=function e(t){var r=Ho.source(t);function n(a,o){var i=r(a),u=r(o);return function(){var l=i();return l===0?0:l/(l+u())}}return n.source=e,n}(Ie)});var Pl,ap=T(()=>{st();np();rp();Pl=function e(t){var r=Dl.source(t),n=Il.source(t);function a(o,i){return o=+o,(i=+i)>=1?()=>o:i<=0?()=>0:function(){for(var u=0,l=o,s=i;l*s>16&&l*(1-s)>16;){var h=Math.floor((l+1)*s),b=n(h,l-h+1)();b<=s?(u+=h,l-=h,s=(s-b)/(1-b)):(l=h-1,s/=b)}for(var v=s<.5,M=v?s:1-s,A=r(M),N=A(),C=0;N<=l;++C)N+=A();return u+(v?C:l-C)}}return a.source=e,a}(Ie)});var tw,rw=T(()=>{st();tw=function e(t){function r(n,a,o){var i;return(n=+n)==0?i=u=>-Math.log(u):(n=1/n,i=u=>Math.pow(u,n)),a=a==null?0:+a,o=o==null?1:+o,function(){return a+o*i(-Math.log1p(-t()))}}return r.source=e,r}(Ie)});var nw,aw=T(()=>{st();nw=function e(t){function r(n,a){return n=n==null?0:+n,a=a==null?1:+a,function(){return n+a*Math.tan(Math.PI*t())}}return r.source=e,r}(Ie)});var ow,iw=T(()=>{st();ow=function e(t){function r(n,a){return n=n==null?0:+n,a=a==null?1:+a,function(){var o=t();return n+a*Math.log(o/(1-o))}}return r.source=e,r}(Ie)});var uw,fw=T(()=>{st();ap();El();uw=function e(t){var r=Ho.source(t),n=Pl.source(t);function a(o){return function(){for(var i=0,u=o;u>16;){var l=Math.floor(.875*u),s=r(l)();if(s>u)return i+n(l-1,u/s)();i+=l,u-=s}for(var h=-Math.log1p(-t()),b=0;h<=u;++b)h-=Math.log1p(-t());return i+b}}return a.source=e,a}(Ie)});function op(e=Math.random()){let t=(0<=e&&e<1?e/lw:Math.abs(e))|0;return()=>(t=1664525*t+1013904223|0,lw*(t>>>0))}var lw,cw=T(()=>{lw=23283064365386963e-26});var sw={};At(sw,{randomBates:()=>U2,randomBernoulli:()=>J2,randomBeta:()=>Il,randomBinomial:()=>Pl,randomCauchy:()=>nw,randomExponential:()=>j2,randomGamma:()=>Ho,randomGeometric:()=>Dl,randomInt:()=>q2,randomIrwinHall:()=>Nl,randomLcg:()=>op,randomLogNormal:()=>$2,randomLogistic:()=>ow,randomNormal:()=>Fo,randomPareto:()=>K2,randomPoisson:()=>uw,randomUniform:()=>H2,randomWeibull:()=>tw});var ip=T(()=>{Y2();W2();Vl();G2();X2();tp();Q2();Z2();ew();rp();ap();El();np();rw();aw();iw();fw();cw()});function zV(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.blob()}function dw(e,t){return fetch(e,t).then(zV)}var mw=T(()=>{});function RV(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.arrayBuffer()}function hw(e,t){return fetch(e,t).then(RV)}var pw=T(()=>{});function xw(e){return new Function("d","return {"+e.map(function(t,r){return JSON.stringify(t)+": d["+r+'] || ""'}).join(",")+"}")}function LV(e,t){var r=xw(e);return function(n,a){return t(r(n),a,e)}}function vw(e){var t=Object.create(null),r=[];return e.forEach(function(n){for(var a in n)a in t||r.push(t[a]=a)}),r}function Gt(e,t){var r=e+"",n=r.length;return n<t?new Array(t-n+1).join(0)+r:r}function OV(e){return e<0?"-"+Gt(-e,6):e>9999?"+"+Gt(e,6):Gt(e,4)}function BV(e){var t=e.getUTCHours(),r=e.getUTCMinutes(),n=e.getUTCSeconds(),a=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":OV(e.getUTCFullYear(),4)+"-"+Gt(e.getUTCMonth()+1,2)+"-"+Gt(e.getUTCDate(),2)+(a?"T"+Gt(t,2)+":"+Gt(r,2)+":"+Gt(n,2)+"."+Gt(a,3)+"Z":n?"T"+Gt(t,2)+":"+Gt(r,2)+":"+Gt(n,2)+"Z":r||t?"T"+Gt(t,2)+":"+Gt(r,2)+"Z":"")}function Oa(e){var t=new RegExp('["'+e+`
\r]`),r=e.charCodeAt(0);function n(b,v){var M,A,N=a(b,function(C,D){if(M)return M(C,D-1);A=C,M=v?LV(C,v):xw(C)});return N.columns=A||[],N}function a(b,v){var M=[],A=b.length,N=0,C=0,D,B=A<=0,F=!1;b.charCodeAt(A-1)===Au&&--A,b.charCodeAt(A-1)===lp&&--A;function R(){if(B)return up;if(F)return F=!1,gw;var L,$=N,G;if(b.charCodeAt($)===fp){for(;N++<A&&b.charCodeAt(N)!==fp||b.charCodeAt(++N)===fp;);return(L=N)>=A?B=!0:(G=b.charCodeAt(N++))===Au?F=!0:G===lp&&(F=!0,b.charCodeAt(N)===Au&&++N),b.slice($+1,L-1).replace(/""/g,'"')}for(;N<A;){if((G=b.charCodeAt(L=N++))===Au)F=!0;else if(G===lp)F=!0,b.charCodeAt(N)===Au&&++N;else if(G!==r)continue;return b.slice($,L)}return B=!0,b.slice($,A)}for(;(D=R())!==up;){for(var z=[];D!==gw&&D!==up;)z.push(D),D=R();v&&(z=v(z,C++))==null||M.push(z)}return M}function o(b,v){return b.map(function(M){return v.map(function(A){return h(M[A])}).join(e)})}function i(b,v){return v==null&&(v=vw(b)),[v.map(h).join(e)].concat(o(b,v)).join(`
`)}function u(b,v){return v==null&&(v=vw(b)),o(b,v).join(`
`)}function l(b){return b.map(s).join(`
`)}function s(b){return b.map(h).join(e)}function h(b){return b==null?"":b instanceof Date?BV(b):t.test(b+="")?'"'+b.replace(/"/g,'""')+'"':b}return{parse:n,parseRows:a,format:i,formatBody:u,formatRows:l,formatRow:s,formatValue:h}}var gw,up,fp,Au,lp,zl=T(()=>{gw={},up={},fp=34,Au=10,lp=13});var Ba,cp,FV,HV,YV,qV,WV,$V,bw=T(()=>{zl();Ba=Oa(","),cp=Ba.parse,FV=Ba.parseRows,HV=Ba.format,YV=Ba.formatBody,qV=Ba.formatRows,WV=Ba.formatRow,$V=Ba.formatValue});var Fa,sp,GV,UV,XV,jV,QV,KV,yw=T(()=>{zl();Fa=Oa("	"),sp=Fa.parse,GV=Fa.parseRows,UV=Fa.format,XV=Fa.formatBody,jV=Fa.formatRows,QV=Fa.formatRow,KV=Fa.formatValue});var dp=T(()=>{zl();bw();yw()});function ZV(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.text()}function Ha(e,t){return fetch(e,t).then(ZV)}var Rl=T(()=>{});function ww(e){return function(t,r,n){return arguments.length===2&&typeof r=="function"&&(n=r,r=void 0),Ha(t,r).then(function(a){return e(a,n)})}}function mp(e,t,r,n){arguments.length===3&&typeof r=="function"&&(n=r,r=void 0);var a=Oa(e);return Ha(t,r).then(function(o){return a.parse(o,n)})}var _w,Sw,Mw=T(()=>{dp();Rl();_w=ww(cp),Sw=ww(sp)});function Aw(e,t){return new Promise(function(r,n){var a=new Image;for(var o in t)a[o]=t[o];a.onerror=n,a.onload=function(){r(a)},a.src=e})}var Cw=T(()=>{});function JV(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);if(!(e.status===204||e.status===205))return e.json()}function kw(e,t){return fetch(e,t).then(JV)}var Tw=T(()=>{});function hp(e){return(t,r)=>Ha(t,r).then(n=>new DOMParser().parseFromString(n,e))}var Vw,Nw,Dw,Ew=T(()=>{Rl();Vw=hp("application/xml"),Nw=hp("text/html"),Dw=hp("image/svg+xml")});var Iw={};At(Iw,{blob:()=>dw,buffer:()=>hw,csv:()=>_w,dsv:()=>mp,html:()=>Nw,image:()=>Aw,json:()=>kw,svg:()=>Dw,text:()=>Ha,tsv:()=>Sw,xml:()=>Vw});var pp=T(()=>{mw();pw();Mw();Cw();Tw();Rl();Ew()});function xp(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Pw(){return new xp}var gp,vp,Ya,eN,dr,zw=T(()=>{gp=Math.PI,vp=2*gp,Ya=1e-6,eN=vp-Ya;xp.prototype=Pw.prototype={constructor:xp,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,r,n){this._+="Q"+ +e+","+ +t+","+(this._x1=+r)+","+(this._y1=+n)},bezierCurveTo:function(e,t,r,n,a,o){this._+="C"+ +e+","+ +t+","+ +r+","+ +n+","+(this._x1=+a)+","+(this._y1=+o)},arcTo:function(e,t,r,n,a){e=+e,t=+t,r=+r,n=+n,a=+a;var o=this._x1,i=this._y1,u=r-e,l=n-t,s=o-e,h=i-t,b=s*s+h*h;if(a<0)throw new Error("negative radius: "+a);if(this._x1===null)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(b>Ya)if(!(Math.abs(h*u-l*s)>Ya)||!a)this._+="L"+(this._x1=e)+","+(this._y1=t);else{var v=r-o,M=n-i,A=u*u+l*l,N=v*v+M*M,C=Math.sqrt(A),D=Math.sqrt(b),B=a*Math.tan((gp-Math.acos((A+b-N)/(2*C*D)))/2),F=B/D,R=B/C;Math.abs(F-1)>Ya&&(this._+="L"+(e+F*s)+","+(t+F*h)),this._+="A"+a+","+a+",0,0,"+ +(h*v>s*M)+","+(this._x1=e+R*u)+","+(this._y1=t+R*l)}},arc:function(e,t,r,n,a,o){e=+e,t=+t,r=+r,o=!!o;var i=r*Math.cos(n),u=r*Math.sin(n),l=e+i,s=t+u,h=1^o,b=o?n-a:a-n;if(r<0)throw new Error("negative radius: "+r);this._x1===null?this._+="M"+l+","+s:(Math.abs(this._x1-l)>Ya||Math.abs(this._y1-s)>Ya)&&(this._+="L"+l+","+s),r&&(b<0&&(b=b%vp+vp),b>eN?this._+="A"+r+","+r+",0,1,"+h+","+(e-i)+","+(t-u)+"A"+r+","+r+",0,1,"+h+","+(this._x1=l)+","+(this._y1=s):b>Ya&&(this._+="A"+r+","+r+",0,"+ +(b>=gp)+","+h+","+(this._x1=e+r*Math.cos(a))+","+(this._y1=t+r*Math.sin(a))))},rect:function(e,t,r,n){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +r+"v"+ +n+"h"+-r+"Z"},toString:function(){return this._}};dr=Pw});var Rw={};At(Rw,{path:()=>dr});var Ln=T(()=>{zw()});var Ll,Cu,Ol=T(()=>{Ll="http://www.w3.org/1999/xhtml",Cu={svg:"http://www.w3.org/2000/svg",xhtml:Ll,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"}});function $r(e){var t=e+="",r=t.indexOf(":");return r>=0&&(t=e.slice(0,r))!=="xmlns"&&(e=e.slice(r+1)),Cu.hasOwnProperty(t)?{space:Cu[t],local:e}:e}var Bl=T(()=>{Ol()});function tN(e){return function(){var t=this.ownerDocument,r=this.namespaceURI;return r===Ll&&t.documentElement.namespaceURI===Ll?t.createElement(e):t.createElementNS(r,e)}}function rN(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function On(e){var t=$r(e);return(t.local?rN:tN)(t)}var ku=T(()=>{Bl();Ol()});function nN(){}function Bn(e){return e==null?nN:function(){return this.querySelector(e)}}var Fl=T(()=>{});function Lw(e){typeof e!="function"&&(e=Bn(e));for(var t=this._groups,r=t.length,n=new Array(r),a=0;a<r;++a)for(var o=t[a],i=o.length,u=n[a]=new Array(i),l,s,h=0;h<i;++h)(l=o[h])&&(s=e.call(l,l.__data__,h,o))&&("__data__"in l&&(s.__data__=l.__data__),u[h]=s);return new je(n,this._parents)}var Ow=T(()=>{mr();Fl()});function Tu(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}var bp=T(()=>{});function aN(){return[]}function Yo(e){return e==null?aN:function(){return this.querySelectorAll(e)}}var yp=T(()=>{});function oN(e){return function(){return Tu(e.apply(this,arguments))}}function Bw(e){typeof e=="function"?e=oN(e):e=Yo(e);for(var t=this._groups,r=t.length,n=[],a=[],o=0;o<r;++o)for(var i=t[o],u=i.length,l,s=0;s<u;++s)(l=i[s])&&(n.push(e.call(l,l.__data__,s,i)),a.push(l));return new je(n,a)}var Fw=T(()=>{mr();bp();yp()});function qo(e){return function(){return this.matches(e)}}function Hl(e){return function(t){return t.matches(e)}}var Vu=T(()=>{});function uN(e){return function(){return iN.call(this.children,e)}}function fN(){return this.firstElementChild}function Hw(e){return this.select(e==null?fN:uN(typeof e=="function"?e:Hl(e)))}var iN,Yw=T(()=>{Vu();iN=Array.prototype.find});function cN(){return Array.from(this.children)}function sN(e){return function(){return lN.call(this.children,e)}}function qw(e){return this.selectAll(e==null?cN:sN(typeof e=="function"?e:Hl(e)))}var lN,Ww=T(()=>{Vu();lN=Array.prototype.filter});function $w(e){typeof e!="function"&&(e=qo(e));for(var t=this._groups,r=t.length,n=new Array(r),a=0;a<r;++a)for(var o=t[a],i=o.length,u=n[a]=[],l,s=0;s<i;++s)(l=o[s])&&e.call(l,l.__data__,s,o)&&u.push(l);return new je(n,this._parents)}var Gw=T(()=>{mr();Vu()});function Yl(e){return new Array(e.length)}var wp=T(()=>{});function Uw(){return new je(this._enter||this._groups.map(Yl),this._parents)}function Nu(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}var _p=T(()=>{wp();mr();Nu.prototype={constructor:Nu,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}}});function Xw(e){return function(){return e}}var jw=T(()=>{});function dN(e,t,r,n,a,o){for(var i=0,u,l=t.length,s=o.length;i<s;++i)(u=t[i])?(u.__data__=o[i],n[i]=u):r[i]=new Nu(e,o[i]);for(;i<l;++i)(u=t[i])&&(a[i]=u)}function mN(e,t,r,n,a,o,i){var u,l,s=new Map,h=t.length,b=o.length,v=new Array(h),M;for(u=0;u<h;++u)(l=t[u])&&(v[u]=M=i.call(l,l.__data__,u,t)+"",s.has(M)?a[u]=l:s.set(M,l));for(u=0;u<b;++u)M=i.call(e,o[u],u,o)+"",(l=s.get(M))?(n[u]=l,l.__data__=o[u],s.delete(M)):r[u]=new Nu(e,o[u]);for(u=0;u<h;++u)(l=t[u])&&s.get(v[u])===l&&(a[u]=l)}function hN(e){return e.__data__}function Qw(e,t){if(!arguments.length)return Array.from(this,hN);var r=t?mN:dN,n=this._parents,a=this._groups;typeof e!="function"&&(e=Xw(e));for(var o=a.length,i=new Array(o),u=new Array(o),l=new Array(o),s=0;s<o;++s){var h=n[s],b=a[s],v=b.length,M=pN(e.call(h,h&&h.__data__,s,n)),A=M.length,N=u[s]=new Array(A),C=i[s]=new Array(A),D=l[s]=new Array(v);r(h,b,N,C,D,M,t);for(var B=0,F=0,R,z;B<A;++B)if(R=N[B]){for(B>=F&&(F=B+1);!(z=C[F])&&++F<A;);R._next=z||null}}return i=new je(i,n),i._enter=u,i._exit=l,i}function pN(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}var Kw=T(()=>{mr();_p();jw()});function Zw(){return new je(this._exit||this._groups.map(Yl),this._parents)}var Jw=T(()=>{wp();mr()});function e_(e,t,r){var n=this.enter(),a=this,o=this.exit();return typeof e=="function"?(n=e(n),n&&(n=n.selection())):n=n.append(e+""),t!=null&&(a=t(a),a&&(a=a.selection())),r==null?o.remove():r(o),n&&a?n.merge(a).order():a}var t_=T(()=>{});function r_(e){for(var t=e.selection?e.selection():e,r=this._groups,n=t._groups,a=r.length,o=n.length,i=Math.min(a,o),u=new Array(a),l=0;l<i;++l)for(var s=r[l],h=n[l],b=s.length,v=u[l]=new Array(b),M,A=0;A<b;++A)(M=s[A]||h[A])&&(v[A]=M);for(;l<a;++l)u[l]=r[l];return new je(u,this._parents)}var n_=T(()=>{mr()});function a_(){for(var e=this._groups,t=-1,r=e.length;++t<r;)for(var n=e[t],a=n.length-1,o=n[a],i;--a>=0;)(i=n[a])&&(o&&i.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(i,o),o=i);return this}var o_=T(()=>{});function i_(e){e||(e=gN);function t(b,v){return b&&v?e(b.__data__,v.__data__):!b-!v}for(var r=this._groups,n=r.length,a=new Array(n),o=0;o<n;++o){for(var i=r[o],u=i.length,l=a[o]=new Array(u),s,h=0;h<u;++h)(s=i[h])&&(l[h]=s);l.sort(t)}return new je(a,this._parents).order()}function gN(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}var u_=T(()=>{mr()});function f_(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}var l_=T(()=>{});function c_(){return Array.from(this)}var s_=T(()=>{});function d_(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],a=0,o=n.length;a<o;++a){var i=n[a];if(i)return i}return null}var m_=T(()=>{});function h_(){let e=0;for(let t of this)++e;return e}var p_=T(()=>{});function g_(){return!this.node()}var v_=T(()=>{});function x_(e){for(var t=this._groups,r=0,n=t.length;r<n;++r)for(var a=t[r],o=0,i=a.length,u;o<i;++o)(u=a[o])&&e.call(u,u.__data__,o,a);return this}var b_=T(()=>{});function vN(e){return function(){this.removeAttribute(e)}}function xN(e){return function(){this.removeAttributeNS(e.space,e.local)}}function bN(e,t){return function(){this.setAttribute(e,t)}}function yN(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function wN(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttribute(e):this.setAttribute(e,r)}}function _N(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,r)}}function y_(e,t){var r=$r(e);if(arguments.length<2){var n=this.node();return r.local?n.getAttributeNS(r.space,r.local):n.getAttribute(r)}return this.each((t==null?r.local?xN:vN:typeof t=="function"?r.local?_N:wN:r.local?yN:bN)(r,t))}var w_=T(()=>{Bl()});function Wo(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}var ql=T(()=>{});function SN(e){return function(){this.style.removeProperty(e)}}function MN(e,t,r){return function(){this.style.setProperty(e,t,r)}}function AN(e,t,r){return function(){var n=t.apply(this,arguments);n==null?this.style.removeProperty(e):this.style.setProperty(e,n,r)}}function __(e,t,r){return arguments.length>1?this.each((t==null?SN:typeof t=="function"?AN:MN)(e,t,r??"")):xn(this.node(),e)}function xn(e,t){return e.style.getPropertyValue(t)||Wo(e).getComputedStyle(e,null).getPropertyValue(t)}var Sp=T(()=>{ql()});function CN(e){return function(){delete this[e]}}function kN(e,t){return function(){this[e]=t}}function TN(e,t){return function(){var r=t.apply(this,arguments);r==null?delete this[e]:this[e]=r}}function S_(e,t){return arguments.length>1?this.each((t==null?CN:typeof t=="function"?TN:kN)(e,t)):this.node()[e]}var M_=T(()=>{});function A_(e){return e.trim().split(/^|\s+/)}function Mp(e){return e.classList||new C_(e)}function C_(e){this._node=e,this._names=A_(e.getAttribute("class")||"")}function k_(e,t){for(var r=Mp(e),n=-1,a=t.length;++n<a;)r.add(t[n])}function T_(e,t){for(var r=Mp(e),n=-1,a=t.length;++n<a;)r.remove(t[n])}function VN(e){return function(){k_(this,e)}}function NN(e){return function(){T_(this,e)}}function DN(e,t){return function(){(t.apply(this,arguments)?k_:T_)(this,e)}}function V_(e,t){var r=A_(e+"");if(arguments.length<2){for(var n=Mp(this.node()),a=-1,o=r.length;++a<o;)if(!n.contains(r[a]))return!1;return!0}return this.each((typeof t=="function"?DN:t?VN:NN)(r,t))}var N_=T(()=>{C_.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}}});function EN(){this.textContent=""}function IN(e){return function(){this.textContent=e}}function PN(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function D_(e){return arguments.length?this.each(e==null?EN:(typeof e=="function"?PN:IN)(e)):this.node().textContent}var E_=T(()=>{});function zN(){this.innerHTML=""}function RN(e){return function(){this.innerHTML=e}}function LN(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function I_(e){return arguments.length?this.each(e==null?zN:(typeof e=="function"?LN:RN)(e)):this.node().innerHTML}var P_=T(()=>{});function ON(){this.nextSibling&&this.parentNode.appendChild(this)}function z_(){return this.each(ON)}var R_=T(()=>{});function BN(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function L_(){return this.each(BN)}var O_=T(()=>{});function B_(e){var t=typeof e=="function"?e:On(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}var F_=T(()=>{ku()});function FN(){return null}function H_(e,t){var r=typeof e=="function"?e:On(e),n=t==null?FN:typeof t=="function"?t:Bn(t);return this.select(function(){return this.insertBefore(r.apply(this,arguments),n.apply(this,arguments)||null)})}var Y_=T(()=>{ku();Fl()});function HN(){var e=this.parentNode;e&&e.removeChild(this)}function q_(){return this.each(HN)}var W_=T(()=>{});function YN(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function qN(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function $_(e){return this.select(e?qN:YN)}var G_=T(()=>{});function U_(e){return arguments.length?this.property("__data__",e):this.node().__data__}var X_=T(()=>{});function WN(e){return function(t){e.call(this,t,this.__data__)}}function $N(e){return e.trim().split(/^|\s+/).map(function(t){var r="",n=t.indexOf(".");return n>=0&&(r=t.slice(n+1),t=t.slice(0,n)),{type:t,name:r}})}function GN(e){return function(){var t=this.__on;if(!!t){for(var r=0,n=-1,a=t.length,o;r<a;++r)o=t[r],(!e.type||o.type===e.type)&&o.name===e.name?this.removeEventListener(o.type,o.listener,o.options):t[++n]=o;++n?t.length=n:delete this.__on}}}function UN(e,t,r){return function(){var n=this.__on,a,o=WN(t);if(n){for(var i=0,u=n.length;i<u;++i)if((a=n[i]).type===e.type&&a.name===e.name){this.removeEventListener(a.type,a.listener,a.options),this.addEventListener(a.type,a.listener=o,a.options=r),a.value=t;return}}this.addEventListener(e.type,o,r),a={type:e.type,name:e.name,value:t,listener:o,options:r},n?n.push(a):this.__on=[a]}}function j_(e,t,r){var n=$N(e+""),a,o=n.length,i;if(arguments.length<2){var u=this.node().__on;if(u){for(var l=0,s=u.length,h;l<s;++l)for(a=0,h=u[l];a<o;++a)if((i=n[a]).type===h.type&&i.name===h.name)return h.value}return}for(u=t?UN:GN,a=0;a<o;++a)this.each(u(n[a],t,r));return this}var Q_=T(()=>{});function K_(e,t,r){var n=Wo(e),a=n.CustomEvent;typeof a=="function"?a=new a(t,r):(a=n.document.createEvent("Event"),r?(a.initEvent(t,r.bubbles,r.cancelable),a.detail=r.detail):a.initEvent(t,!1,!1)),e.dispatchEvent(a)}function XN(e,t){return function(){return K_(this,e,t)}}function jN(e,t){return function(){return K_(this,e,t.apply(this,arguments))}}function Z_(e,t){return this.each((typeof t=="function"?jN:XN)(e,t))}var J_=T(()=>{ql()});function*e3(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],a=0,o=n.length,i;a<o;++a)(i=n[a])&&(yield i)}var t3=T(()=>{});function je(e,t){this._groups=e,this._parents=t}function r3(){return new je([[document.documentElement]],Du)}function QN(){return this}var Du,Gr,mr=T(()=>{Ow();Fw();Yw();Ww();Gw();Kw();_p();Jw();t_();n_();o_();u_();l_();s_();m_();p_();v_();b_();w_();Sp();M_();N_();E_();P_();R_();O_();F_();Y_();W_();G_();X_();Q_();J_();t3();Du=[null];je.prototype=r3.prototype={constructor:je,select:Lw,selectAll:Bw,selectChild:Hw,selectChildren:qw,filter:$w,data:Qw,enter:Uw,exit:Zw,join:e_,merge:r_,selection:QN,order:a_,sort:i_,call:f_,nodes:c_,node:d_,size:h_,empty:g_,each:x_,attr:y_,style:__,property:S_,classed:V_,text:D_,html:I_,raise:z_,lower:L_,append:B_,insert:H_,remove:q_,clone:$_,datum:U_,on:j_,dispatch:Z_,[Symbol.iterator]:e3};Gr=r3});function fe(e){return typeof e=="string"?new je([[document.querySelector(e)]],[document.documentElement]):new je([[e]],Du)}var Ap=T(()=>{mr()});function n3(e){return fe(On(e).call(document.documentElement))}var a3=T(()=>{ku();Ap()});function Wl(){return new Cp}function Cp(){this._="@"+(++KN).toString(36)}var KN,o3=T(()=>{KN=0;Cp.prototype=Wl.prototype={constructor:Cp,get:function(e){for(var t=this._;!(t in e);)if(!(e=e.parentNode))return;return e[t]},set:function(e,t){return e[this._]=t},remove:function(e){return this._ in e&&delete e[this._]},toString:function(){return this._}}});function $l(e){let t;for(;t=e.sourceEvent;)e=t;return e}var kp=T(()=>{});function dt(e,t){if(e=$l(e),t===void 0&&(t=e.currentTarget),t){var r=t.ownerSVGElement||t;if(r.createSVGPoint){var n=r.createSVGPoint();return n.x=e.clientX,n.y=e.clientY,n=n.matrixTransform(t.getScreenCTM().inverse()),[n.x,n.y]}if(t.getBoundingClientRect){var a=t.getBoundingClientRect();return[e.clientX-a.left-t.clientLeft,e.clientY-a.top-t.clientTop]}}return[e.pageX,e.pageY]}var Tp=T(()=>{kp()});function i3(e,t){return e.target&&(e=$l(e),t===void 0&&(t=e.currentTarget),e=e.touches||[e]),Array.from(e,r=>dt(r,t))}var u3=T(()=>{Tp();kp()});function Gl(e){return typeof e=="string"?new je([document.querySelectorAll(e)],[document.documentElement]):new je([Tu(e)],Du)}var f3=T(()=>{bp();mr()});var l3={};At(l3,{create:()=>n3,creator:()=>On,local:()=>Wl,matcher:()=>qo,namespace:()=>$r,namespaces:()=>Cu,pointer:()=>dt,pointers:()=>i3,select:()=>fe,selectAll:()=>Gl,selection:()=>Gr,selector:()=>Bn,selectorAll:()=>Yo,style:()=>xn,window:()=>Wo});var Nt=T(()=>{a3();ku();o3();Vu();Bl();Ol();Tp();u3();Ap();f3();mr();Fl();yp();Sp();ql()});function we(e){return function(){return e}}var Fn=T(()=>{});function s3(e){return e>1?0:e<-1?kr:Math.acos(e)}function Np(e){return e>=1?Eu:e<=-1?-Eu:Math.asin(e)}var Vp,_t,Hn,c3,Ul,Cr,qa,mt,kr,Eu,hr,$o=T(()=>{Vp=Math.abs,_t=Math.atan2,Hn=Math.cos,c3=Math.max,Ul=Math.min,Cr=Math.sin,qa=Math.sqrt,mt=1e-12,kr=Math.PI,Eu=kr/2,hr=2*kr});function ZN(e){return e.innerRadius}function JN(e){return e.outerRadius}function eD(e){return e.startAngle}function tD(e){return e.endAngle}function rD(e){return e&&e.padAngle}function nD(e,t,r,n,a,o,i,u){var l=r-e,s=n-t,h=i-a,b=u-o,v=b*l-h*s;if(!(v*v<mt))return v=(h*(t-o)-b*(e-a))/v,[e+v*l,t+v*s]}function Xl(e,t,r,n,a,o,i){var u=e-r,l=t-n,s=(i?o:-o)/qa(u*u+l*l),h=s*l,b=-s*u,v=e+h,M=t+b,A=r+h,N=n+b,C=(v+A)/2,D=(M+N)/2,B=A-v,F=N-M,R=B*B+F*F,z=a-o,L=v*N-A*M,$=(F<0?-1:1)*qa(c3(0,z*z*R-L*L)),G=(L*F-B*$)/R,ue=(-L*B-F*$)/R,ne=(L*F+B*$)/R,U=(-L*B+F*$)/R,Z=G-C,K=ue-D,H=ne-C,te=U-D;return Z*Z+K*K>H*H+te*te&&(G=ne,ue=U),{cx:G,cy:ue,x01:-h,y01:-b,x11:G*(a/z-1),y11:ue*(a/z-1)}}function jl(){var e=ZN,t=JN,r=we(0),n=null,a=eD,o=tD,i=rD,u=null;function l(){var s,h,b=+e.apply(this,arguments),v=+t.apply(this,arguments),M=a.apply(this,arguments)-Eu,A=o.apply(this,arguments)-Eu,N=Vp(A-M),C=A>M;if(u||(u=s=dr()),v<b&&(h=v,v=b,b=h),!(v>mt))u.moveTo(0,0);else if(N>hr-mt)u.moveTo(v*Hn(M),v*Cr(M)),u.arc(0,0,v,M,A,!C),b>mt&&(u.moveTo(b*Hn(A),b*Cr(A)),u.arc(0,0,b,A,M,C));else{var D=M,B=A,F=M,R=A,z=N,L=N,$=i.apply(this,arguments)/2,G=$>mt&&(n?+n.apply(this,arguments):qa(b*b+v*v)),ue=Ul(Vp(v-b)/2,+r.apply(this,arguments)),ne=ue,U=ue,Z,K;if(G>mt){var H=Np(G/b*Cr($)),te=Np(G/v*Cr($));(z-=H*2)>mt?(H*=C?1:-1,F+=H,R-=H):(z=0,F=R=(M+A)/2),(L-=te*2)>mt?(te*=C?1:-1,D+=te,B-=te):(L=0,D=B=(M+A)/2)}var j=v*Hn(D),X=v*Cr(D),ee=b*Hn(R),J=b*Cr(R);if(ue>mt){var ae=v*Hn(B),se=v*Cr(B),de=b*Hn(F),re=b*Cr(F),me;if(N<kr&&(me=nD(j,X,de,re,ae,se,ee,J))){var Me=j-me[0],Oe=X-me[1],Ne=ae-me[0],Ue=se-me[1],le=1/Cr(s3((Me*Ne+Oe*Ue)/(qa(Me*Me+Oe*Oe)*qa(Ne*Ne+Ue*Ue)))/2),_e=qa(me[0]*me[0]+me[1]*me[1]);ne=Ul(ue,(b-_e)/(le-1)),U=Ul(ue,(v-_e)/(le+1))}}L>mt?U>mt?(Z=Xl(de,re,j,X,v,U,C),K=Xl(ae,se,ee,J,v,U,C),u.moveTo(Z.cx+Z.x01,Z.cy+Z.y01),U<ue?u.arc(Z.cx,Z.cy,U,_t(Z.y01,Z.x01),_t(K.y01,K.x01),!C):(u.arc(Z.cx,Z.cy,U,_t(Z.y01,Z.x01),_t(Z.y11,Z.x11),!C),u.arc(0,0,v,_t(Z.cy+Z.y11,Z.cx+Z.x11),_t(K.cy+K.y11,K.cx+K.x11),!C),u.arc(K.cx,K.cy,U,_t(K.y11,K.x11),_t(K.y01,K.x01),!C))):(u.moveTo(j,X),u.arc(0,0,v,D,B,!C)):u.moveTo(j,X),!(b>mt)||!(z>mt)?u.lineTo(ee,J):ne>mt?(Z=Xl(ee,J,ae,se,b,-ne,C),K=Xl(j,X,de,re,b,-ne,C),u.lineTo(Z.cx+Z.x01,Z.cy+Z.y01),ne<ue?u.arc(Z.cx,Z.cy,ne,_t(Z.y01,Z.x01),_t(K.y01,K.x01),!C):(u.arc(Z.cx,Z.cy,ne,_t(Z.y01,Z.x01),_t(Z.y11,Z.x11),!C),u.arc(0,0,b,_t(Z.cy+Z.y11,Z.cx+Z.x11),_t(K.cy+K.y11,K.cx+K.x11),C),u.arc(K.cx,K.cy,ne,_t(K.y11,K.x11),_t(K.y01,K.x01),!C))):u.arc(0,0,b,R,F,C)}if(u.closePath(),s)return u=null,s+""||null}return l.centroid=function(){var s=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,h=(+a.apply(this,arguments)+ +o.apply(this,arguments))/2-kr/2;return[Hn(h)*s,Cr(h)*s]},l.innerRadius=function(s){return arguments.length?(e=typeof s=="function"?s:we(+s),l):e},l.outerRadius=function(s){return arguments.length?(t=typeof s=="function"?s:we(+s),l):t},l.cornerRadius=function(s){return arguments.length?(r=typeof s=="function"?s:we(+s),l):r},l.padRadius=function(s){return arguments.length?(n=s==null?null:typeof s=="function"?s:we(+s),l):n},l.startAngle=function(s){return arguments.length?(a=typeof s=="function"?s:we(+s),l):a},l.endAngle=function(s){return arguments.length?(o=typeof s=="function"?s:we(+s),l):o},l.padAngle=function(s){return arguments.length?(i=typeof s=="function"?s:we(+s),l):i},l.context=function(s){return arguments.length?(u=s??null,l):u},l}var d3=T(()=>{Ln();Fn();$o()});function Yn(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}var m3,Go=T(()=>{m3=Array.prototype.slice});function h3(e){this._context=e}function qn(e){return new h3(e)}var Iu=T(()=>{h3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}}});function Uo(e){return e[0]}function Xo(e){return e[1]}var Ql=T(()=>{});function Wn(e,t){var r=we(!0),n=null,a=qn,o=null;e=typeof e=="function"?e:e===void 0?Uo:we(e),t=typeof t=="function"?t:t===void 0?Xo:we(t);function i(u){var l,s=(u=Yn(u)).length,h,b=!1,v;for(n==null&&(o=a(v=dr())),l=0;l<=s;++l)!(l<s&&r(h=u[l],l,u))===b&&((b=!b)?o.lineStart():o.lineEnd()),b&&o.point(+e(h,l,u),+t(h,l,u));if(v)return o=null,v+""||null}return i.x=function(u){return arguments.length?(e=typeof u=="function"?u:we(+u),i):e},i.y=function(u){return arguments.length?(t=typeof u=="function"?u:we(+u),i):t},i.defined=function(u){return arguments.length?(r=typeof u=="function"?u:we(!!u),i):r},i.curve=function(u){return arguments.length?(a=u,n!=null&&(o=a(n)),i):a},i.context=function(u){return arguments.length?(u==null?n=o=null:o=a(n=u),i):n},i}var Kl=T(()=>{Ln();Go();Fn();Iu();Ql()});function Zl(e,t,r){var n=null,a=we(!0),o=null,i=qn,u=null;e=typeof e=="function"?e:e===void 0?Uo:we(+e),t=typeof t=="function"?t:t===void 0?we(0):we(+t),r=typeof r=="function"?r:r===void 0?Xo:we(+r);function l(h){var b,v,M,A=(h=Yn(h)).length,N,C=!1,D,B=new Array(A),F=new Array(A);for(o==null&&(u=i(D=dr())),b=0;b<=A;++b){if(!(b<A&&a(N=h[b],b,h))===C)if(C=!C)v=b,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),M=b-1;M>=v;--M)u.point(B[M],F[M]);u.lineEnd(),u.areaEnd()}C&&(B[b]=+e(N,b,h),F[b]=+t(N,b,h),u.point(n?+n(N,b,h):B[b],r?+r(N,b,h):F[b]))}if(D)return u=null,D+""||null}function s(){return Wn().defined(a).curve(i).context(o)}return l.x=function(h){return arguments.length?(e=typeof h=="function"?h:we(+h),n=null,l):e},l.x0=function(h){return arguments.length?(e=typeof h=="function"?h:we(+h),l):e},l.x1=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:we(+h),l):n},l.y=function(h){return arguments.length?(t=typeof h=="function"?h:we(+h),r=null,l):t},l.y0=function(h){return arguments.length?(t=typeof h=="function"?h:we(+h),l):t},l.y1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:we(+h),l):r},l.lineX0=l.lineY0=function(){return s().x(e).y(t)},l.lineY1=function(){return s().x(e).y(r)},l.lineX1=function(){return s().x(n).y(t)},l.defined=function(h){return arguments.length?(a=typeof h=="function"?h:we(!!h),l):a},l.curve=function(h){return arguments.length?(i=h,o!=null&&(u=i(o)),l):i},l.context=function(h){return arguments.length?(h==null?o=u=null:u=i(o=h),l):o},l}var Dp=T(()=>{Ln();Go();Fn();Iu();Kl();Ql()});function p3(e,t){return t<e?-1:t>e?1:t>=e?0:NaN}var g3=T(()=>{});function v3(e){return e}var x3=T(()=>{});function b3(){var e=v3,t=p3,r=null,n=we(0),a=we(hr),o=we(0);function i(u){var l,s=(u=Yn(u)).length,h,b,v=0,M=new Array(s),A=new Array(s),N=+n.apply(this,arguments),C=Math.min(hr,Math.max(-hr,a.apply(this,arguments)-N)),D,B=Math.min(Math.abs(C)/s,o.apply(this,arguments)),F=B*(C<0?-1:1),R;for(l=0;l<s;++l)(R=A[M[l]=l]=+e(u[l],l,u))>0&&(v+=R);for(t!=null?M.sort(function(z,L){return t(A[z],A[L])}):r!=null&&M.sort(function(z,L){return r(u[z],u[L])}),l=0,b=v?(C-s*F)/v:0;l<s;++l,N=D)h=M[l],R=A[h],D=N+(R>0?R*b:0)+F,A[h]={data:u[h],index:l,value:R,startAngle:N,endAngle:D,padAngle:B};return A}return i.value=function(u){return arguments.length?(e=typeof u=="function"?u:we(+u),i):e},i.sortValues=function(u){return arguments.length?(t=u,r=null,i):t},i.sort=function(u){return arguments.length?(r=u,t=null,i):r},i.startAngle=function(u){return arguments.length?(n=typeof u=="function"?u:we(+u),i):n},i.endAngle=function(u){return arguments.length?(a=typeof u=="function"?u:we(+u),i):a},i.padAngle=function(u){return arguments.length?(o=typeof u=="function"?u:we(+u),i):o},i}var y3=T(()=>{Go();Fn();g3();x3();$o()});function w3(e){this._curve=e}function jo(e){function t(r){return new w3(e(r))}return t._curve=e,t}var Jl,Ep=T(()=>{Iu();Jl=jo(qn);w3.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(e,t){this._curve.point(t*Math.sin(e),t*-Math.cos(e))}}});function Qo(e){var t=e.curve;return e.angle=e.x,delete e.x,e.radius=e.y,delete e.y,e.curve=function(r){return arguments.length?t(jo(r)):t()._curve},e}function Ip(){return Qo(Wn().curve(Jl))}var Pp=T(()=>{Ep();Kl()});function zp(){var e=Zl().curve(Jl),t=e.curve,r=e.lineX0,n=e.lineX1,a=e.lineY0,o=e.lineY1;return e.angle=e.x,delete e.x,e.startAngle=e.x0,delete e.x0,e.endAngle=e.x1,delete e.x1,e.radius=e.y,delete e.y,e.innerRadius=e.y0,delete e.y0,e.outerRadius=e.y1,delete e.y1,e.lineStartAngle=function(){return Qo(r())},delete e.lineX0,e.lineEndAngle=function(){return Qo(n())},delete e.lineX1,e.lineInnerRadius=function(){return Qo(a())},delete e.lineY0,e.lineOuterRadius=function(){return Qo(o())},delete e.lineY1,e.curve=function(i){return arguments.length?t(jo(i)):t()._curve},e}var _3=T(()=>{Ep();Dp();Pp()});function Wa(e,t){return[(t=+t)*Math.cos(e-=Math.PI/2),t*Math.sin(e)]}var Rp=T(()=>{});function aD(e){return e.source}function oD(e){return e.target}function Lp(e){var t=aD,r=oD,n=Uo,a=Xo,o=null;function i(){var u,l=m3.call(arguments),s=t.apply(this,l),h=r.apply(this,l);if(o||(o=u=dr()),e(o,+n.apply(this,(l[0]=s,l)),+a.apply(this,l),+n.apply(this,(l[0]=h,l)),+a.apply(this,l)),u)return o=null,u+""||null}return i.source=function(u){return arguments.length?(t=u,i):t},i.target=function(u){return arguments.length?(r=u,i):r},i.x=function(u){return arguments.length?(n=typeof u=="function"?u:we(+u),i):n},i.y=function(u){return arguments.length?(a=typeof u=="function"?u:we(+u),i):a},i.context=function(u){return arguments.length?(o=u??null,i):o},i}function iD(e,t,r,n,a){e.moveTo(t,r),e.bezierCurveTo(t=(t+n)/2,r,t,a,n,a)}function uD(e,t,r,n,a){e.moveTo(t,r),e.bezierCurveTo(t,r=(r+a)/2,n,r,n,a)}function fD(e,t,r,n,a){var o=Wa(t,r),i=Wa(t,r=(r+a)/2),u=Wa(n,r),l=Wa(n,a);e.moveTo(o[0],o[1]),e.bezierCurveTo(i[0],i[1],u[0],u[1],l[0],l[1])}function S3(){return Lp(iD)}function M3(){return Lp(uD)}function A3(){var e=Lp(fD);return e.angle=e.x,delete e.x,e.radius=e.y,delete e.y,e}var C3=T(()=>{Ln();Go();Fn();Ql();Rp()});var $a,Op=T(()=>{$o();$a={draw:function(e,t){var r=Math.sqrt(t/kr);e.moveTo(r,0),e.arc(0,0,r,0,hr)}}});var Ko,Bp=T(()=>{Ko={draw:function(e,t){var r=Math.sqrt(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}}});var k3,lD,Zo,Fp=T(()=>{k3=Math.sqrt(.3333333333333333),lD=k3*2,Zo={draw:function(e,t){var r=Math.sqrt(t/lD),n=r*k3;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}}});var cD,T3,sD,dD,Jo,Hp=T(()=>{$o();cD=.8908130915292852,T3=Math.sin(kr/10)/Math.sin(7*kr/10),sD=Math.sin(hr/10)*T3,dD=-Math.cos(hr/10)*T3,Jo={draw:function(e,t){var r=Math.sqrt(t*cD),n=sD*r,a=dD*r;e.moveTo(0,-r),e.lineTo(n,a);for(var o=1;o<5;++o){var i=hr*o/5,u=Math.cos(i),l=Math.sin(i);e.lineTo(l*r,-u*r),e.lineTo(u*n-l*a,l*n+u*a)}e.closePath()}}});var ei,Yp=T(()=>{ei={draw:function(e,t){var r=Math.sqrt(t),n=-r/2;e.rect(n,n,r,r)}}});var qp,ti,Wp=T(()=>{qp=Math.sqrt(3),ti={draw:function(e,t){var r=-Math.sqrt(t/(qp*3));e.moveTo(0,r*2),e.lineTo(-qp*r,-r),e.lineTo(qp*r,-r),e.closePath()}}});var pr,gr,$p,mD,ri,Gp=T(()=>{pr=-.5,gr=Math.sqrt(3)/2,$p=1/Math.sqrt(12),mD=($p/2+1)*3,ri={draw:function(e,t){var r=Math.sqrt(t/mD),n=r/2,a=r*$p,o=n,i=r*$p+r,u=-o,l=i;e.moveTo(n,a),e.lineTo(o,i),e.lineTo(u,l),e.lineTo(pr*n-gr*a,gr*n+pr*a),e.lineTo(pr*o-gr*i,gr*o+pr*i),e.lineTo(pr*u-gr*l,gr*u+pr*l),e.lineTo(pr*n+gr*a,pr*a-gr*n),e.lineTo(pr*o+gr*i,pr*i-gr*o),e.lineTo(pr*u+gr*l,pr*l-gr*u),e.closePath()}}});function ec(e,t){var r=null;e=typeof e=="function"?e:we(e||$a),t=typeof t=="function"?t:we(t===void 0?64:+t);function n(){var a;if(r||(r=a=dr()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),a)return r=null,a+""||null}return n.type=function(a){return arguments.length?(e=typeof a=="function"?a:we(a),n):e},n.size=function(a){return arguments.length?(t=typeof a=="function"?a:we(+a),n):t},n.context=function(a){return arguments.length?(r=a??null,n):r},n}var V3,N3=T(()=>{Ln();Op();Bp();Fp();Hp();Yp();Wp();Gp();Fn();V3=[$a,Ko,Zo,ei,Jo,ti,ri]});function vr(){}var Pu=T(()=>{});function ni(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function zu(e){this._context=e}function D3(e){return new zu(e)}var Ru=T(()=>{zu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:ni(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:ni(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}}});function E3(e){this._context=e}function I3(e){return new E3(e)}var P3=T(()=>{Pu();Ru();E3.prototype={areaStart:vr,areaEnd:vr,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:ni(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}}});function z3(e){this._context=e}function R3(e){return new z3(e)}var L3=T(()=>{Ru();z3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:ni(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}}});function O3(e){return new tc(e,!0)}function B3(e){return new tc(e,!1)}var tc,F3=T(()=>{tc=class{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}});function H3(e,t){this._basis=new zu(e),this._beta=t}var Y3,q3=T(()=>{Ru();H3.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,r=e.length-1;if(r>0)for(var n=e[0],a=t[0],o=e[r]-n,i=t[r]-a,u=-1,l;++u<=r;)l=u/r,this._basis.point(this._beta*e[u]+(1-this._beta)*(n+l*o),this._beta*t[u]+(1-this._beta)*(a+l*i));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};Y3=function e(t){function r(n){return t===1?new zu(n):new H3(n,t)}return r.beta=function(n){return e(+n)},r}(.85)});function ai(e,t,r){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-r),e._x2,e._y2)}function rc(e,t){this._context=e,this._k=(1-t)/6}var W3,Lu=T(()=>{rc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:ai(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:ai(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};W3=function e(t){function r(n){return new rc(n,t)}return r.tension=function(n){return e(+n)},r}(0)});function nc(e,t){this._context=e,this._k=(1-t)/6}var $3,Up=T(()=>{Pu();Lu();nc.prototype={areaStart:vr,areaEnd:vr,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:ai(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};$3=function e(t){function r(n){return new nc(n,t)}return r.tension=function(n){return e(+n)},r}(0)});function ac(e,t){this._context=e,this._k=(1-t)/6}var G3,Xp=T(()=>{Lu();ac.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:ai(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};G3=function e(t){function r(n){return new ac(n,t)}return r.tension=function(n){return e(+n)},r}(0)});function Ou(e,t,r){var n=e._x1,a=e._y1,o=e._x2,i=e._y2;if(e._l01_a>mt){var u=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,l=3*e._l01_a*(e._l01_a+e._l12_a);n=(n*u-e._x0*e._l12_2a+e._x2*e._l01_2a)/l,a=(a*u-e._y0*e._l12_2a+e._y2*e._l01_2a)/l}if(e._l23_a>mt){var s=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,h=3*e._l23_a*(e._l23_a+e._l12_a);o=(o*s+e._x1*e._l23_2a-t*e._l12_2a)/h,i=(i*s+e._y1*e._l23_2a-r*e._l12_2a)/h}e._context.bezierCurveTo(n,a,o,i,e._x2,e._y2)}function U3(e,t){this._context=e,this._alpha=t}var X3,oc=T(()=>{$o();Lu();U3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var r=this._x2-e,n=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+n*n,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:Ou(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};X3=function e(t){function r(n){return t?new U3(n,t):new rc(n,0)}return r.alpha=function(n){return e(+n)},r}(.5)});function j3(e,t){this._context=e,this._alpha=t}var Q3,K3=T(()=>{Up();Pu();oc();j3.prototype={areaStart:vr,areaEnd:vr,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){if(e=+e,t=+t,this._point){var r=this._x2-e,n=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+n*n,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:Ou(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};Q3=function e(t){function r(n){return t?new j3(n,t):new nc(n,0)}return r.alpha=function(n){return e(+n)},r}(.5)});function Z3(e,t){this._context=e,this._alpha=t}var J3,e8=T(()=>{Xp();oc();Z3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var r=this._x2-e,n=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+n*n,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Ou(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};J3=function e(t){function r(n){return t?new Z3(n,t):new ac(n,0)}return r.alpha=function(n){return e(+n)},r}(.5)});function t8(e){this._context=e}function r8(e){return new t8(e)}var n8=T(()=>{Pu();t8.prototype={areaStart:vr,areaEnd:vr,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}}});function a8(e){return e<0?-1:1}function o8(e,t,r){var n=e._x1-e._x0,a=t-e._x1,o=(e._y1-e._y0)/(n||a<0&&-0),i=(r-e._y1)/(a||n<0&&-0),u=(o*a+i*n)/(n+a);return(a8(o)+a8(i))*Math.min(Math.abs(o),Math.abs(i),.5*Math.abs(u))||0}function i8(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function jp(e,t,r){var n=e._x0,a=e._y0,o=e._x1,i=e._y1,u=(o-n)/3;e._context.bezierCurveTo(n+u,a+u*t,o-u,i-u*r,o,i)}function ic(e){this._context=e}function u8(e){this._context=new f8(e)}function f8(e){this._context=e}function l8(e){return new ic(e)}function c8(e){return new u8(e)}var s8=T(()=>{ic.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:jp(this,this._t0,i8(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,jp(this,i8(this,r=o8(this,e,t)),r);break;default:jp(this,this._t0,r=o8(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};(u8.prototype=Object.create(ic.prototype)).point=function(e,t){ic.prototype.point.call(this,t,e)};f8.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,o){this._context.bezierCurveTo(t,e,n,r,o,a)}}});function m8(e){this._context=e}function d8(e){var t,r=e.length-1,n,a=new Array(r),o=new Array(r),i=new Array(r);for(a[0]=0,o[0]=2,i[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,o[t]=4,i[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,o[r-1]=7,i[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/o[t-1],o[t]-=n,i[t]-=n*i[t-1];for(a[r-1]=i[r-1]/o[r-1],t=r-2;t>=0;--t)a[t]=(i[t]-a[t+1])/o[t];for(o[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)o[t]=2*e[t+1]-a[t+1];return[a,o]}function h8(e){return new m8(e)}var p8=T(()=>{m8.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=d8(e),a=d8(t),o=0,i=1;i<r;++o,++i)this._context.bezierCurveTo(n[0][o],a[0][o],n[1][o],a[1][o],e[i],t[i]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}}});function uc(e,t){this._context=e,this._t=t}function g8(e){return new uc(e,.5)}function v8(e){return new uc(e,0)}function x8(e){return new uc(e,1)}var b8=T(()=>{uc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}}});function Tr(e,t){if((i=e.length)>1)for(var r=1,n,a,o=e[t[0]],i,u=o.length;r<i;++r)for(a=o,o=e[t[r]],n=0;n<u;++n)o[n][1]+=o[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}var oi=T(()=>{});function Vr(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}var ii=T(()=>{});function hD(e,t){return e[t]}function pD(e){let t=[];return t.key=e,t}function y8(){var e=we([]),t=Vr,r=Tr,n=hD;function a(o){var i=Array.from(e.apply(this,arguments),pD),u,l=i.length,s=-1,h;for(let b of o)for(u=0,++s;u<l;++u)(i[u][s]=[0,+n(b,i[u].key,s,o)]).data=b;for(u=0,h=Yn(t(i));u<l;++u)i[h[u]].index=u;return r(i,h),i}return a.keys=function(o){return arguments.length?(e=typeof o=="function"?o:we(Array.from(o)),a):e},a.value=function(o){return arguments.length?(n=typeof o=="function"?o:we(+o),a):n},a.order=function(o){return arguments.length?(t=o==null?Vr:typeof o=="function"?o:we(Array.from(o)),a):t},a.offset=function(o){return arguments.length?(r=o??Tr,a):r},a}var w8=T(()=>{Go();Fn();oi();ii()});function _8(e,t){if((n=e.length)>0){for(var r,n,a=0,o=e[0].length,i;a<o;++a){for(i=r=0;r<n;++r)i+=e[r][a][1]||0;if(i)for(r=0;r<n;++r)e[r][a][1]/=i}Tr(e,t)}}var S8=T(()=>{oi()});function M8(e,t){if((l=e.length)>0)for(var r,n=0,a,o,i,u,l,s=e[t[0]].length;n<s;++n)for(i=u=0,r=0;r<l;++r)(o=(a=e[t[r]][n])[1]-a[0])>0?(a[0]=i,a[1]=i+=o):o<0?(a[1]=u,a[0]=u+=o):(a[0]=0,a[1]=o)}var A8=T(()=>{});function C8(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,o=n.length;r<o;++r){for(var i=0,u=0;i<a;++i)u+=e[i][r][1]||0;n[r][1]+=n[r][0]=-u/2}Tr(e,t)}}var k8=T(()=>{oi()});function T8(e,t){if(!(!((i=e.length)>0)||!((o=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,o,i;n<o;++n){for(var u=0,l=0,s=0;u<i;++u){for(var h=e[t[u]],b=h[n][1]||0,v=h[n-1][1]||0,M=(b-v)/2,A=0;A<u;++A){var N=e[t[A]],C=N[n][1]||0,D=N[n-1][1]||0;M+=C-D}l+=b,s+=M*b}a[n-1][1]+=a[n-1][0]=r,l&&(r-=s/l)}a[n-1][1]+=a[n-1][0]=r,Tr(e,t)}}var V8=T(()=>{oi()});function fc(e){var t=e.map(gD);return Vr(e).sort(function(r,n){return t[r]-t[n]})}function gD(e){for(var t=-1,r=0,n=e.length,a,o=-1/0;++t<n;)(a=+e[t][1])>o&&(o=a,r=t);return r}var Qp=T(()=>{ii()});function lc(e){var t=e.map(Kp);return Vr(e).sort(function(r,n){return t[r]-t[n]})}function Kp(e){for(var t=0,r=-1,n=e.length,a;++r<n;)(a=+e[r][1])&&(t+=a);return t}var cc=T(()=>{ii()});function N8(e){return lc(e).reverse()}var D8=T(()=>{cc()});function E8(e){var t=e.length,r,n,a=e.map(Kp),o=fc(e),i=0,u=0,l=[],s=[];for(r=0;r<t;++r)n=o[r],i<u?(i+=a[n],l.push(n)):(u+=a[n],s.push(n));return s.reverse().concat(l)}var I8=T(()=>{Qp();cc()});function P8(e){return Vr(e).reverse()}var z8=T(()=>{ii()});var R8={};At(R8,{arc:()=>jl,area:()=>Zl,areaRadial:()=>zp,curveBasis:()=>D3,curveBasisClosed:()=>I3,curveBasisOpen:()=>R3,curveBumpX:()=>O3,curveBumpY:()=>B3,curveBundle:()=>Y3,curveCardinal:()=>W3,curveCardinalClosed:()=>$3,curveCardinalOpen:()=>G3,curveCatmullRom:()=>X3,curveCatmullRomClosed:()=>Q3,curveCatmullRomOpen:()=>J3,curveLinear:()=>qn,curveLinearClosed:()=>r8,curveMonotoneX:()=>l8,curveMonotoneY:()=>c8,curveNatural:()=>h8,curveStep:()=>g8,curveStepAfter:()=>x8,curveStepBefore:()=>v8,line:()=>Wn,lineRadial:()=>Ip,linkHorizontal:()=>S3,linkRadial:()=>A3,linkVertical:()=>M3,pie:()=>b3,pointRadial:()=>Wa,radialArea:()=>zp,radialLine:()=>Ip,stack:()=>y8,stackOffsetDiverging:()=>M8,stackOffsetExpand:()=>_8,stackOffsetNone:()=>Tr,stackOffsetSilhouette:()=>C8,stackOffsetWiggle:()=>T8,stackOrderAppearance:()=>fc,stackOrderAscending:()=>lc,stackOrderDescending:()=>N8,stackOrderInsideOut:()=>E8,stackOrderNone:()=>Vr,stackOrderReverse:()=>P8,symbol:()=>ec,symbolCircle:()=>$a,symbolCross:()=>Ko,symbolDiamond:()=>Zo,symbolSquare:()=>ei,symbolStar:()=>Jo,symbolTriangle:()=>ti,symbolWye:()=>ri,symbols:()=>V3});var Zp=T(()=>{d3();Dp();Kl();y3();_3();Pp();Rp();C3();N3();Op();Bp();Fp();Yp();Hp();Wp();Gp();P3();L3();Ru();F3();q3();Up();Xp();Lu();K3();e8();oc();n8();Iu();s8();p8();b8();w8();S8();A8();oi();k8();V8();Qp();cc();D8();I8();ii();z8()});function ce(e){for(var t=e.length/6|0,r=new Array(t),n=0;n<t;)r[n]="#"+e.slice(n*6,++n*6);return r}var Ce=T(()=>{});var L8,O8=T(()=>{Ce();L8=ce("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf")});var B8,F8=T(()=>{Ce();B8=ce("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666")});var H8,Y8=T(()=>{Ce();H8=ce("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666")});var q8,W8=T(()=>{Ce();q8=ce("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928")});var $8,G8=T(()=>{Ce();$8=ce("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2")});var U8,X8=T(()=>{Ce();U8=ce("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc")});var j8,Q8=T(()=>{Ce();j8=ce("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999")});var K8,Z8=T(()=>{Ce();K8=ce("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3")});var J8,e5=T(()=>{Ce();J8=ce("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f")});var t5,r5=T(()=>{Ce();t5=ce("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab")});var ve,qe=T(()=>{Zt();ve=e=>qm(e[e.length-1])});var Jp,n5,a5=T(()=>{Ce();qe();Jp=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(ce),n5=ve(Jp)});var eg,o5,i5=T(()=>{Ce();qe();eg=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(ce),o5=ve(eg)});var tg,u5,f5=T(()=>{Ce();qe();tg=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(ce),u5=ve(tg)});var rg,l5,c5=T(()=>{Ce();qe();rg=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(ce),l5=ve(rg)});var ng,s5,d5=T(()=>{Ce();qe();ng=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(ce),s5=ve(ng)});var ag,m5,h5=T(()=>{Ce();qe();ag=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(ce),m5=ve(ag)});var og,p5,g5=T(()=>{Ce();qe();og=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(ce),p5=ve(og)});var ig,v5,x5=T(()=>{Ce();qe();ig=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(ce),v5=ve(ig)});var ug,b5,y5=T(()=>{Ce();qe();ug=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(ce),b5=ve(ug)});var fg,w5,_5=T(()=>{Ce();qe();fg=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(ce),w5=ve(fg)});var lg,S5,M5=T(()=>{Ce();qe();lg=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(ce),S5=ve(lg)});var cg,A5,C5=T(()=>{Ce();qe();cg=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(ce),A5=ve(cg)});var sg,k5,T5=T(()=>{Ce();qe();sg=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(ce),k5=ve(sg)});var dg,V5,N5=T(()=>{Ce();qe();dg=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(ce),V5=ve(dg)});var mg,D5,E5=T(()=>{Ce();qe();mg=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(ce),D5=ve(mg)});var hg,I5,P5=T(()=>{Ce();qe();hg=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(ce),I5=ve(hg)});var pg,z5,R5=T(()=>{Ce();qe();pg=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(ce),z5=ve(pg)});var gg,L5,O5=T(()=>{Ce();qe();gg=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(ce),L5=ve(gg)});var vg,B5,F5=T(()=>{Ce();qe();vg=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(ce),B5=ve(vg)});var xg,H5,Y5=T(()=>{Ce();qe();xg=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(ce),H5=ve(xg)});var bg,q5,W5=T(()=>{Ce();qe();bg=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(ce),q5=ve(bg)});var yg,$5,G5=T(()=>{Ce();qe();yg=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(ce),$5=ve(yg)});var wg,U5,X5=T(()=>{Ce();qe();wg=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(ce),U5=ve(wg)});var _g,j5,Q5=T(()=>{Ce();qe();_g=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(ce),j5=ve(_g)});var Sg,K5,Z5=T(()=>{Ce();qe();Sg=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(ce),K5=ve(Sg)});var Mg,J5,e6=T(()=>{Ce();qe();Mg=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(ce),J5=ve(Mg)});var Ag,t6,r6=T(()=>{Ce();qe();Ag=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(ce),t6=ve(Ag)});function n6(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-e*(35.34-e*(2381.73-e*(6402.7-e*(7024.72-e*2710.57)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+e*(170.73+e*(52.82-e*(131.46-e*(176.58-e*67.37)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+e*(442.36-e*(2482.43-e*(6167.24-e*(6614.94-e*2475.67)))))))+")"}var a6=T(()=>{});var o6,i6=T(()=>{cn();Zt();o6=No(Ot(300,.5,0),Ot(-240,.5,1))});function l6(e){(e<0||e>1)&&(e-=Math.floor(e));var t=Math.abs(e-.5);return sc.h=360*e-100,sc.s=1.5-1.5*t,sc.l=.8-.9*t,sc+""}var u6,f6,sc,c6=T(()=>{cn();Zt();u6=No(Ot(-100,.75,.35),Ot(80,1.5,.8)),f6=No(Ot(260,.75,.35),Ot(80,1.5,.8)),sc=Ot()});function s6(e){var t;return e=(.5-e)*Math.PI,dc.r=255*(t=Math.sin(e))*t,dc.g=255*(t=Math.sin(e+vD))*t,dc.b=255*(t=Math.sin(e+xD))*t,dc+""}var dc,vD,xD,d6=T(()=>{cn();dc=zn(),vD=Math.PI/3,xD=Math.PI*2/3});function m6(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+e*(1172.33-e*(10793.56-e*(33300.12-e*(38394.49-e*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+e*(557.33+e*(1225.33-e*(3574.96-e*(1073.77+e*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+e*(3211.1-e*(15327.97-e*(27814-e*(22569.18-e*6838.66)))))))+")"}var h6=T(()=>{});function mc(e){var t=e.length;return function(r){return e[Math.max(0,Math.min(t-1,Math.floor(r*t)))]}}var p6,g6,v6,x6,b6=T(()=>{Ce();p6=mc(ce("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),g6=mc(ce("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),v6=mc(ce("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),x6=mc(ce("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"))});var y6={};At(y6,{interpolateBlues:()=>$5,interpolateBrBG:()=>n5,interpolateBuGn:()=>w5,interpolateBuPu:()=>S5,interpolateCividis:()=>n6,interpolateCool:()=>f6,interpolateCubehelixDefault:()=>o6,interpolateGnBu:()=>A5,interpolateGreens:()=>U5,interpolateGreys:()=>j5,interpolateInferno:()=>v6,interpolateMagma:()=>g6,interpolateOrRd:()=>k5,interpolateOranges:()=>t6,interpolatePRGn:()=>o5,interpolatePiYG:()=>u5,interpolatePlasma:()=>x6,interpolatePuBu:()=>D5,interpolatePuBuGn:()=>V5,interpolatePuOr:()=>l5,interpolatePuRd:()=>I5,interpolatePurples:()=>K5,interpolateRainbow:()=>l6,interpolateRdBu:()=>s5,interpolateRdGy:()=>m5,interpolateRdPu:()=>z5,interpolateRdYlBu:()=>p5,interpolateRdYlGn:()=>v5,interpolateReds:()=>J5,interpolateSinebow:()=>s6,interpolateSpectral:()=>b5,interpolateTurbo:()=>m6,interpolateViridis:()=>p6,interpolateWarm:()=>u6,interpolateYlGn:()=>B5,interpolateYlGnBu:()=>L5,interpolateYlOrBr:()=>H5,interpolateYlOrRd:()=>q5,schemeAccent:()=>B8,schemeBlues:()=>yg,schemeBrBG:()=>Jp,schemeBuGn:()=>fg,schemeBuPu:()=>lg,schemeCategory10:()=>L8,schemeDark2:()=>H8,schemeGnBu:()=>cg,schemeGreens:()=>wg,schemeGreys:()=>_g,schemeOrRd:()=>sg,schemeOranges:()=>Ag,schemePRGn:()=>eg,schemePaired:()=>q8,schemePastel1:()=>$8,schemePastel2:()=>U8,schemePiYG:()=>tg,schemePuBu:()=>mg,schemePuBuGn:()=>dg,schemePuOr:()=>rg,schemePuRd:()=>hg,schemePurples:()=>Sg,schemeRdBu:()=>ng,schemeRdGy:()=>ag,schemeRdPu:()=>pg,schemeRdYlBu:()=>og,schemeRdYlGn:()=>ig,schemeReds:()=>Mg,schemeSet1:()=>j8,schemeSet2:()=>K8,schemeSet3:()=>J8,schemeSpectral:()=>ug,schemeTableau10:()=>t5,schemeYlGn:()=>vg,schemeYlGnBu:()=>gg,schemeYlOrBr:()=>xg,schemeYlOrRd:()=>bg});var Cg=T(()=>{O8();F8();Y8();W8();G8();X8();Q8();Z8();e5();r5();a5();i5();f5();c5();d5();h5();g5();x5();y5();_5();M5();C5();T5();N5();E5();P5();R5();O5();F5();Y5();W5();G5();X5();Q5();Z5();e6();r6();a6();i6();c6();d6();h6();b6()});function _6(){for(var e=0,t=arguments.length,r={},n;e<t;++e){if(!(n=arguments[e]+"")||n in r||/[\s.]/.test(n))throw new Error("illegal type: "+n);r[n]=[]}return new hc(r)}function hc(e){this._=e}function yD(e,t){return e.trim().split(/^|\s+/).map(function(r){var n="",a=r.indexOf(".");if(a>=0&&(n=r.slice(a+1),r=r.slice(0,a)),r&&!t.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:n}})}function wD(e,t){for(var r=0,n=e.length,a;r<n;++r)if((a=e[r]).name===t)return a.value}function w6(e,t,r){for(var n=0,a=e.length;n<a;++n)if(e[n].name===t){e[n]=bD,e=e.slice(0,n).concat(e.slice(n+1));break}return r!=null&&e.push({name:t,value:r}),e}var bD,Ur,S6=T(()=>{bD={value:()=>{}};hc.prototype=_6.prototype={constructor:hc,on:function(e,t){var r=this._,n=yD(e+"",r),a,o=-1,i=n.length;if(arguments.length<2){for(;++o<i;)if((a=(e=n[o]).type)&&(a=wD(r[a],e.name)))return a;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++o<i;)if(a=(e=n[o]).type)r[a]=w6(r[a],e.name,t);else if(t==null)for(a in r)r[a]=w6(r[a],e.name,null);return this},copy:function(){var e={},t=this._;for(var r in t)e[r]=t[r].slice();return new hc(e)},call:function(e,t){if((a=arguments.length-2)>0)for(var r=new Array(a),n=0,a,o;n<a;++n)r[n]=arguments[n+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=this._[e],n=0,a=o.length;n<a;++n)o[n].value.apply(t,r)},apply:function(e,t,r){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var n=this._[e],a=0,o=n.length;a<o;++a)n[a].value.apply(t,r)}};Ur=_6});var M6={};At(M6,{dispatch:()=>Ur});var Ga=T(()=>{S6()});function pc(e){e.stopImmediatePropagation()}function $n(e){e.preventDefault(),e.stopImmediatePropagation()}var A6,Ua,kg=T(()=>{A6={passive:!1},Ua={capture:!0,passive:!1}});function Xa(e){var t=e.document.documentElement,r=fe(e).on("dragstart.drag",$n,Ua);"onselectstart"in t?r.on("selectstart.drag",$n,Ua):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function ja(e,t){var r=e.document.documentElement,n=fe(e).on("dragstart.drag",null);t&&(n.on("click.drag",$n,Ua),setTimeout(function(){n.on("click.drag",null)},0)),"onselectstart"in r?n.on("selectstart.drag",null):(r.style.MozUserSelect=r.__noselect,delete r.__noselect)}var Tg=T(()=>{Nt();kg()});var Bu,C6=T(()=>{Bu=e=>()=>e});function Fu(e,{sourceEvent:t,subject:r,target:n,identifier:a,active:o,x:i,y:u,dx:l,dy:s,dispatch:h}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:r,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},identifier:{value:a,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:i,enumerable:!0,configurable:!0},y:{value:u,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:s,enumerable:!0,configurable:!0},_:{value:h}})}var k6=T(()=>{Fu.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e}});function _D(e){return!e.ctrlKey&&!e.button}function SD(){return this.parentNode}function MD(e,t){return t??{x:e.x,y:e.y}}function AD(){return navigator.maxTouchPoints||"ontouchstart"in this}function ui(){var e=_D,t=SD,r=MD,n=AD,a={},o=Ur("start","drag","end"),i=0,u,l,s,h,b=0;function v(R){R.on("mousedown.drag",M).filter(n).on("touchstart.drag",C).on("touchmove.drag",D,A6).on("touchend.drag touchcancel.drag",B).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function M(R,z){if(!(h||!e.call(this,R,z))){var L=F(this,t.call(this,R,z),R,z,"mouse");!L||(fe(R.view).on("mousemove.drag",A,Ua).on("mouseup.drag",N,Ua),Xa(R.view),pc(R),s=!1,u=R.clientX,l=R.clientY,L("start",R))}}function A(R){if($n(R),!s){var z=R.clientX-u,L=R.clientY-l;s=z*z+L*L>b}a.mouse("drag",R)}function N(R){fe(R.view).on("mousemove.drag mouseup.drag",null),ja(R.view,s),$n(R),a.mouse("end",R)}function C(R,z){if(!!e.call(this,R,z)){var L=R.changedTouches,$=t.call(this,R,z),G=L.length,ue,ne;for(ue=0;ue<G;++ue)(ne=F(this,$,R,z,L[ue].identifier,L[ue]))&&(pc(R),ne("start",R,L[ue]))}}function D(R){var z=R.changedTouches,L=z.length,$,G;for($=0;$<L;++$)(G=a[z[$].identifier])&&($n(R),G("drag",R,z[$]))}function B(R){var z=R.changedTouches,L=z.length,$,G;for(h&&clearTimeout(h),h=setTimeout(function(){h=null},500),$=0;$<L;++$)(G=a[z[$].identifier])&&(pc(R),G("end",R,z[$]))}function F(R,z,L,$,G,ue){var ne=o.copy(),U=dt(ue||L,z),Z,K,H;if((H=r.call(R,new Fu("beforestart",{sourceEvent:L,target:v,identifier:G,active:i,x:U[0],y:U[1],dx:0,dy:0,dispatch:ne}),$))!=null)return Z=H.x-U[0]||0,K=H.y-U[1]||0,function te(j,X,ee){var J=U,ae;switch(j){case"start":a[G]=te,ae=i++;break;case"end":delete a[G],--i;case"drag":U=dt(ee||X,z),ae=i;break}ne.call(j,R,new Fu(j,{sourceEvent:X,subject:H,target:v,identifier:G,active:ae,x:U[0]+Z,y:U[1]+K,dx:U[0]-J[0],dy:U[1]-J[1],dispatch:ne}),$)}}return v.filter=function(R){return arguments.length?(e=typeof R=="function"?R:Bu(!!R),v):e},v.container=function(R){return arguments.length?(t=typeof R=="function"?R:Bu(R),v):t},v.subject=function(R){return arguments.length?(r=typeof R=="function"?R:Bu(R),v):r},v.touchable=function(R){return arguments.length?(n=typeof R=="function"?R:Bu(!!R),v):n},v.on=function(){var R=o.on.apply(o,arguments);return R===o?v:R},v.clickDistance=function(R){return arguments.length?(b=(R=+R)*R,v):Math.sqrt(b)},v}var T6=T(()=>{Ga();Nt();Tg();kg();C6();k6()});var gc=T(()=>{T6();Tg()});function Gu(){return Qa||(D6(CD),Qa=Wu.now()+bc)}function CD(){Qa=0}function $u(){this._call=this._time=this._next=null}function yc(e,t,r){var n=new $u;return n.restart(e,t,r),n}function E6(){Gu(),++fi;for(var e=vc,t;e;)(t=Qa-e._time)>=0&&e._call.call(void 0,t),e=e._next;--fi}function V6(){Qa=(xc=Wu.now())+bc,fi=Yu=0;try{E6()}finally{fi=0,TD(),Qa=0}}function kD(){var e=Wu.now(),t=e-xc;t>N6&&(bc-=t,xc=e)}function TD(){for(var e,t=vc,r,n=1/0;t;)t._call?(n>t._time&&(n=t._time),e=t,t=t._next):(r=t._next,t._next=null,t=e?e._next=r:vc=r);qu=e,Vg(n)}function Vg(e){if(!fi){Yu&&(Yu=clearTimeout(Yu));var t=e-Qa;t>24?(e<1/0&&(Yu=setTimeout(V6,e-Wu.now()-bc)),Hu&&(Hu=clearInterval(Hu))):(Hu||(xc=Wu.now(),Hu=setInterval(kD,N6)),fi=1,D6(V6))}}var fi,Yu,Hu,N6,vc,qu,xc,Qa,bc,Wu,D6,Ng=T(()=>{fi=0,Yu=0,Hu=0,N6=1e3,xc=0,Qa=0,bc=0,Wu=typeof performance=="object"&&performance.now?performance:Date,D6=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};$u.prototype=yc.prototype={constructor:$u,restart:function(e,t,r){if(typeof e!="function")throw new TypeError("callback is not a function");r=(r==null?Gu():+r)+(t==null?0:+t),!this._next&&qu!==this&&(qu?qu._next=this:vc=this,qu=this),this._call=e,this._time=r,Vg()},stop:function(){this._call&&(this._call=null,this._time=1/0,Vg())}}});function wc(e,t,r){var n=new $u;return t=t==null?0:+t,n.restart(a=>{n.stop(),e(a+t)},t,r),n}var I6=T(()=>{Ng()});var _c=T(()=>{Ng();I6()});function Gn(e,t,r,n,a,o){var i=e.__transition;if(!i)e.__transition={};else if(r in i)return;DD(e,r,{name:t,index:n,group:a,on:VD,tween:ND,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:R6})}function Xu(e,t){var r=ft(e,t);if(r.state>R6)throw new Error("too late; already scheduled");return r}function St(e,t){var r=ft(e,t);if(r.state>Sc)throw new Error("too late; already running");return r}function ft(e,t){var r=e.__transition;if(!r||!(r=r[t]))throw new Error("transition not found");return r}function DD(e,t,r){var n=e.__transition,a;n[t]=r,r.timer=yc(o,0,r.time);function o(s){r.state=P6,r.timer.restart(i,r.delay,r.time),r.delay<=s&&i(s-r.delay)}function i(s){var h,b,v,M;if(r.state!==P6)return l();for(h in n)if(M=n[h],M.name===r.name){if(M.state===Sc)return wc(i);M.state===z6?(M.state=Uu,M.timer.stop(),M.on.call("interrupt",e,e.__data__,M.index,M.group),delete n[h]):+h<t&&(M.state=Uu,M.timer.stop(),M.on.call("cancel",e,e.__data__,M.index,M.group),delete n[h])}if(wc(function(){r.state===Sc&&(r.state=z6,r.timer.restart(u,r.delay,r.time),u(s))}),r.state=Mc,r.on.call("start",e,e.__data__,r.index,r.group),r.state===Mc){for(r.state=Sc,a=new Array(v=r.tween.length),h=0,b=-1;h<v;++h)(M=r.tween[h].value.call(e,e.__data__,r.index,r.group))&&(a[++b]=M);a.length=b+1}}function u(s){for(var h=s<r.duration?r.ease.call(null,s/r.duration):(r.timer.restart(l),r.state=Ac,1),b=-1,v=a.length;++b<v;)a[b].call(e,h);r.state===Ac&&(r.on.call("end",e,e.__data__,r.index,r.group),l())}function l(){r.state=Uu,r.timer.stop(),delete n[t];for(var s in n)return;delete e.__transition}}var VD,ND,R6,P6,Mc,Sc,z6,Ac,Uu,Ut=T(()=>{Ga();_c();VD=Ur("start","end","cancel","interrupt"),ND=[],R6=0,P6=1,Mc=2,Sc=3,z6=4,Ac=5,Uu=6});function Xr(e,t){var r=e.__transition,n,a,o=!0,i;if(!!r){t=t==null?null:t+"";for(i in r){if((n=r[i]).name!==t){o=!1;continue}a=n.state>Mc&&n.state<Ac,n.state=Uu,n.timer.stop(),n.on.call(a?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete r[i]}o&&delete e.__transition}}var Dg=T(()=>{Ut()});function L6(e){return this.each(function(){Xr(this,e)})}var O6=T(()=>{Dg()});function ED(e,t){var r,n;return function(){var a=St(this,e),o=a.tween;if(o!==r){n=r=o;for(var i=0,u=n.length;i<u;++i)if(n[i].name===t){n=n.slice(),n.splice(i,1);break}}a.tween=n}}function ID(e,t,r){var n,a;if(typeof r!="function")throw new Error;return function(){var o=St(this,e),i=o.tween;if(i!==n){a=(n=i).slice();for(var u={name:t,value:r},l=0,s=a.length;l<s;++l)if(a[l].name===t){a[l]=u;break}l===s&&a.push(u)}o.tween=a}}function B6(e,t){var r=this._id;if(e+="",arguments.length<2){for(var n=ft(this.node(),r).tween,a=0,o=n.length,i;a<o;++a)if((i=n[a]).name===e)return i.value;return null}return this.each((t==null?ED:ID)(r,e,t))}function li(e,t,r){var n=e._id;return e.each(function(){var a=St(this,n);(a.value||(a.value={}))[t]=r.apply(this,arguments)}),function(a){return ft(a,n).value[t]}}var ju=T(()=>{Ut()});function Cc(e,t){var r;return(typeof t=="number"?wt:t instanceof Tt?ka:(r=Tt(t))?(t=r,ka):su)(e,t)}var Eg=T(()=>{cn();Zt()});function PD(e){return function(){this.removeAttribute(e)}}function zD(e){return function(){this.removeAttributeNS(e.space,e.local)}}function RD(e,t,r){var n,a=r+"",o;return function(){var i=this.getAttribute(e);return i===a?null:i===n?o:o=t(n=i,r)}}function LD(e,t,r){var n,a=r+"",o;return function(){var i=this.getAttributeNS(e.space,e.local);return i===a?null:i===n?o:o=t(n=i,r)}}function OD(e,t,r){var n,a,o;return function(){var i,u=r(this),l;return u==null?void this.removeAttribute(e):(i=this.getAttribute(e),l=u+"",i===l?null:i===n&&l===a?o:(a=l,o=t(n=i,u)))}}function BD(e,t,r){var n,a,o;return function(){var i,u=r(this),l;return u==null?void this.removeAttributeNS(e.space,e.local):(i=this.getAttributeNS(e.space,e.local),l=u+"",i===l?null:i===n&&l===a?o:(a=l,o=t(n=i,u)))}}function F6(e,t){var r=$r(e),n=r==="transform"?Qm:Cc;return this.attrTween(e,typeof t=="function"?(r.local?BD:OD)(r,n,li(this,"attr."+e,t)):t==null?(r.local?zD:PD)(r):(r.local?LD:RD)(r,n,t))}var H6=T(()=>{Zt();Nt();ju();Eg()});function FD(e,t){return function(r){this.setAttribute(e,t.call(this,r))}}function HD(e,t){return function(r){this.setAttributeNS(e.space,e.local,t.call(this,r))}}function YD(e,t){var r,n;function a(){var o=t.apply(this,arguments);return o!==n&&(r=(n=o)&&HD(e,o)),r}return a._value=t,a}function qD(e,t){var r,n;function a(){var o=t.apply(this,arguments);return o!==n&&(r=(n=o)&&FD(e,o)),r}return a._value=t,a}function Y6(e,t){var r="attr."+e;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;var n=$r(e);return this.tween(r,(n.local?YD:qD)(n,t))}var q6=T(()=>{Nt()});function WD(e,t){return function(){Xu(this,e).delay=+t.apply(this,arguments)}}function $D(e,t){return t=+t,function(){Xu(this,e).delay=t}}function W6(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?WD:$D)(t,e)):ft(this.node(),t).delay}var $6=T(()=>{Ut()});function GD(e,t){return function(){St(this,e).duration=+t.apply(this,arguments)}}function UD(e,t){return t=+t,function(){St(this,e).duration=t}}function G6(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?GD:UD)(t,e)):ft(this.node(),t).duration}var U6=T(()=>{Ut()});function XD(e,t){if(typeof t!="function")throw new Error;return function(){St(this,e).ease=t}}function X6(e){var t=this._id;return arguments.length?this.each(XD(t,e)):ft(this.node(),t).ease}var j6=T(()=>{Ut()});function jD(e,t){return function(){var r=t.apply(this,arguments);if(typeof r!="function")throw new Error;St(this,e).ease=r}}function Q6(e){if(typeof e!="function")throw new Error;return this.each(jD(this._id,e))}var K6=T(()=>{Ut()});function Z6(e){typeof e!="function"&&(e=qo(e));for(var t=this._groups,r=t.length,n=new Array(r),a=0;a<r;++a)for(var o=t[a],i=o.length,u=n[a]=[],l,s=0;s<i;++s)(l=o[s])&&e.call(l,l.__data__,s,o)&&u.push(l);return new Ft(n,this._parents,this._name,this._id)}var J6=T(()=>{Nt();Ka()});function e4(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,r=e._groups,n=t.length,a=r.length,o=Math.min(n,a),i=new Array(n),u=0;u<o;++u)for(var l=t[u],s=r[u],h=l.length,b=i[u]=new Array(h),v,M=0;M<h;++M)(v=l[M]||s[M])&&(b[M]=v);for(;u<n;++u)i[u]=t[u];return new Ft(i,this._parents,this._name,this._id)}var t4=T(()=>{Ka()});function QD(e){return(e+"").trim().split(/^|\s+/).every(function(t){var r=t.indexOf(".");return r>=0&&(t=t.slice(0,r)),!t||t==="start"})}function KD(e,t,r){var n,a,o=QD(t)?Xu:St;return function(){var i=o(this,e),u=i.on;u!==n&&(a=(n=u).copy()).on(t,r),i.on=a}}function r4(e,t){var r=this._id;return arguments.length<2?ft(this.node(),r).on.on(e):this.each(KD(r,e,t))}var n4=T(()=>{Ut()});function ZD(e){return function(){var t=this.parentNode;for(var r in this.__transition)if(+r!==e)return;t&&t.removeChild(this)}}function a4(){return this.on("end.remove",ZD(this._id))}var o4=T(()=>{});function i4(e){var t=this._name,r=this._id;typeof e!="function"&&(e=Bn(e));for(var n=this._groups,a=n.length,o=new Array(a),i=0;i<a;++i)for(var u=n[i],l=u.length,s=o[i]=new Array(l),h,b,v=0;v<l;++v)(h=u[v])&&(b=e.call(h,h.__data__,v,u))&&("__data__"in h&&(b.__data__=h.__data__),s[v]=b,Gn(s[v],t,r,v,s,ft(h,r)));return new Ft(o,this._parents,t,r)}var u4=T(()=>{Nt();Ka();Ut()});function f4(e){var t=this._name,r=this._id;typeof e!="function"&&(e=Yo(e));for(var n=this._groups,a=n.length,o=[],i=[],u=0;u<a;++u)for(var l=n[u],s=l.length,h,b=0;b<s;++b)if(h=l[b]){for(var v=e.call(h,h.__data__,b,l),M,A=ft(h,r),N=0,C=v.length;N<C;++N)(M=v[N])&&Gn(M,t,r,N,v,A);o.push(v),i.push(h)}return new Ft(o,i,t,r)}var l4=T(()=>{Nt();Ka();Ut()});function c4(){return new JD(this._groups,this._parents)}var JD,s4=T(()=>{Nt();JD=Gr.prototype.constructor});function eE(e,t){var r,n,a;return function(){var o=xn(this,e),i=(this.style.removeProperty(e),xn(this,e));return o===i?null:o===r&&i===n?a:a=t(r=o,n=i)}}function d4(e){return function(){this.style.removeProperty(e)}}function tE(e,t,r){var n,a=r+"",o;return function(){var i=xn(this,e);return i===a?null:i===n?o:o=t(n=i,r)}}function rE(e,t,r){var n,a,o;return function(){var i=xn(this,e),u=r(this),l=u+"";return u==null&&(l=u=(this.style.removeProperty(e),xn(this,e))),i===l?null:i===n&&l===a?o:(a=l,o=t(n=i,u))}}function nE(e,t){var r,n,a,o="style."+t,i="end."+o,u;return function(){var l=St(this,e),s=l.on,h=l.value[o]==null?u||(u=d4(t)):void 0;(s!==r||a!==h)&&(n=(r=s).copy()).on(i,a=h),l.on=n}}function m4(e,t,r){var n=(e+="")=="transform"?jm:Cc;return t==null?this.styleTween(e,eE(e,n)).on("end.style."+e,d4(e)):typeof t=="function"?this.styleTween(e,rE(e,n,li(this,"style."+e,t))).each(nE(this._id,e)):this.styleTween(e,tE(e,n,t),r).on("end.style."+e,null)}var h4=T(()=>{Zt();Nt();Ut();ju();Eg()});function aE(e,t,r){return function(n){this.style.setProperty(e,t.call(this,n),r)}}function oE(e,t,r){var n,a;function o(){var i=t.apply(this,arguments);return i!==a&&(n=(a=i)&&aE(e,i,r)),n}return o._value=t,o}function p4(e,t,r){var n="style."+(e+="");if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;return this.tween(n,oE(e,t,r??""))}var g4=T(()=>{});function iE(e){return function(){this.textContent=e}}function uE(e){return function(){var t=e(this);this.textContent=t??""}}function v4(e){return this.tween("text",typeof e=="function"?uE(li(this,"text",e)):iE(e==null?"":e+""))}var x4=T(()=>{ju()});function fE(e){return function(t){this.textContent=e.call(this,t)}}function lE(e){var t,r;function n(){var a=e.apply(this,arguments);return a!==r&&(t=(r=a)&&fE(a)),t}return n._value=e,n}function b4(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,lE(e))}var y4=T(()=>{});function w4(){for(var e=this._name,t=this._id,r=kc(),n=this._groups,a=n.length,o=0;o<a;++o)for(var i=n[o],u=i.length,l,s=0;s<u;++s)if(l=i[s]){var h=ft(l,t);Gn(l,e,r,s,i,{time:h.time+h.delay+h.duration,delay:0,duration:h.duration,ease:h.ease})}return new Ft(n,this._parents,e,r)}var _4=T(()=>{Ka();Ut()});function S4(){var e,t,r=this,n=r._id,a=r.size();return new Promise(function(o,i){var u={value:i},l={value:function(){--a===0&&o()}};r.each(function(){var s=St(this,n),h=s.on;h!==e&&(t=(e=h).copy(),t._.cancel.push(u),t._.interrupt.push(u),t._.end.push(l)),s.on=t}),a===0&&o()})}var M4=T(()=>{Ut()});function Ft(e,t,r,n){this._groups=e,this._parents=t,this._name=r,this._id=n}function A4(e){return Gr().transition(e)}function kc(){return++cE}var cE,bn,Ka=T(()=>{Nt();H6();q6();$6();U6();j6();K6();J6();t4();n4();o4();u4();l4();s4();h4();g4();x4();y4();_4();ju();M4();cE=0;bn=Gr.prototype;Ft.prototype=A4.prototype={constructor:Ft,select:i4,selectAll:f4,selectChild:bn.selectChild,selectChildren:bn.selectChildren,filter:Z6,merge:e4,selection:c4,transition:w4,call:bn.call,nodes:bn.nodes,node:bn.node,size:bn.size,empty:bn.empty,each:bn.each,on:r4,attr:F6,attrTween:Y6,style:m4,styleTween:p4,text:v4,textTween:b4,remove:a4,tween:B6,delay:W6,duration:G6,ease:X6,easeVarying:Q6,end:S4,[Symbol.iterator]:bn[Symbol.iterator]}});function Tc(e){return--e*e*e+1}function Vc(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var C4=T(()=>{});var Ig=T(()=>{C4()});function dE(e,t){for(var r;!(r=e.__transition)||!(r=r[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return r}function k4(e){var t,r;e instanceof Ft?(t=e._id,e=e._name):(t=kc(),(r=sE).time=Gu(),e=e==null?null:e+"");for(var n=this._groups,a=n.length,o=0;o<a;++o)for(var i=n[o],u=i.length,l,s=0;s<u;++s)(l=i[s])&&Gn(l,e,t,s,i,r||dE(l,t));return new Ft(n,this._parents,e,t)}var sE,T4=T(()=>{Ka();Ut();Ig();_c();sE={time:null,delay:0,duration:250,ease:Vc}});var V4=T(()=>{Nt();O6();T4();Gr.prototype.interrupt=L6;Gr.prototype.transition=k4});var Nc=T(()=>{V4();Dg()});var Dc,N4=T(()=>{Dc=e=>()=>e});function Pg(e,{sourceEvent:t,target:r,selection:n,mode:a,dispatch:o}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},selection:{value:n,enumerable:!0,configurable:!0},mode:{value:a,enumerable:!0,configurable:!0},_:{value:o}})}var D4=T(()=>{});function E4(e){e.stopImmediatePropagation()}function Ec(e){e.preventDefault(),e.stopImmediatePropagation()}var I4=T(()=>{});function R4(e){return[+e[0],+e[1]]}function Lg(e){return[R4(e[0]),R4(e[1])]}function Qu(e){return{type:e}}function gE(e){return!e.ctrlKey&&!e.button}function vE(){var e=this.ownerSVGElement||this;return e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]}function xE(){return navigator.maxTouchPoints||"ontouchstart"in this}function Rg(e){for(;!e.__brush;)if(!(e=e.parentNode))return;return e.__brush}function bE(e){return e[0][0]===e[1][0]||e[0][1]===e[1][1]}function B4(e){var t=e.__brush;return t?t.dim.output(t.selection):null}function F4(){return Og(Ic)}function H4(){return Og(Pc)}function Y4(){return Og(mE)}function Og(e){var t=vE,r=gE,n=xE,a=!0,o=Ur("start","brush","end"),i=6,u;function l(C){var D=C.property("__brush",N).selectAll(".overlay").data([Qu("overlay")]);D.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",yn.overlay).merge(D).each(function(){var F=Rg(this).extent;fe(this).attr("x",F[0][0]).attr("y",F[0][1]).attr("width",F[1][0]-F[0][0]).attr("height",F[1][1]-F[0][1])}),C.selectAll(".selection").data([Qu("selection")]).enter().append("rect").attr("class","selection").attr("cursor",yn.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var B=C.selectAll(".handle").data(e.handles,function(F){return F.type});B.exit().remove(),B.enter().append("rect").attr("class",function(F){return"handle handle--"+F.type}).attr("cursor",function(F){return yn[F.type]}),C.each(s).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",v).filter(n).on("touchstart.brush",v).on("touchmove.brush",M).on("touchend.brush touchcancel.brush",A).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}l.move=function(C,D,B){C.tween?C.on("start.brush",function(F){h(this,arguments).beforestart().start(F)}).on("interrupt.brush end.brush",function(F){h(this,arguments).end(F)}).tween("brush",function(){var F=this,R=F.__brush,z=h(F,arguments),L=R.selection,$=e.input(typeof D=="function"?D.apply(this,arguments):D,R.extent),G=tt(L,$);function ue(ne){R.selection=ne===1&&$===null?null:G(ne),s.call(F),z.brush()}return L!==null&&$!==null?ue:ue(1)}):C.each(function(){var F=this,R=arguments,z=F.__brush,L=e.input(typeof D=="function"?D.apply(F,R):D,z.extent),$=h(F,R).beforestart();Xr(F),z.selection=L===null?null:L,s.call(F),$.start(B).brush(B).end(B)})},l.clear=function(C,D){l.move(C,null,D)};function s(){var C=fe(this),D=Rg(this).selection;D?(C.selectAll(".selection").style("display",null).attr("x",D[0][0]).attr("y",D[0][1]).attr("width",D[1][0]-D[0][0]).attr("height",D[1][1]-D[0][1]),C.selectAll(".handle").style("display",null).attr("x",function(B){return B.type[B.type.length-1]==="e"?D[1][0]-i/2:D[0][0]-i/2}).attr("y",function(B){return B.type[0]==="s"?D[1][1]-i/2:D[0][1]-i/2}).attr("width",function(B){return B.type==="n"||B.type==="s"?D[1][0]-D[0][0]+i:i}).attr("height",function(B){return B.type==="e"||B.type==="w"?D[1][1]-D[0][1]+i:i})):C.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function h(C,D,B){var F=C.__brush.emitter;return F&&(!B||!F.clean)?F:new b(C,D,B)}function b(C,D,B){this.that=C,this.args=D,this.state=C.__brush,this.active=0,this.clean=B}b.prototype={beforestart:function(){return++this.active===1&&(this.state.emitter=this,this.starting=!0),this},start:function(C,D){return this.starting?(this.starting=!1,this.emit("start",C,D)):this.emit("brush",C),this},brush:function(C,D){return this.emit("brush",C,D),this},end:function(C,D){return--this.active===0&&(delete this.state.emitter,this.emit("end",C,D)),this},emit:function(C,D,B){var F=fe(this.that).datum();o.call(C,this.that,new Pg(C,{sourceEvent:D,target:l,selection:e.output(this.state.selection),mode:B,dispatch:o}),F)}};function v(C){if(u&&!C.touches||!r.apply(this,arguments))return;var D=this,B=C.target.__data__.type,F=(a&&C.metaKey?B="overlay":B)==="selection"?P4:a&&C.altKey?si:ci,R=e===Pc?null:hE[B],z=e===Ic?null:pE[B],L=Rg(D),$=L.extent,G=L.selection,ue=$[0][0],ne,U,Z=$[0][1],K,H,te=$[1][0],j,X,ee=$[1][1],J,ae,se=0,de=0,re,me=R&&z&&a&&C.shiftKey,Me,Oe,Ne=Array.from(C.touches||[C],xe=>{let Qe=xe.identifier;return xe=dt(xe,D),xe.point0=xe.slice(),xe.identifier=Qe,xe});Xr(D);var Ue=h(D,arguments,!0).beforestart();if(B==="overlay"){G&&(re=!0);let xe=[Ne[0],Ne[1]||Ne[0]];L.selection=G=[[ne=e===Pc?ue:Et(xe[0][0],xe[1][0]),K=e===Ic?Z:Et(xe[0][1],xe[1][1])],[j=e===Pc?te:Dt(xe[0][0],xe[1][0]),J=e===Ic?ee:Dt(xe[0][1],xe[1][1])]],Ne.length>1&&Xe(C)}else ne=G[0][0],K=G[0][1],j=G[1][0],J=G[1][1];U=ne,H=K,X=j,ae=J;var le=fe(D).attr("pointer-events","none"),_e=le.selectAll(".overlay").attr("cursor",yn[B]);if(C.touches)Ue.moved=ie,Ue.ended=Be;else{var be=fe(C.view).on("mousemove.brush",ie,!0).on("mouseup.brush",Be,!0);a&&be.on("keydown.brush",vt,!0).on("keyup.brush",nt,!0),Xa(C.view)}s.call(D),Ue.start(C,F.name);function ie(xe){for(let Qe of xe.changedTouches||[xe])for(let An of Ne)An.identifier===Qe.identifier&&(An.cur=dt(Qe,D));if(me&&!Me&&!Oe&&Ne.length===1){let Qe=Ne[0];z4(Qe.cur[0]-Qe[0])>z4(Qe.cur[1]-Qe[1])?Oe=!0:Me=!0}for(let Qe of Ne)Qe.cur&&(Qe[0]=Qe.cur[0],Qe[1]=Qe.cur[1]);re=!0,Ec(xe),Xe(xe)}function Xe(xe){let Qe=Ne[0],An=Qe.point0;var Rt;switch(se=Qe[0]-An[0],de=Qe[1]-An[1],F){case zg:case P4:{R&&(se=Dt(ue-ne,Et(te-j,se)),U=ne+se,X=j+se),z&&(de=Dt(Z-K,Et(ee-J,de)),H=K+de,ae=J+de);break}case ci:{Ne[1]?(R&&(U=Dt(ue,Et(te,Ne[0][0])),X=Dt(ue,Et(te,Ne[1][0])),R=1),z&&(H=Dt(Z,Et(ee,Ne[0][1])),ae=Dt(Z,Et(ee,Ne[1][1])),z=1)):(R<0?(se=Dt(ue-ne,Et(te-ne,se)),U=ne+se,X=j):R>0&&(se=Dt(ue-j,Et(te-j,se)),U=ne,X=j+se),z<0?(de=Dt(Z-K,Et(ee-K,de)),H=K+de,ae=J):z>0&&(de=Dt(Z-J,Et(ee-J,de)),H=K,ae=J+de));break}case si:{R&&(U=Dt(ue,Et(te,ne-se*R)),X=Dt(ue,Et(te,j+se*R))),z&&(H=Dt(Z,Et(ee,K-de*z)),ae=Dt(Z,Et(ee,J+de*z)));break}}X<U&&(R*=-1,Rt=ne,ne=j,j=Rt,Rt=U,U=X,X=Rt,B in L4&&_e.attr("cursor",yn[B=L4[B]])),ae<H&&(z*=-1,Rt=K,K=J,J=Rt,Rt=H,H=ae,ae=Rt,B in O4&&_e.attr("cursor",yn[B=O4[B]])),L.selection&&(G=L.selection),Me&&(U=G[0][0],X=G[1][0]),Oe&&(H=G[0][1],ae=G[1][1]),(G[0][0]!==U||G[0][1]!==H||G[1][0]!==X||G[1][1]!==ae)&&(L.selection=[[U,H],[X,ae]],s.call(D),Ue.brush(xe,F.name))}function Be(xe){if(E4(xe),xe.touches){if(xe.touches.length)return;u&&clearTimeout(u),u=setTimeout(function(){u=null},500)}else ja(xe.view,re),be.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);le.attr("pointer-events","all"),_e.attr("cursor",yn.overlay),L.selection&&(G=L.selection),bE(G)&&(L.selection=null,s.call(D)),Ue.end(xe,F.name)}function vt(xe){switch(xe.keyCode){case 16:{me=R&&z;break}case 18:{F===ci&&(R&&(j=X-se*R,ne=U+se*R),z&&(J=ae-de*z,K=H+de*z),F=si,Xe(xe));break}case 32:{(F===ci||F===si)&&(R<0?j=X-se:R>0&&(ne=U-se),z<0?J=ae-de:z>0&&(K=H-de),F=zg,_e.attr("cursor",yn.selection),Xe(xe));break}default:return}Ec(xe)}function nt(xe){switch(xe.keyCode){case 16:{me&&(Me=Oe=me=!1,Xe(xe));break}case 18:{F===si&&(R<0?j=X:R>0&&(ne=U),z<0?J=ae:z>0&&(K=H),F=ci,Xe(xe));break}case 32:{F===zg&&(xe.altKey?(R&&(j=X-se*R,ne=U+se*R),z&&(J=ae-de*z,K=H+de*z),F=si):(R<0?j=X:R>0&&(ne=U),z<0?J=ae:z>0&&(K=H),F=ci),_e.attr("cursor",yn[B]),Xe(xe));break}default:return}Ec(xe)}}function M(C){h(this,arguments).moved(C)}function A(C){h(this,arguments).ended(C)}function N(){var C=this.__brush||{selection:null};return C.extent=Lg(t.apply(this,arguments)),C.dim=e,C}return l.extent=function(C){return arguments.length?(t=typeof C=="function"?C:Dc(Lg(C)),l):t},l.filter=function(C){return arguments.length?(r=typeof C=="function"?C:Dc(!!C),l):r},l.touchable=function(C){return arguments.length?(n=typeof C=="function"?C:Dc(!!C),l):n},l.handleSize=function(C){return arguments.length?(i=+C,l):i},l.keyModifiers=function(C){return arguments.length?(a=!!C,l):a},l.on=function(){var C=o.on.apply(o,arguments);return C===o?l:C},l}var P4,zg,ci,si,z4,Dt,Et,Ic,Pc,mE,yn,L4,O4,hE,pE,q4=T(()=>{Ga();gc();Zt();Nt();Nc();N4();D4();I4();P4={name:"drag"},zg={name:"space"},ci={name:"handle"},si={name:"center"},{abs:z4,max:Dt,min:Et}=Math;Ic={name:"x",handles:["w","e"].map(Qu),input:function(e,t){return e==null?null:[[+e[0],t[0][1]],[+e[1],t[1][1]]]},output:function(e){return e&&[e[0][0],e[1][0]]}},Pc={name:"y",handles:["n","s"].map(Qu),input:function(e,t){return e==null?null:[[t[0][0],+e[0]],[t[1][0],+e[1]]]},output:function(e){return e&&[e[0][1],e[1][1]]}},mE={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(Qu),input:function(e){return e==null?null:Lg(e)},output:function(e){return e}},yn={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},L4={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},O4={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},hE={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},pE={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1}});var W4={};At(W4,{brush:()=>Y4,brushSelection:()=>B4,brushX:()=>F4,brushY:()=>H4});var Bg=T(()=>{q4()});var Ku,$4=T(()=>{Ku=e=>()=>e});function Fg(e,{sourceEvent:t,target:r,transform:n,dispatch:a}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},transform:{value:n,enumerable:!0,configurable:!0},_:{value:a}})}var G4=T(()=>{});function xr(e,t,r){this.k=e,this.x=t,this.y=r}function zc(e){for(;!e.__zoom;)if(!(e=e.parentNode))return jr;return e.__zoom}var jr,Hg=T(()=>{xr.prototype={constructor:xr,scale:function(e){return e===1?this:new xr(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new xr(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};jr=new xr(1,0,0);zc.prototype=xr.prototype});function Rc(e){e.stopImmediatePropagation()}function di(e){e.preventDefault(),e.stopImmediatePropagation()}var U4=T(()=>{});function yE(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function wE(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function X4(){return this.__zoom||jr}function _E(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function SE(){return navigator.maxTouchPoints||"ontouchstart"in this}function ME(e,t,r){var n=e.invertX(t[0][0])-r[0][0],a=e.invertX(t[1][0])-r[1][0],o=e.invertY(t[0][1])-r[0][1],i=e.invertY(t[1][1])-r[1][1];return e.translate(a>n?(n+a)/2:Math.min(0,n)||Math.max(0,a),i>o?(o+i)/2:Math.min(0,o)||Math.max(0,i))}function Lc(){var e=yE,t=wE,r=ME,n=_E,a=SE,o=[0,1/0],i=[[-1/0,-1/0],[1/0,1/0]],u=250,l=Km,s=Ur("start","zoom","end"),h,b,v,M=500,A=150,N=0,C=10;function D(H){H.property("__zoom",X4).on("wheel.zoom",G,{passive:!1}).on("mousedown.zoom",ue).on("dblclick.zoom",ne).filter(a).on("touchstart.zoom",U).on("touchmove.zoom",Z).on("touchend.zoom touchcancel.zoom",K).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}D.transform=function(H,te,j,X){var ee=H.selection?H.selection():H;ee.property("__zoom",X4),H!==ee?z(H,te,j,X):ee.interrupt().each(function(){L(this,arguments).event(X).start().zoom(null,typeof te=="function"?te.apply(this,arguments):te).end()})},D.scaleBy=function(H,te,j,X){D.scaleTo(H,function(){var ee=this.__zoom.k,J=typeof te=="function"?te.apply(this,arguments):te;return ee*J},j,X)},D.scaleTo=function(H,te,j,X){D.transform(H,function(){var ee=t.apply(this,arguments),J=this.__zoom,ae=j==null?R(ee):typeof j=="function"?j.apply(this,arguments):j,se=J.invert(ae),de=typeof te=="function"?te.apply(this,arguments):te;return r(F(B(J,de),ae,se),ee,i)},j,X)},D.translateBy=function(H,te,j,X){D.transform(H,function(){return r(this.__zoom.translate(typeof te=="function"?te.apply(this,arguments):te,typeof j=="function"?j.apply(this,arguments):j),t.apply(this,arguments),i)},null,X)},D.translateTo=function(H,te,j,X,ee){D.transform(H,function(){var J=t.apply(this,arguments),ae=this.__zoom,se=X==null?R(J):typeof X=="function"?X.apply(this,arguments):X;return r(jr.translate(se[0],se[1]).scale(ae.k).translate(typeof te=="function"?-te.apply(this,arguments):-te,typeof j=="function"?-j.apply(this,arguments):-j),J,i)},X,ee)};function B(H,te){return te=Math.max(o[0],Math.min(o[1],te)),te===H.k?H:new xr(te,H.x,H.y)}function F(H,te,j){var X=te[0]-j[0]*H.k,ee=te[1]-j[1]*H.k;return X===H.x&&ee===H.y?H:new xr(H.k,X,ee)}function R(H){return[(+H[0][0]+ +H[1][0])/2,(+H[0][1]+ +H[1][1])/2]}function z(H,te,j,X){H.on("start.zoom",function(){L(this,arguments).event(X).start()}).on("interrupt.zoom end.zoom",function(){L(this,arguments).event(X).end()}).tween("zoom",function(){var ee=this,J=arguments,ae=L(ee,J).event(X),se=t.apply(ee,J),de=j==null?R(se):typeof j=="function"?j.apply(ee,J):j,re=Math.max(se[1][0]-se[0][0],se[1][1]-se[0][1]),me=ee.__zoom,Me=typeof te=="function"?te.apply(ee,J):te,Oe=l(me.invert(de).concat(re/me.k),Me.invert(de).concat(re/Me.k));return function(Ne){if(Ne===1)Ne=Me;else{var Ue=Oe(Ne),le=re/Ue[2];Ne=new xr(le,de[0]-Ue[0]*le,de[1]-Ue[1]*le)}ae.zoom(null,Ne)}})}function L(H,te,j){return!j&&H.__zooming||new $(H,te)}function $(H,te){this.that=H,this.args=te,this.active=0,this.sourceEvent=null,this.extent=t.apply(H,te),this.taps=0}$.prototype={event:function(H){return H&&(this.sourceEvent=H),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(H,te){return this.mouse&&H!=="mouse"&&(this.mouse[1]=te.invert(this.mouse[0])),this.touch0&&H!=="touch"&&(this.touch0[1]=te.invert(this.touch0[0])),this.touch1&&H!=="touch"&&(this.touch1[1]=te.invert(this.touch1[0])),this.that.__zoom=te,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(H){var te=fe(this.that).datum();s.call(H,this.that,new Fg(H,{sourceEvent:this.sourceEvent,target:D,type:H,transform:this.that.__zoom,dispatch:s}),te)}};function G(H,...te){if(!e.apply(this,arguments))return;var j=L(this,te).event(H),X=this.__zoom,ee=Math.max(o[0],Math.min(o[1],X.k*Math.pow(2,n.apply(this,arguments)))),J=dt(H);if(j.wheel)(j.mouse[0][0]!==J[0]||j.mouse[0][1]!==J[1])&&(j.mouse[1]=X.invert(j.mouse[0]=J)),clearTimeout(j.wheel);else{if(X.k===ee)return;j.mouse=[J,X.invert(J)],Xr(this),j.start()}di(H),j.wheel=setTimeout(ae,A),j.zoom("mouse",r(F(B(X,ee),j.mouse[0],j.mouse[1]),j.extent,i));function ae(){j.wheel=null,j.end()}}function ue(H,...te){if(v||!e.apply(this,arguments))return;var j=H.currentTarget,X=L(this,te,!0).event(H),ee=fe(H.view).on("mousemove.zoom",de,!0).on("mouseup.zoom",re,!0),J=dt(H,j),ae=H.clientX,se=H.clientY;Xa(H.view),Rc(H),X.mouse=[J,this.__zoom.invert(J)],Xr(this),X.start();function de(me){if(di(me),!X.moved){var Me=me.clientX-ae,Oe=me.clientY-se;X.moved=Me*Me+Oe*Oe>N}X.event(me).zoom("mouse",r(F(X.that.__zoom,X.mouse[0]=dt(me,j),X.mouse[1]),X.extent,i))}function re(me){ee.on("mousemove.zoom mouseup.zoom",null),ja(me.view,X.moved),di(me),X.event(me).end()}}function ne(H,...te){if(!!e.apply(this,arguments)){var j=this.__zoom,X=dt(H.changedTouches?H.changedTouches[0]:H,this),ee=j.invert(X),J=j.k*(H.shiftKey?.5:2),ae=r(F(B(j,J),X,ee),t.apply(this,te),i);di(H),u>0?fe(this).transition().duration(u).call(z,ae,X,H):fe(this).call(D.transform,ae,X,H)}}function U(H,...te){if(!!e.apply(this,arguments)){var j=H.touches,X=j.length,ee=L(this,te,H.changedTouches.length===X).event(H),J,ae,se,de;for(Rc(H),ae=0;ae<X;++ae)se=j[ae],de=dt(se,this),de=[de,this.__zoom.invert(de),se.identifier],ee.touch0?!ee.touch1&&ee.touch0[2]!==de[2]&&(ee.touch1=de,ee.taps=0):(ee.touch0=de,J=!0,ee.taps=1+!!h);h&&(h=clearTimeout(h)),J&&(ee.taps<2&&(b=de[0],h=setTimeout(function(){h=null},M)),Xr(this),ee.start())}}function Z(H,...te){if(!!this.__zooming){var j=L(this,te).event(H),X=H.changedTouches,ee=X.length,J,ae,se,de;for(di(H),J=0;J<ee;++J)ae=X[J],se=dt(ae,this),j.touch0&&j.touch0[2]===ae.identifier?j.touch0[0]=se:j.touch1&&j.touch1[2]===ae.identifier&&(j.touch1[0]=se);if(ae=j.that.__zoom,j.touch1){var re=j.touch0[0],me=j.touch0[1],Me=j.touch1[0],Oe=j.touch1[1],Ne=(Ne=Me[0]-re[0])*Ne+(Ne=Me[1]-re[1])*Ne,Ue=(Ue=Oe[0]-me[0])*Ue+(Ue=Oe[1]-me[1])*Ue;ae=B(ae,Math.sqrt(Ne/Ue)),se=[(re[0]+Me[0])/2,(re[1]+Me[1])/2],de=[(me[0]+Oe[0])/2,(me[1]+Oe[1])/2]}else if(j.touch0)se=j.touch0[0],de=j.touch0[1];else return;j.zoom("touch",r(F(ae,se,de),j.extent,i))}}function K(H,...te){if(!!this.__zooming){var j=L(this,te).event(H),X=H.changedTouches,ee=X.length,J,ae;for(Rc(H),v&&clearTimeout(v),v=setTimeout(function(){v=null},M),J=0;J<ee;++J)ae=X[J],j.touch0&&j.touch0[2]===ae.identifier?delete j.touch0:j.touch1&&j.touch1[2]===ae.identifier&&delete j.touch1;if(j.touch1&&!j.touch0&&(j.touch0=j.touch1,delete j.touch1),j.touch0)j.touch0[1]=this.__zoom.invert(j.touch0[0]);else if(j.end(),j.taps===2&&(ae=dt(ae,this),Math.hypot(b[0]-ae[0],b[1]-ae[1])<C)){var se=fe(this).on("dblclick.zoom");se&&se.apply(this,arguments)}}}return D.wheelDelta=function(H){return arguments.length?(n=typeof H=="function"?H:Ku(+H),D):n},D.filter=function(H){return arguments.length?(e=typeof H=="function"?H:Ku(!!H),D):e},D.touchable=function(H){return arguments.length?(a=typeof H=="function"?H:Ku(!!H),D):a},D.extent=function(H){return arguments.length?(t=typeof H=="function"?H:Ku([[+H[0][0],+H[0][1]],[+H[1][0],+H[1][1]]]),D):t},D.scaleExtent=function(H){return arguments.length?(o[0]=+H[0],o[1]=+H[1],D):[o[0],o[1]]},D.translateExtent=function(H){return arguments.length?(i[0][0]=+H[0][0],i[1][0]=+H[1][0],i[0][1]=+H[0][1],i[1][1]=+H[1][1],D):[[i[0][0],i[0][1]],[i[1][0],i[1][1]]]},D.constrain=function(H){return arguments.length?(r=H,D):r},D.duration=function(H){return arguments.length?(u=+H,D):u},D.interpolate=function(H){return arguments.length?(l=H,D):l},D.on=function(){var H=s.on.apply(s,arguments);return H===s?D:H},D.clickDistance=function(H){return arguments.length?(N=(H=+H)*H,D):Math.sqrt(N)},D.tapDistance=function(H){return arguments.length?(C=+H,D):C},D}var j4=T(()=>{Ga();gc();Zt();Nt();Nc();$4();G4();Hg();U4()});var Q4={};At(Q4,{ZoomTransform:()=>xr,zoom:()=>Lc,zoomIdentity:()=>jr,zoomTransform:()=>zc});var Yg=T(()=>{j4();Hg()});var Le=Rx((Oc,K4)=>{(function(e,t){typeof Oc=="object"&&typeof K4<"u"?t(Oc,(Sm(),ar(_m)),(ep(),ar(F2)),(Lo(),ar(g2)),(ip(),ar(sw)),(pp(),ar(Iw)),(Ln(),ar(Rw)),(Nt(),ar(l3)),(Zp(),ar(R8)),(Cg(),ar(y6)),(Ga(),ar(M6)),(Bg(),ar(W4)),(Yg(),ar(Q4))):typeof define=="function"&&define.amd?define(["exports","d3-array","d3-scale","d3-time","d3-random","d3-fetch","d3-path","d3-selection","d3-shape","d3-scale-chromatic","d3-dispatch","d3-brush","d3-zoom"],t):(e=typeof globalThis<"u"?globalThis:e||self,t(e.fc={},e.d3,e.d3,e.d3,e.d3,e.d3,e.d3,e.d3,e.d3,e.d3,e.d3,e.d3,e.d3))})(Oc,function(e,t,r,n,a,o,i,u,l,s,h,b,v){"use strict";var M=function(f,c,d){var p=c[d];if(typeof p!="function")throw new Error("Attempt to rebind ".concat(d," which isn't a function on the source object"));return function(){for(var y=arguments.length,w=new Array(y),m=0;m<y;m++)w[m]=arguments[m];var g=p.apply(c,w);return g===c?f:g}},A=function(f,c){for(var d=arguments.length,p=new Array(d>2?d-2:0),y=2;y<d;y++)p[y-2]=arguments[y];for(var w=0,m=p;w<m.length;w++){var g=m[w];f[g]=M(f,c,g)}return f},N=function(c){return function(d){return c.reduce(function(p,y){return p&&y(p)},d)}},C=function(f,c){for(var d=arguments.length,p=new Array(d>2?d-2:0),y=2;y<d;y++)p[y-2]=arguments[y];for(var w=N(p),m=0,g=Object.keys(c);m<g.length;m++){var x=g[m],_=w(x);_&&(f[_]=M(f,c,x))}return f},D=function(f){return f.map(function(c){return typeof c=="string"?new RegExp("^".concat(c,"$")):c})},B=function(){for(var f=arguments.length,c=new Array(f),d=0;d<f;d++)c[d]=arguments[d];return c=D(c),function(p){return c.every(function(y){return!y.test(p)})&&p}},F=function(){for(var f=arguments.length,c=new Array(f),d=0;d<f;d++)c[d]=arguments[d];return c=D(c),function(p){return c.some(function(y){return y.test(p)})&&p}},R=function(f){return function(c){return f[c]}},z=function(c){return c[0].toUpperCase()+c.slice(1)},L=function(f){return function(c){return f+z(c)}};function $(f){return f}function G(f){}function ue(f){return typeof f=="function"?f:function(){return f}}function ne(f){return typeof f=="number"&&isNaN(f)?void 0:f}function U(){var f=function(){return 10},c=G,d=$,p=function(m){return m!=null},y=function(m){var g=f.apply(this,arguments),x=m.slice(0,g).map(d);return m.map(function(_,S){return S>=g&&(x.shift(),x.push(d(_,S))),S<g-1||x.some(function(k){return!p(k)})?c(void 0,S):c(x,S)})};return y.period=function(){return arguments.length?(f=ue(arguments.length<=0?void 0:arguments[0]),y):f},y.accumulator=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],y):c},y.defined=function(){return arguments.length?(p=arguments.length<=0?void 0:arguments[0],y):p},y.value=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],y):d},y}function Z(){var f=2,c=U().accumulator(function(p){var y=p&&t.deviation(p),w=p&&t.mean(p);return{average:w,upper:ne(w+f*y),lower:ne(w-f*y)}}),d=function(y){return c(y)};return d.multiplier=function(){return arguments.length?(f=arguments.length<=0?void 0:arguments[0],d):f},A(d,c,"period","value"),d}function K(){var f=$,c=function(){return 9},d=function(w){var m=[];return function(g){var x;return m.length<w&&(g!=null?m.push(g):m=[]),m.length>=w&&(x=t.mean(m)),x}},p=function(w){var m=c.apply(this,arguments),g=2/(m+1),x=d(m),_;return w.map(function(S,k){var V=f(S,k);return _===void 0?_=x(V):_=V*g+(1-g)*_,ne(_)})};return p.period=function(){return arguments.length?(c=ue(arguments.length<=0?void 0:arguments[0]),p):c},p.value=function(){return arguments.length?(f=arguments.length<=0?void 0:arguments[0],p):f},p}function H(){var f=$,c=K().period(12),d=K().period(26),p=K().period(9),y=function(m){c.value(f),d.value(f);var g=t.zip(c(m),d(m)).map(function(_){return _[0]!==void 0&&_[1]!==void 0?_[0]-_[1]:void 0}),x=p(g);return t.zip(g,x).map(function(_){return{macd:_[0],signal:_[1],divergence:_[0]!==void 0&&_[1]!==void 0?_[0]-_[1]:void 0}})};return y.value=function(){return arguments.length?(f=arguments.length<=0?void 0:arguments[0],y):f},C(y,c,R({period:"fastPeriod"})),C(y,d,R({period:"slowPeriod"})),C(y,p,R({period:"signalPeriod"})),y}function te(f){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?te=function(c){return typeof c}:te=function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},te(f)}function j(f,c){if(!(f instanceof c))throw new TypeError("Cannot call a class as a function")}function X(f,c){for(var d=0;d<c.length;d++){var p=c[d];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(f,p.key,p)}}function ee(f,c,d){return c&&X(f.prototype,c),d&&X(f,d),f}function J(f,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");f.prototype=Object.create(c&&c.prototype,{constructor:{value:f,writable:!0,configurable:!0}}),c&&se(f,c)}function ae(f){return ae=Object.setPrototypeOf?Object.getPrototypeOf:function(d){return d.__proto__||Object.getPrototypeOf(d)},ae(f)}function se(f,c){return se=Object.setPrototypeOf||function(p,y){return p.__proto__=y,p},se(f,c)}function de(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function re(f,c,d){return de()?re=Reflect.construct:re=function(y,w,m){var g=[null];g.push.apply(g,w);var x=Function.bind.apply(y,g),_=new x;return m&&se(_,m.prototype),_},re.apply(null,arguments)}function me(f){return Function.toString.call(f).indexOf("[native code]")!==-1}function Me(f){var c=typeof Map=="function"?new Map:void 0;return Me=function(p){if(p===null||!me(p))return p;if(typeof p!="function")throw new TypeError("Super expression must either be null or a function");if(typeof c<"u"){if(c.has(p))return c.get(p);c.set(p,y)}function y(){return re(p,arguments,ae(this).constructor)}return y.prototype=Object.create(p.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),se(y,p)},Me(f)}function Oe(f){if(f===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f}function Ne(f,c){return c&&(typeof c=="object"||typeof c=="function")?c:Oe(f)}function Ue(f){var c=de();return function(){var p=ae(f),y;if(c){var w=ae(this).constructor;y=Reflect.construct(p,arguments,w)}else y=p.apply(this,arguments);return Ne(this,y)}}function le(f,c){return Xe(f)||vt(f,c)||nt(f,c)||An()}function _e(f){return Xe(f)||Be(f)||nt(f)||An()}function be(f){return ie(f)||Be(f)||nt(f)||Qe()}function ie(f){if(Array.isArray(f))return xe(f)}function Xe(f){if(Array.isArray(f))return f}function Be(f){if(typeof Symbol<"u"&&Symbol.iterator in Object(f))return Array.from(f)}function vt(f,c){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(f)))){var d=[],p=!0,y=!1,w=void 0;try{for(var m=f[Symbol.iterator](),g;!(p=(g=m.next()).done)&&(d.push(g.value),!(c&&d.length===c));p=!0);}catch(x){y=!0,w=x}finally{try{!p&&m.return!=null&&m.return()}finally{if(y)throw w}}return d}}function nt(f,c){if(!!f){if(typeof f=="string")return xe(f,c);var d=Object.prototype.toString.call(f).slice(8,-1);if(d==="Object"&&f.constructor&&(d=f.constructor.name),d==="Map"||d==="Set")return Array.from(f);if(d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d))return xe(f,c)}}function xe(f,c){(c==null||c>f.length)&&(c=f.length);for(var d=0,p=new Array(c);d<c;d++)p[d]=f[d];return p}function Qe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function An(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rt(f,c){var d;if(typeof Symbol>"u"||f[Symbol.iterator]==null){if(Array.isArray(f)||(d=nt(f))||c&&f&&typeof f.length=="number"){d&&(f=d);var p=0,y=function(){};return{s:y,n:function(){return p>=f.length?{done:!0}:{done:!1,value:f[p++]}},e:function(x){throw x},f:y}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var w=!0,m=!1,g;return{s:function(){d=f[Symbol.iterator]()},n:function(){var x=d.next();return w=x.done,x},e:function(x){m=!0,g=x},f:function(){try{!w&&d.return!=null&&d.return()}finally{if(m)throw g}}}}function yA(){var f=U().period(14),c=function(x,_){return _+(x[x.length-1]-_)/x.length},d=function(x){var _=le(x,2),S=_[0],k=_[1];return S<k?0:S-k},p=function(x){var _=le(x,2),S=_[0],k=_[1];return S>k?0:k-S},y=function(x,_){return _!==void 0?c(x,_):t.mean(x)},w=function(){var x,_,S;return function(k){if(!k){x!==void 0&&(x=NaN);return}if(x===void 0){x=k[0];return}var V=t.pairs([x].concat(be(k)));_=y(V.map(d),_),S=y(V.map(p),S);var E=isNaN(x)?NaN:S/_;return ne(100-100/(1+E))}},m=function(x){var _=w();return f.accumulator(_),f(x)};return A(m,f,"period","value"),m}function Z0(){var f=U().accumulator(function(d){return d&&t.mean(d)}),c=function(p){return f(p)};return A(c,f,"period","value"),c}function wA(){var f=function(g,x){return g.close},c=function(g,x){return g.high},d=function(g,x){return g.low},p=U().period(5).defined(function(m){return f(m)!=null&&c(m)!=null&&d(m)!=null}).accumulator(function(m){var g=m&&t.max(m,c),x=m&&t.min(m,d),_=m&&100*(f(m[m.length-1])-x)/(g-x);return ne(_)}),y=Z0().period(3),w=function(g){var x=p(g),_=y(x);return x.map(function(S,k){return{k:S,d:_[k]}})};return w.closeValue=function(){return arguments.length?(f=arguments.length<=0?void 0:arguments[0],w):f},w.highValue=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],w):c},w.lowValue=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],w):d},C(w,p,R({period:"kPeriod"})),C(w,y,R({period:"dPeriod"})),w}function _A(){var f=function(m,g){return m.volume},c=function(m,g){return m.close},d=K().period(13),p=U().period(2).defined(function(w){return c(w)!=null&&f(w)!=null}).accumulator(function(w){return w&&ne((c(w[1])-c(w[0]))*f(w[1]))}),y=function(m){var g=p(m);return d(g)};return y.volumeValue=function(){return arguments.length?(f=arguments.length<=0?void 0:arguments[0],y):f},y.closeValue=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],y):c},A(y,d,"period"),y}function SA(){var f=.1,c=$,d=function(y){return y.map(function(w){var m=ne(c(w)*(1-f)),g=ne(c(w)*(1+f));return{lower:m,upper:g}})};return d.factor=function(){return arguments.length?(f=arguments.length<=0?void 0:arguments[0],d):f},d.value=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],d):c},d}function MA(){var f=function(m,g){return m.close},c=function(m,g){return m.high},d=function(m,g){return m.low},p=K().period(13),y=function(m){return p.value(f),t.zip(m,p(m)).map(function(g){var x=ne(c(g[0])-g[1]),_=ne(d(g[0])-g[1]);return{bullPower:x,bearPower:_}})};return y.closeValue=function(){return arguments.length?(f=arguments.length<=0?void 0:arguments[0],y):f},y.highValue=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],y):c},y.lowValue=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],y):d},A(y,p,"period"),y}function J0(){var f={};return f.distance=function(c,d){return d-c},f.offset=function(c,d){return c instanceof Date?new Date(c.getTime()+d):c+d},f.clampUp=function(c){return c},f.clampDown=function(c){return c},f.copy=function(){return f},f}function AA(f,c){var d=f.map(c.clampUp);return d.length!==new Set(d.map(function(p){return p?.valueOf()})).size&&console.warn("There are multiple ticks that fall within a discontinuity, which has led to them being rendered on top of each other. Consider using scale.ticks to explicitly specify the ticks for the scale."),d}function ev(f){var c=this;arguments.length||(f=r.scaleIdentity());var d=J0(),p=function(w){var m=f.domain(),g=f.range(),x=d.distance(m[0],m[1]),_=d.distance(m[0],w),S=_/x,k=S*(g[1]-g[0])+g[0];return k};return p.invert=function(y){var w=f.domain(),m=f.range(),g=(y-m[0])/(m[1]-m[0]),x=d.distance(w[0],w[1]),_=g*x;return d.offset(w[0],_)},p.domain=function(){if(!arguments.length)return f.domain();var y=arguments.length<=0?void 0:arguments[0],w=d.clampUp(y[0]),m=d.clampDown(y[1]);return f.domain([w,m]),p},p.nice=function(){f.nice();var y=f.domain(),w=d.clampUp(y[0]),m=d.clampDown(y[1]);return f.domain([w,m]),p},p.ticks=function(){for(var y=arguments.length,w=new Array(y),m=0;m<y;m++)w[m]=arguments[m];var g=f.ticks.apply(c,w);return AA(g,d)},p.copy=function(){return ev(f.copy()).discontinuityProvider(d.copy())},p.discontinuityProvider=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],p):d},C(p,f,F("range","rangeRound","interpolate","clamp","tickFormat")),p}var tv=function(c,d,p,y){var w={sunday:0,monday:1,saturday:6},m=24*3600*1e3,g=m*5,x=m*7,_={},S=function(V){return c(V)===0||c(V)===6};return _.clampDown=function(k){if(k&&S(k)){var V=d.ceil(k);return c(V)===w.sunday?d.offset(V,-1):c(V)===w.monday?d.offset(V,-2):V}else return k},_.clampUp=function(k){if(k&&S(k)){var V=d.floor(k);return c(V)===w.saturday?d.offset(V,2):c(V)===w.sunday?d.offset(V,1):V}else return k},_.distance=function(k,V){k=_.clampUp(k),V=_.clampDown(V);var E=p.ceil(k);if(V<E)return V.getTime()-k.getTime();var P=E.getTime()-k.getTime(),I=p.ceil(V),O=I.getTime()-V.getTime(),Y=Math.round((I.getTime()-E.getTime())/x);return Y*g+P-O},_.offset=function(k,V){var E=S(k)?_.clampUp(k):k;if(V===0)return E;var P=V<0,I=V>0,O=V,Y=P?y.floor(E):p.ceil(E);if(O-=Y.getTime()-E.getTime(),P&&O>0||I&&O<0)return new Date(E.getTime()+V);E=P?Y:d.offset(Y,2);var q=Math.floor(O/g);return E=d.offset(E,q*7),O-=q*g,E=new Date(E.getTime()+O),E},_.copy=function(){return _},_},CA=function(){return tv(function(f){return f.getDay()},n.timeDay,n.timeSaturday,n.timeMonday)},kA=function(){return tv(function(f){return f.getUTCDay()},n.utcDay,n.utcSaturday,n.utcMonday)},TA=function(){for(var c=arguments.length,d=new Array(c),p=0;p<c;p++)d[p]=arguments[p];var y=function(_,S){return _>S[0]&&_<S[1]},w=function(_,S){return _[0]>=S[0]&&_[1]<=S[1]},m={};m.distance=function(x,_){x=m.clampUp(x),_=m.clampDown(_);var S=d.filter(function(V){return w(V,[x,_])}),k=S.map(function(V){return V[1]-V[0]});return _-x-k.reduce(function(V,E){return V+E},0)};var g=function(_,S){return _ instanceof Date?new Date(_.getTime()+S):_+S};return m.offset=function(x,_){if(_>0){var S=function(){for(var V=m.clampUp(x),E=_;E>0;){var P=d.filter(function(Y){return Y[0]>V}).sort(function(Y,q){return Y[0]-q[0]});if(P.length){var I=P[0],O=I[0]-V;O>E?(V=g(V,E),E=0):(V=I[1],E-=O)}else V=g(V,E),E=0}return{v:V}}();if(te(S)==="object")return S.v}else{var k=function(){for(var V=m.clampDown(x),E=_;E<0;){var P=d.filter(function(Y){return Y[1]<V}).sort(function(Y,q){return q[0]-Y[0]});if(P.length){var I=P[0],O=I[1]-V;O<E?(V=g(V,E),E=0):(V=I[0],E-=O)}else V=g(V,E),E=0}return{v:V}}();if(te(k)==="object")return k.v}},m.clampUp=function(x){return d.reduce(function(_,S){return y(_,S)?S[1]:_},x)},m.clampDown=function(x){return d.reduce(function(_,S){return y(_,S)?S[0]:_},x)},m.copy=function(){return m},m},bf=24*3600*1e3,tr="00:00:00.000",VA="SOD",NA="EOD";function rv(f){if(arguments.length!==1||typeof f!="string")throw"Expected single argument of type string";var c=function(m,g){return Number.isInteger(m)?m>=0&&m<=g:!1},d=[0,0,0,0],p=f.split(":");if(p.length<2||p.length>3)throw"Expected an argument wiht 2 or 3 colon delimited parts.";if(d[0]=c(parseInt(p[0],10),23)?parseInt(p[0],10):function(){throw"'Hours' component must be an int between 0 and 23, but was '".concat(p[0],"'")}(),d[1]=c(parseInt(p[1],10),59)?parseInt(p[1],10):function(){throw"'Minutes' component must be an int between 0 and 59, but was '".concat(p[1],"'")}(),p.length===3){var y=p[2].split(".").map(function(w){return parseInt(w,10)});d[2]=c(y[0],59)?y[0]:function(){throw"'Seconds' component must be an int between 0 and 59, but was '".concat(y[0],"'")}(),y.length===2&&(d[3]=c(y[1],999)?y[1]:function(){throw"'Miliseconds' component must be an int between 0 and 999, but was '".concat(y[1],"'")}())}return"".concat(d[0].toString(10).padStart(2,"0"),":").concat(d[1].toString(10).padStart(2,"0"),":").concat(d[2].toString(10).padStart(2,"0"),".").concat(d[3].toString(10).padStart(3,"0"))}function DA(f,c){if(arguments.length!=2||!Array.isArray(f)||f.length!==2||typeof f[0]!="string"||typeof f[1]!="string")throw"Expected argument is a single string[] of length 2.";f[0]===VA&&(f[0]=tr),f[1]===NA&&(f[1]=tr);var d=rv(f[0]),p=rv(f[1]);if(p!==tr&&d>p)throw"Time range start time '".concat(d,"' must be before end time '").concat(p,"' or both must equal ").concat(tr);var y=c.setTime(new Date(p===tr?bf:0),p)-c.setTime(new Date(0),d),w={startTime:d,endTime:p,lenghtInMs:y};return w.isInRange=function(m){var g=c.getTimeString(m);return w.startTime<=g&&(w.endTime===tr||w.endTime>g)},w}var pa=function(c,d){var p=c.map(function(g){return DA(g,d)}).sort(function(g,x){return g.startTime<x.startTime?-1:g.startTime>x.startTime?1:0}),y=bf-p.reduce(function(g,x){return g+x.lenghtInMs},0),w=function(x,_){if(x.getTime()===_.getTime())return 0;if(d.dayInterval(x).getTime()!==d.dayInterval(_).getTime()&&d.getStartOfNextDay(x).getTime()!==_.getTime())throw"tradingDay.totalTradingMillisecondsBetween arguments must be on the same day or intervalEnd must be the start of the next day instead: intervalStart: '".concat(x,"'; intervalEnd: '").concat(_,"'");var S=0,k=p.filter(function(Y){return Y.endTime===tr||d.setTime(x,Y.endTime)>=x}),V=Rt(k),E;try{for(V.s();!(E=V.n()).done;){var P=E.value,I=d.setTime(x,P.startTime),O=P.endTime===tr?d.getStartOfNextDay(x):d.setTime(x,P.endTime);if(x<I&&_<I)return S+d.msInterval.count(x,_);if(x<I&&(S+=d.msInterval.count(x,I)),_<O)return S;x=O}}catch(Y){V.e(Y)}finally{V.f()}return S+d.msInterval.count(x,_)},m=function(x,_){if(_===0)return[x,_];var S=d.msInterval.offset(x,_),k=_>0?p.filter(function(Q){return d.setTime(x,Q.startTime)>=x}):p.filter(function(Q){return d.setTime(x,Q.startTime)<x}).reverse();if(k.length===0)return[d.msInterval.offset(x,_),0];if(_>0){var V=Rt(k),E;try{for(V.s();!(E=V.n()).done;){var P=E.value,I=d.setTime(x,P.startTime);I<=S&&(_-=d.msInterval.count(x,I),x=P.endTime===tr?d.getStartOfNextDay(x):d.setTime(x,P.endTime),S=d.msInterval.offset(x,_))}}catch(Q){V.e(Q)}finally{V.f()}_-=d.msInterval.count(x,S)}else{var O=Rt(k),Y;try{for(O.s();!(Y=O.n()).done;){var q=Y.value,W=q.endTime===tr?d.getStartOfNextDay(x):d.setTime(x,q.endTime);S<W&&(_+=d.msInterval.count(W,x)+1,x=d.msInterval.offset(d.setTime(x,q.startTime),-1),S=d.msInterval.offset(x,_))}}catch(Q){O.e(Q)}finally{O.f()}_+=d.msInterval.count(S,x)}if(_!==0)throw"tradingDay.offset was called with an offset that spans more than a day";return[S,_]};return{totalTradingTimeInMiliseconds:y,nonTradingTimeRanges:p,totalTradingMillisecondsBetween:w,offset:m}},nv=function(c,d,p,y,w){var m={};return m.getTimeComponentArrayFromString=function(g){return[g.slice(0,2),g.slice(3,5),g.slice(6,8),g.slice(9,12)]},m.getTimeString=function(g){var x=p(g).map(function(P){return P.toString(10).padStart(2,"0")}),_=le(x,4),S=_[0],k=_[1],V=_[2],E=_[3];return"".concat(S,":").concat(k,":").concat(V,".").concat(E.padStart(3,"0"))},m.setTime=function(g,x){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,S=m.getTimeComponentArrayFromString(x),k=le(S,4),V=k[0],E=k[1],P=k[2],I=k[3];return w.offset(c(g,V,E,P,I),_)},m.getStartOfNextDay=function(g){return y.offset(y.floor(g),1)},m.getEndOfPreviousDay=function(g){return w.offset(y.floor(g),-1)},m.dayInterval=y,m.msInterval=w,m.getDay=d,m},EA=nv(function(f,c,d,p,y){return new Date(f.getFullYear(),f.getMonth(),f.getDate(),c,d,p,y)},function(f){return f.getDay()},function(f){return[f.getHours(),f.getMinutes(),f.getSeconds(),f.getMilliseconds()]},n.timeDay,n.timeMillisecond),av=function(c,d){var p=function(x){return c[x]===void 0?[]:c[x]},y=[pa(p("Sunday"),d),pa(p("Monday"),d),pa(p("Tuesday"),d),pa(p("Wednesday"),d),pa(p("Thursday"),d),pa(p("Friday"),d),pa(p("Saturday"),d)],w=y.reduce(function(g,x){return g+x.totalTradingTimeInMiliseconds},0);if(w===0)throw"Trading pattern must yield at least 1 ms of trading time";var m={tradingDays:y,totalTradingWeekMilliseconds:w};return m.clampUp=function(g){var x=y[d.getDay(g)],_=Rt(x.nonTradingTimeRanges),S;try{for(_.s();!(S=_.n()).done;){var k=S.value;if(k.isInRange(g))return k.endTime===tr?m.clampUp(d.getStartOfNextDay(g)):d.setTime(g,k.endTime)}}catch(V){_.e(V)}finally{_.f()}return g},m.clampDown=function(g){var x=y[d.getDay(g)],_=Rt(x.nonTradingTimeRanges),S;try{for(_.s();!(S=_.n()).done;){var k=S.value;if(k.isInRange(g))return k.startTime===tr?m.clampDown(d.getEndOfPreviousDay(g)):d.setTime(g,k.startTime,-1)}}catch(V){_.e(V)}finally{_.f()}return g},m.distance=function(g,x){if(g.getTime()===x.getTime())return 0;var _=g<=x?[g,x,1]:[x,g,-1],S=le(_,3),k=S[0],V=S[1],E=S[2];if(d.dayInterval(k).getTime()===d.dayInterval(V).getTime())return m.tradingDays[d.getDay(k)].totalTradingMillisecondsBetween(k,V);var P=m.tradingDays[d.getDay(k)].totalTradingMillisecondsBetween(k,d.dayInterval.offset(d.dayInterval(k),1))+m.tradingDays[d.getDay(V)].totalTradingMillisecondsBetween(d.dayInterval(V),V);return d.dayInterval.count(k,V)===1?P:(k=d.dayInterval.offset(d.dayInterval(k),1),V=d.dayInterval(V),E*d.dayInterval.range(k,V).reduce(function(I,O,Y,q){var W=Y<q.length-1?q[Y+1]:d.dayInterval.offset(O,1),Q=W-O!==bf,oe=m.tradingDays[d.getDay(O)];return I+=Q?oe.totalTradingMillisecondsBetween(O,W):oe.totalTradingTimeInMiliseconds},P))},m.offset=function(g,x){g=x>=0?m.clampUp(g):m.clampDown(g);var _=function(Q){return d.dayInterval.offset(Q)-d.dayInterval(Q)!==bf},S=function(Q,oe,pe){if(pe<0){var ge=d.dayInterval(oe),he=Q.totalTradingMillisecondsBetween(ge,oe);return Math.abs(pe)<=he?Q.offset(oe,pe):[m.clampDown(d.msInterval.offset(ge,-1)),pe+he+1]}else{var ke=d.getStartOfNextDay(oe),xt=Q.totalTradingMillisecondsBetween(oe,ke);return pe<xt?Q.offset(oe,pe):[m.clampUp(ke),pe-xt]}};if(x===0)return g;var k=x<0?function(W,Q,oe){return[m.clampDown(d.dayInterval.offset(W,-1)),Q+oe]}:function(W,Q,oe){return[m.clampUp(d.dayInterval.offset(W)),Q-oe]},V=m.tradingDays[d.getDay(g)],E=S(V,g,x),P=le(E,2);for(g=P[0],x=P[1];x!==0;)if(V=m.tradingDays[d.getDay(g)],_(g)){var I=S(V,g,x),O=le(I,2);g=O[0],x=O[1]}else{var Y=Math.abs(x)>=V.totalTradingTimeInMiliseconds?k(g,x,V.totalTradingTimeInMiliseconds):S(V,g,x),q=le(Y,2);g=q[0],x=q[1]}return g},m.copy=function(){return m},m},IA=function(f){return av(f,EA)},PA=nv(function(f,c,d,p,y){return new Date(Date.UTC(f.getUTCFullYear(),f.getUTCMonth(),f.getUTCDate(),c,d,p,y))},function(f){return f.getUTCDay()},function(f){return[f.getUTCHours(),f.getUTCMinutes(),f.getUTCSeconds(),f.getUTCMilliseconds()]},n.utcDay,n.utcMillisecond),zA=function(f){return av(f,PA)};function ov(){var f=[function(m){return m}],c=[0,0],d="percent",p=null,y=[],w=function(g){var x=new Array(g.length),_=Rt(f),S;try{for(_.s();!(S=_.n()).done;)for(var k=S.value,V=0;V<g.length;V++){var E=k(g[V],V);Array.isArray(E)?x.push.apply(x,be(E)):x.push(E)}}catch(Y){_.e(Y)}finally{_.f()}var P=[t.min(x),t.max(x)];if(P[0]=P[0]==null?t.min(y):t.min([P[0]].concat(be(y))),P[1]=P[1]==null?t.max(y):t.max([P[1]].concat(be(y))),p!=null){var I=Math.max(Math.abs(P[1]-p),Math.abs(P[0]-p));P[0]=p-I,P[1]=p+I}switch(d){case"domain":{P[0]-=c[0],P[1]+=c[1];break}case"percent":{var O=P[1]-P[0];P[0]-=c[0]*O,P[1]+=c[1]*O;break}default:throw new Error("Unknown padUnit: ".concat(d))}return P};return w.accessors=function(){return arguments.length?(f=arguments.length<=0?void 0:arguments[0],w):f},w.pad=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],w):c},w.padUnit=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],w):d},w.include=function(){return arguments.length?(y=arguments.length<=0?void 0:arguments[0],w):y},w.symmetricalAbout=function(){return arguments.length?(p=arguments.length<=0?void 0:arguments[0],w):p},w}function iv(){var f=[],c=[0,0],d="percent",p=null,y=[],w=ov(),m=function(_){return _!=null?_.valueOf():null},g=function(_){var S=f.map(function(k){return function(){var V=k.apply(void 0,arguments);return Array.isArray(V)?V.map(m):m(V)}});return w.accessors(S).pad(c).padUnit(d).symmetricalAbout(p!=null?p.valueOf():null).include(y.map(function(k){return k.valueOf()})),w(_).map(function(k){return new Date(k)})};return g.accessors=function(){return arguments.length?(f=arguments.length<=0?void 0:arguments[0],g):f},g.pad=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],g):c},g.padUnit=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],g):d},g.include=function(){return arguments.length?(y=arguments.length<=0?void 0:arguments[0],g):y},g.symmetricalAbout=function(){return arguments.length?(p=arguments.length<=0?void 0:arguments[0],g):p},g}function uv(){var f=1,c=20,d=.1,p=.1,y=a.randomNormal(),w=function(){for(var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,x=f/c,_=[],S=0;S<c+1;S++){_.push(g);var k=y()*Math.sqrt(x)*p+(d-p*p/2)*x;g=g*Math.exp(k)}return _};return w.period=function(){return arguments.length?(f=arguments.length<=0?void 0:arguments[0],w):f},w.steps=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],w):c},w.mu=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],w):d},w.sigma=function(){return arguments.length?(p=arguments.length<=0?void 0:arguments[0],w):p},w.random=function(){return arguments.length?(y=arguments.length<=0?void 0:arguments[0],w):y},w}function RA(f){return typeof f=="function"?f:function(){return f}}function LA(){var f=new Date,c=100,d=n.timeDay,p=1,y=n.timeYear,w=1,m=null,g=function(){var I=a.randomNormal(1,.1);return Math.ceil(I()*1e3)},x=uv(),_=function(I){var O=y.offset(I,w)-I;return(d.offset(I,p)-I)/O},S=function(I,O){var Y=_(I),q=x.period(Y)(O),W={date:I,open:q[0],high:Math.max.apply(Math,q),low:Math.min.apply(Math,q),close:q[x.steps()]};return W.volume=g(W),W},k=function(I){var O,Y,q;do O=I?d.offset(I.date,p):new Date(f.getTime()),Y=I?I.close:c,I=S(O,Y),q=m&&!m(I);while(q);return I},V=function(){var I,O={};return O.next=function(){var Y=k(I);return I=Y,Y},O.take=function(Y){return O.until(function(q,W){return!Y||Y<0||W===Y})},O.until=function(Y){for(var q=[],W=0,Q=k(I),oe=Y&&!Y(Q,W);oe;)q.push(Q),I=Q,Q=k(I),W+=1,oe=Y&&!Y(Q,W);return q},O},E=function(I){return V().take(I)};if(E.stream=V,typeof Symbol!="function"||te(Symbol.iterator)!=="symbol")throw new Error("d3fc-random-data depends on Symbol. Make sure that you load a polyfill in older browsers. See README.");return E[Symbol.iterator]=function(){var P=V();return{next:function(){return{value:P.next(),done:!1}}}},E.startDate=function(){return arguments.length?(f=arguments.length<=0?void 0:arguments[0],E):f},E.startPrice=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],E):c},E.interval=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],E):d},E.intervalStep=function(){return arguments.length?(p=arguments.length<=0?void 0:arguments[0],E):p},E.unitInterval=function(){return arguments.length?(y=arguments.length<=0?void 0:arguments[0],E):y},E.unitIntervalStep=function(){return arguments.length?(w=arguments.length<=0?void 0:arguments[0],E):w},E.filter=function(){return arguments.length?(m=arguments.length<=0?void 0:arguments[0],E):m},E.volume=function(){return arguments.length?(g=RA(arguments.length<=0?void 0:arguments[0]),E):g},C(E,x),E}function OA(f){var c=f.date.getDay();return!(c===0||c===6)}function BA(){var f="BTC-USD",c=null,d=null,p=null,y=function(){var m=[];c!=null&&m.push("start="+c.toISOString()),d!=null&&m.push("end="+d.toISOString()),p!=null&&m.push("granularity="+p);var g="https://api.gdax.com/products/"+f+"/candles?"+m.join("&");return o.json(g).then(function(x){return x.map(function(_){return{date:new Date(_[0]*1e3),open:_[3],high:_[2],low:_[1],close:_[4],volume:_[5]}})})};return y.product=function(w){return arguments.length?(f=w,y):f},y.start=function(w){return arguments.length?(c=w,y):c},y.end=function(w){return arguments.length?(d=w,y):d},y.granularity=function(w){return arguments.length?(p=w,y):p},y}function yf(){var f=10,c=function(p){return f<=1?p.map(function(y){return[y]}):t.range(0,Math.ceil(p.length/f)).map(function(y){return p.slice(y*f,(y+1)*f)})};return c.bucketSize=function(d){return arguments.length?(f=d,c):f},c}function FA(){var f=yf(),c=function(m){return m},d=function(m){return m},p=function(m){if(f.bucketSize()>=m.length)return m;var g=y(m),x=f(g),_=f(m.slice(1,m.length-1)),S=_.map(function(k,V){var E=x[V],P=t.max(E),I=E.indexOf(P);return k[I]});return[].concat([m[0]],S,[m[m.length-1]])};function y(w){var m=w.map(function(x){return[c(x),d(x)]}),g=t.range(1,m.length-1).map(function(x){var _=m[x-1],S=m[x],k=m[x+1];return .5*Math.abs((_[0]-k[0])*(S[1]-_[1])-(_[0]-S[0])*(k[1]-_[1]))});return g}return A(p,f,"bucketSize"),p.x=function(w){return arguments.length?(c=w,p):c},p.y=function(w){return arguments.length?(d=w,p):d},p}function HA(){var f=function(w){return w},c=function(w){return w},d=yf(),p=function(w){if(d.bucketSize()>=w.length)return w;var m=d(w.slice(1,w.length-1)),g=w[0],x=w[w.length-1],_=[].concat([g],m,[x]),S=f(g),k=c(g),V=m.map(function(E,P){var I=t.mean(_[P+1],f),O=t.mean(_[P+1],c),Y=E.map(function(oe){return[f(oe),c(oe)]}),q=Y.map(function(oe){return .5*Math.abs((S-I)*(oe[1]-k)-(S-oe[0])*(O-k))}),W=q.indexOf(t.max(q)),Q=Y[W];return S=Q[0],k=Q[1],E[W]});return[].concat([w[0]],V,[w[w.length-1]])};return A(p,d,"bucketSize"),p.x=function(y){return arguments.length?(f=y,p):f},p.y=function(y){return arguments.length?(c=y,p):c},p}function YA(){var f=yf(),c=function(y){return y},d=function(y){if(f.bucketSize()>y.length)return y;var w=t.extent(y,c),m=f(y.slice(1,y.length-1)),g=m.map(function(x,_){var S={},k,V,E=!0,P=x.map(c),I=P.filter(function(O){return O===w[0]||O===w[1]}).map(function(O){return P.indexOf(O)})[0];return I!==void 0?x[I]:(P.forEach(function(O,Y){S[O]===void 0&&(S[O]=0),S[O]++,S[O]>S[k]||k===void 0?(k=O,V=Y,E=!0):S[O]===S[k]&&(E=!1)}),E?x[V]:x[Math.floor(x.length/2)])});return[].concat([y[0]],g,[y[y.length-1]])};return A(d,f,"bucketSize"),d.value=function(p){return arguments.length?(c=p,d):c},d}var De=function(f){return typeof f=="function"?f:function(){return f}},Gs=function(){var f=null,c=function(S){return S.date},d=function(S){return S.open},p=function(S){return S.high},y=function(S){return S.low},w=function(S){return S.close},m="vertical",g=De(3),x=function(S){var k=f||i.path();return S.forEach(function(V,E){var P=c(V,E),I=d(V,E),O=p(V,E),Y=y(V,E),q=w(V,E),W=g(V,E)/2;m==="vertical"?(k.moveTo(P,Y),k.lineTo(P,O),k.moveTo(P,I),k.lineTo(P-W,I),k.moveTo(P,q),k.lineTo(P+W,q)):(k.moveTo(Y,P),k.lineTo(O,P),k.moveTo(I,P),k.lineTo(I,P+W),k.moveTo(q,P),k.lineTo(q,P-W))}),f?null:k.toString()};return x.context=function(){return arguments.length?(f=arguments.length<=0?void 0:arguments[0],x):f},x.x=function(){return arguments.length?(c=De(arguments.length<=0?void 0:arguments[0]),x):c},x.open=function(){return arguments.length?(d=De(arguments.length<=0?void 0:arguments[0]),x):d},x.high=function(){return arguments.length?(p=De(arguments.length<=0?void 0:arguments[0]),x):p},x.low=function(){return arguments.length?(y=De(arguments.length<=0?void 0:arguments[0]),x):y},x.close=function(){return arguments.length?(w=De(arguments.length<=0?void 0:arguments[0]),x):w},x.width=function(){return arguments.length?(g=De(arguments.length<=0?void 0:arguments[0]),x):g},x.orient=function(){return arguments.length?(m=arguments.length<=0?void 0:arguments[0],x):m},x},xo=function(){var f=null,c=function(_){return _.x},d=function(_){return _.y},p="center",y="center",w=function(_){return _.height},m=De(3),g=function(_,S){var k=f||i.path();return _.forEach(function(V,E){var P=c.call(this,V,S||E),I=d.call(this,V,S||E),O=w.call(this,V,S||E),Y=m.call(this,V,S||E),q;switch(p){case"left":q=Y;break;case"right":q=0;break;case"center":q=Y/2;break;default:throw new Error("Invalid horizontal alignment "+p)}var W;switch(y){case"bottom":W=-O;break;case"top":W=0;break;case"center":W=O/2;break;default:throw new Error("Invalid vertical alignment "+y)}k.rect(P-q,I-W,Y,O)},this),f?null:k.toString()};return g.context=function(){return arguments.length?(f=arguments.length<=0?void 0:arguments[0],g):f},g.x=function(){return arguments.length?(c=De(arguments.length<=0?void 0:arguments[0]),g):c},g.y=function(){return arguments.length?(d=De(arguments.length<=0?void 0:arguments[0]),g):d},g.width=function(){return arguments.length?(m=De(arguments.length<=0?void 0:arguments[0]),g):m},g.horizontalAlign=function(){return arguments.length?(p=arguments.length<=0?void 0:arguments[0],g):p},g.height=function(){return arguments.length?(w=De(arguments.length<=0?void 0:arguments[0]),g):w},g.verticalAlign=function(){return arguments.length?(y=arguments.length<=0?void 0:arguments[0],g):y},g},Us=function(){var f=null,c=function(_){return _.date},d=function(_){return _.open},p=function(_){return _.high},y=function(_){return _.low},w=function(_){return _.close},m=De(3),g=function(_){var S=f||i.path();return _.forEach(function(k,V){var E=c(k,V),P=d(k,V),I=p(k,V),O=y(k,V),Y=w(k,V),q=m(k,V),W=q/2;S.rect(E-W,P,q,Y-P),S.moveTo(E,Math.min(Y,P)),S.lineTo(E,I),S.moveTo(E,Math.max(Y,P)),S.lineTo(E,O)}),f?null:S.toString()};return g.context=function(){return arguments.length?(f=arguments.length<=0?void 0:arguments[0],g):f},g.x=function(){return arguments.length?(c=De(arguments.length<=0?void 0:arguments[0]),g):c},g.open=function(){return arguments.length?(d=De(arguments.length<=0?void 0:arguments[0]),g):d},g.high=function(){return arguments.length?(p=De(arguments.length<=0?void 0:arguments[0]),g):p},g.low=function(){return arguments.length?(y=De(arguments.length<=0?void 0:arguments[0]),g):y},g.close=function(){return arguments.length?(w=De(arguments.length<=0?void 0:arguments[0]),g):w},g.width=function(){return arguments.length?(m=De(arguments.length<=0?void 0:arguments[0]),g):m},g},Xs=function(){var f=null,c=function(V){return V.value},d=function(V){return V.median},p=function(V){return V.upperQuartile},y=function(V){return V.lowerQuartile},w=function(V){return V.high},m=function(V){return V.low},g="vertical",x=De(5),_=De(.5),S=function(V){var E=f||i.path();return V.forEach(function(P,I){var O=c(P,I),Y=x(P,I),q=Y/2,W=Y*_(P,I),Q=W/2,oe=w(P,I),pe=p(P,I),ge=d(P,I),he=y(P,I),ke=m(P,I),xt=he-pe;g==="vertical"?(E.moveTo(O-Q,oe),E.lineTo(O+Q,oe),E.moveTo(O,oe),E.lineTo(O,pe),E.rect(O-q,pe,Y,xt),E.moveTo(O-q,ge),E.lineTo(O+q,ge),E.moveTo(O,he),E.lineTo(O,ke),E.moveTo(O-Q,ke),E.lineTo(O+Q,ke)):(E.moveTo(ke,O-Q),E.lineTo(ke,O+Q),E.moveTo(ke,O),E.lineTo(he,O),E.rect(he,O-q,-xt,Y),E.moveTo(ge,O-q),E.lineTo(ge,O+q),E.moveTo(pe,O),E.lineTo(oe,O),E.moveTo(oe,O-Q),E.lineTo(oe,O+Q))}),f?null:E.toString()};return S.context=function(){return arguments.length?(f=arguments.length<=0?void 0:arguments[0],S):f},S.value=function(){return arguments.length?(c=De(arguments.length<=0?void 0:arguments[0]),S):c},S.median=function(){return arguments.length?(d=De(arguments.length<=0?void 0:arguments[0]),S):d},S.upperQuartile=function(){return arguments.length?(p=De(arguments.length<=0?void 0:arguments[0]),S):p},S.lowerQuartile=function(){return arguments.length?(y=De(arguments.length<=0?void 0:arguments[0]),S):y},S.high=function(){return arguments.length?(w=De(arguments.length<=0?void 0:arguments[0]),S):w},S.low=function(){return arguments.length?(m=De(arguments.length<=0?void 0:arguments[0]),S):m},S.width=function(){return arguments.length?(x=De(arguments.length<=0?void 0:arguments[0]),S):x},S.orient=function(){return arguments.length?(g=arguments.length<=0?void 0:arguments[0],S):g},S.cap=function(){return arguments.length?(_=De(arguments.length<=0?void 0:arguments[0]),S):_},S},js=function(){var f=null,c=function(x){return x.x},d=function(x){return x.high},p=function(x){return x.low},y="vertical",w=De(5),m=function(x){var _=f||i.path();return x.forEach(function(S,k){var V=c(S,k),E=w(S,k),P=E/2,I=d(S,k),O=p(S,k);y==="vertical"?(_.moveTo(V-P,I),_.lineTo(V+P,I),_.moveTo(V,I),_.lineTo(V,O),_.moveTo(V-P,O),_.lineTo(V+P,O)):(_.moveTo(O,V-P),_.lineTo(O,V+P),_.moveTo(O,V),_.lineTo(I,V),_.moveTo(I,V-P),_.lineTo(I,V+P))}),f?null:_.toString()};return m.context=function(){return arguments.length?(f=arguments.length<=0?void 0:arguments[0],m):f},m.value=function(){return arguments.length?(c=De(arguments.length<=0?void 0:arguments[0]),m):c},m.high=function(){return arguments.length?(d=De(arguments.length<=0?void 0:arguments[0]),m):d},m.low=function(){return arguments.length?(p=De(arguments.length<=0?void 0:arguments[0]),m):p},m.width=function(){return arguments.length?(w=De(arguments.length<=0?void 0:arguments[0]),m):w},m.orient=function(){return arguments.length?(y=arguments.length<=0?void 0:arguments[0],m):y},m},Qs=function(f){return typeof f=="function"?f:function(){return f}},Ks=1e-6,at=function(c){return c.selection()!==c},Pe=function(f,c){f=f||"g";var d=function(m,g){return g},p=null,y=function(m,g){g=g||function(I){return I};var x=m.selection(),_=at(m)?m:null,S=x.selectChildren(c==null?f:"".concat(f,".").concat(c)),k=S.data(g,d),V=k.enter().append(f).attr("class",c),E=k.exit();k=k.merge(V);var P=_||p;return P&&(k=k.transition(P).style("opacity",1),V.style("opacity",Ks),E=E.transition(P).style("opacity",Ks)),E.remove(),k.enter=function(){return V},k.exit=function(){return E},k};return y.element=function(){return arguments.length?(f=arguments.length<=0?void 0:arguments[0],y):f},y.className=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],y):c},y.key=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],y):d},y.transition=function(){return arguments.length?(p=arguments.length<=0?void 0:arguments[0],y):p},y},qA=function(f){var c=function(){},d=function(){return[0,0]},p=function(k,V){return[k.x,k.y]},y=f||function(S){return S},w=function(){},m=r.scaleIdentity(),g=r.scaleIdentity(),x=Pe("g","label"),_=function(k){k.each(function(V,E,P){var I=x(u.select(P[E]),V).call(w),O=I.nodes(),Y=O.map(function(W,Q){var oe=u.select(W).datum(),pe=p(oe,Q,O),ge=[m(pe[0]),g(pe[1])],he=d(oe,Q,O);return{hidden:!1,x:ge[0],y:ge[1],width:he[0],height:he[1]}}),q=y(Y);I.attr("style",function(W,Q){return"display:"+(q[Q].hidden?"none":"inherit")}).attr("transform",function(W,Q){return"translate("+q[Q].x+", "+q[Q].y+")"}).attr("layout-width",function(W,Q){return q[Q].width}).attr("layout-height",function(W,Q){return q[Q].height}).attr("anchor-x",function(W,Q,oe){return Y[Q].x-q[Q].x}).attr("anchor-y",function(W,Q,oe){return Y[Q].y-q[Q].y}),I.call(w),c(I,V,E)})};return C(_,x,F("key")),C(_,y),_.size=function(){return arguments.length?(d=Qs(arguments.length<=0?void 0:arguments[0]),_):d},_.position=function(){return arguments.length?(p=Qs(arguments.length<=0?void 0:arguments[0]),_):p},_.component=function(){return arguments.length?(w=arguments.length<=0?void 0:arguments[0],_):w},_.decorate=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],_):c},_.xScale=function(){return arguments.length?(m=arguments.length<=0?void 0:arguments[0],_):m},_.yScale=function(){return arguments.length?(g=arguments.length<=0?void 0:arguments[0],_):g},_},WA=function(f){var c=2,d=function(x){return x},p=Pe("text"),y=Pe("rect"),w=Pe("circle"),m=function(x){x.each(function(_,S,k){var V=k[S],E=u.select(V),P=Number(V.getAttribute("layout-width")),I=Number(V.getAttribute("layout-height")),O=y(E,[_]);O.attr("width",P).attr("height",I);var Y=Number(V.getAttribute("anchor-x")),q=Number(V.getAttribute("anchor-y")),W=w(E,[_]);W.attr("r",2).attr("cx",Y).attr("cy",q);var Q=p(E,[_]);Q.enter().attr("dy","0.9em").attr("transform","translate(".concat(c,", ").concat(c,")")),Q.text(d)})};return m.padding=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],m):c},m.value=function(){return arguments.length?(d=Qs(arguments.length<=0?void 0:arguments[0]),m):d},m},$A=function(c,d){return!(c.x>=d.x+d.width||c.x+c.width<=d.x||c.y>=d.y+d.height||c.y+c.height<=d.y)},Zs=function(f,c){if($A(f,c)){var d=Math.max(f.x,c.x),p=Math.min(f.x+f.width,c.x+c.width),y=Math.max(f.y,c.y),w=Math.min(f.y+f.height,c.y+c.height);return(p-d)*(w-y)}else return 0},Js=function(c,d){return t.sum(c.map(function(p,y){return d===y?0:Zs(c[d],p)}))},Cn=function(c,d,p,y,w){return{x:c,y:d,width:p,height:y,location:w}},fv=function(f){var c=f.x,d=f.y,p=f.width,y=f.height;return[Cn(c,d,p,y,"bottom-right"),Cn(c-p,d,p,y,"bottom-left"),Cn(c-p,d-y,p,y,"top-left"),Cn(c,d-y,p,y,"top-right"),Cn(c,d-y/2,p,y,"middle-right"),Cn(c-p/2,d,p,y,"bottom-center"),Cn(c-p,d-y/2,p,y,"middle-left"),Cn(c-p/2,d-y,p,y,"top-center")]},lv=function(c,d,p){return[].concat(be(c.slice(0,d)),[p],be(c.slice(d+1)))},GA=function(c,d){return c<d},cv=function f(){var c=null,d=GA,p=function(){return 0},y,w=function(x,_){return c-p(y[_],_,y)+p(x,_,lv(y,_,x))},m=function g(x,_){c||(c=t.sum(y.map(function(k,V){return p(k,V,y)})));var S=w(x,_);return d(S,c)?f().locationScore(p).winningScore(d).score(S).rectangles(lv(y,_,x)):g};return m.rectangles=function(){return arguments.length?(y=arguments.length<=0?void 0:arguments[0],m):y},m.score=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],m):c},m.winningScore=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],m):d},m.locationScore=function(){return arguments.length?(p=arguments.length<=0?void 0:arguments[0],m):p},m},UA=function(){var f,c=function(w){return f?w.width*w.height-Zs(w,f):0},d=function(w,m,g){return Js(g,m)+c(w)},p=function(w){var m=cv().locationScore(d).rectangles(w);return w.forEach(function(g,x){fv(g).forEach(function(_,S){m=m(_,x)})}),m.rectangles()};return p.bounds=function(){return arguments.length?(f=arguments.length<=0?void 0:arguments[0],p):f},p},XA=function(c){return c[sv(c)]},sv=function(c){return Math.floor(Math.random()*c.length)},jA=function(){var f=1e3,c=1,d,p=function(x){switch(x.location){case"bottom-right":return 0;case"middle-right":case"bottom-center":return x.width*x.height/8}return x.width*x.height/4},y=function(x){return d?x.width*x.height-Zs(x,d):0},w=function(x,_,S){return Js(S,_)+y(x)+p(x)},m=function(x){for(var _=f,S=function(I,O){return Math.exp((O-I)/_)>Math.random()},k=cv().locationScore(w).winningScore(S).rectangles(x);_>0;){var V=sv(x),E=XA(fv(x[V]));k=k(E,V),_-=c}return k.rectangles()};return m.temperature=function(){return arguments.length?(f=arguments.length<=0?void 0:arguments[0],m):f},m.cooling=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],m):c},m.bounds=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],m):d},m},QA=function(c,d){return c[t.scan(c,d)]},KA=function(f){f=f||function(d){return d};var c=function(p){p=f(p);for(var y=function(){var g=p.filter(function(S){return!S.hidden}),x=g.map(function(S,k){return[S,Js(g,k)]}),_=QA(x,function(S,k){return k[1]-S[1]});if(_[1]>0)_[0].hidden=!0;else return"break"};;){var w=y();if(w==="break")break}return p};return C(c,f),c},ZA=function(){var f=[0,0],c=function(p){return p.map(function(y,w){var m=y.x,g=y.y;return m+y.width>f[0]&&(m-=y.width),g+y.height>f[1]&&(g-=y.height),{height:y.height,width:y.width,x:m,y:g}})};return c.bounds=function(){return arguments.length?(f=arguments.length<=0?void 0:arguments[0],c):f},c},$e=function(f){return typeof f=="function"?f:function(){return f}};function Ei(){var f=arguments;return function(c,d){for(var p=0,y=f.length;p<y;p++)if(f[p](c,d)==null)return!1;return!0}}var Ii=function(f,c){switch(f){case"left":return c/2;case"right":return-c/2;default:return 0}},ga=function(f){var c=Object.assign({},f),d=function(){};return Object.keys(c).forEach(function(p){d[p]=function(){return arguments.length?(c[p]=arguments.length<=0?void 0:arguments[0],d):c[p]}}),d},rr=function(){var f=function(){return 0},c=function(x){return x.x},d=function(x){return x.y},p="center",y=function(){return 5},w="vertical",m=ga({decorate:function(){},defined:function(x,_){return Ei(f,c,d)(x,_)},xScale:r.scaleIdentity(),yScale:r.scaleIdentity()});return m.values=function(g,x){var _=y(g,x),S=Ii(p,_),k=m.xScale(),V=m.yScale();if(w==="vertical"){var E=V(d(g,x),x),P=V(f(g,x),x),I=k(c(g,x),x)+S;return{d:g,x:I,y:E,y0:P,width:_,height:E-P,origin:[I,E],baseOrigin:[I,P],transposedX:I,transposedY:E}}else{var O=k(d(g,x),x),Y=k(f(g,x),x),q=V(c(g,x),x)+S;return{d:g,x:q,y:O,y0:Y,width:_,height:O-Y,origin:[O,q],baseOrigin:[Y,q],transposedX:O,transposedY:q}}},m.xValues=function(){return w==="vertical"?[c]:[f,d]},m.yValues=function(){return w!=="vertical"?[c]:[f,d]},m.baseValue=function(){return arguments.length?(f=$e(arguments.length<=0?void 0:arguments[0]),m):f},m.crossValue=function(){return arguments.length?(c=$e(arguments.length<=0?void 0:arguments[0]),m):c},m.mainValue=function(){return arguments.length?(d=$e(arguments.length<=0?void 0:arguments[0]),m):d},m.bandwidth=function(){return arguments.length?(y=$e(arguments.length<=0?void 0:arguments[0]),m):y},m.align=function(){return arguments.length?(p=arguments.length<=0?void 0:arguments[0],m):p},m.orient=function(){return arguments.length?(w=arguments.length<=0?void 0:arguments[0],m):w},m},JA="#c60",eC="#6c0",tC="#000",rC="#ddd",nC="#999",et={red:JA,green:eC,black:tC,gray:rC,darkGray:nC},ed=function(){var f=rr(),c=l.line().x(function(y,w){return f.values(y,w).transposedX}).y(function(y,w){return f.values(y,w).transposedY}),d=Pe("path","line"),p=function(w){at(w)&&d.transition(w),c.defined(f.defined()),w.each(function(m,g,x){var _=d(u.select(x[g]),[m]);_.enter().attr("fill","none").attr("stroke",et.black),_.attr("d",c),f.decorate()(_,m,g)})};return C(p,f,B("baseValue","bandwidth","align")),A(p,d,"key"),A(p,c,"curve"),p},td=function(){var f=rr(),c=l.line().x(function(p,y){return f.values(p,y).transposedX}).y(function(p,y){return f.values(p,y).transposedY}),d=function(y){var w=c.context();w.beginPath(),w.strokeStyle=et.black,w.fillStyle="transparent",f.decorate()(w,y),c.defined(f.defined())(y),w.fill(),w.stroke(),w.closePath()};return C(d,f,B("baseValue","bandwidth","align")),A(d,c,"curve","context"),d},it=function(){var f=[0,1],c=[-1,1],d=function(){};return d.domain=function(){return arguments.length?(f=arguments.length<=0?void 0:arguments[0],d):f},d.range=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],d):c},d},dv=function(){var f={},c={},d=null,p=function(w,m){var g=w.context();Object.keys(f).forEach(function(x){var _=f[x];if(typeof _!="function")throw new Error("Expected an attribute for ".concat(x,", found ").concat(_));var S=g.getAttribLocation(m,x);_.location(S)(w)}),Object.keys(c).forEach(function(x){var _=c[x];if(typeof _!="function")throw new Error("Expected a uniform for ".concat(x,", found ").concat(_));var S=g.getUniformLocation(m,x);_.location(S)(w)}),d!==null&&d(w)};return p.flush=function(){Object.values(f).forEach(function(y){return y.clear()}),Object.values(c).forEach(function(y){return y.clear()}),d!==null&&d.clear()},p.attribute=function(){for(var y=arguments.length,w=new Array(y),m=0;m<y;m++)w[m]=arguments[m];return w.length===1?f[w[0]]:(f[w[0]]=w[1],p)},p.uniform=function(){for(var y=arguments.length,w=new Array(y),m=0;m<y;m++)w[m]=arguments[m];return w.length===1?c[w[0]]:(c[w[0]]=w[1],p)},p.elementIndices=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],p):d},p},Qt=function(f){var c=-1,d=f,p=!0,y=function(m){if(!!p){var g=m.context();if(Array.isArray(d))switch(d.length){case 1:g.uniform1fv(c,d);break;case 2:g.uniform2fv(c,d);break;case 3:g.uniform3fv(c,d);break;case 4:g.uniform4fv(c,d);break;default:throw new Error("Uniform supports up to 4 elements. ".concat(d.length," provided."))}else g.uniform1f(c,d);p=!1}};return y.clear=function(){p=!0},y.location=function(){return arguments.length?(c!==(arguments.length<=0?void 0:arguments[0])&&(c=arguments.length<=0?void 0:arguments[0],p=!0),y):c},y.data=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],p=!0,y):d},y},nn={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},an=function(){var f=null,c=null,d=null,p=null,y=null,w=null,m=nn.TRIANGLES,g=0,x=dv(),_=!1,S=null,k=!0,V=1,E=function Y(q){if(f!=null){var W=d(),Q=p();if(P(c,W,Q)&&(c=I(W,Q),y=W,w=Q,k=!1),f.useProgram(c),x.uniform("uScreen",Qt([f.canvas.width/V,f.canvas.height/V])),x(Y,c),g===0)x.elementIndices()==null?f.drawArrays(m,0,q):f.drawElements(m,q,f.UNSIGNED_SHORT,0);else if(x.elementIndices()==null)S.drawArraysInstancedANGLE(m,0,g,q);else{var oe=x.elementIndices().data().length;if(g!==oe)throw new Error("Expected elementIndices length ".concat(oe)+" to match subInstanceCount ".concat(g,"."));S.drawElementsInstancedANGLE(m,g,f.UNSIGNED_SHORT,0,q)}}};return E.extInstancedArrays=function(){return S},E.context=function(){for(var Y=arguments.length,q=new Array(Y),W=0;W<Y;W++)q[W]=arguments[W];return q.length?((q[0]==null||q[0]!==f)&&(x.flush(),k=!0),q[0]!=null&&q[0]!==f&&(S=q[0].getExtension("ANGLE_instanced_arrays")),f=q[0],E):f},E.buffers=function(){return arguments.length?(x=arguments.length<=0?void 0:arguments[0],E):x},E.vertexShader=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],E):d},E.fragmentShader=function(){return arguments.length?(p=arguments.length<=0?void 0:arguments[0],E):p},E.mode=function(){return arguments.length?(m=arguments.length<=0?void 0:arguments[0],E):m},E.subInstanceCount=function(){return arguments.length?(g=arguments.length<=0?void 0:arguments[0],E):g},E.debug=function(){return arguments.length?(_=arguments.length<=0?void 0:arguments[0],E):_},E.pixelRatio=function(){return arguments.length?(V=arguments.length<=0?void 0:arguments[0],E):V},E;function P(Y,q,W){return!Y||k?!0:q!==y||W!==w}function I(Y,q){var W=O(Y,f.VERTEX_SHADER),Q=O(q,f.FRAGMENT_SHADER),oe=f.createProgram();if(f.attachShader(oe,W),f.attachShader(oe,Q),f.linkProgram(oe),_&&!f.getProgramParameter(oe,f.LINK_STATUS)){var pe=f.getProgramInfoLog(oe);throw f.deleteProgram(oe),new Error("Failed to link program : ".concat(pe,`
            Vertex Shader : `).concat(Y,`
            Fragment Shader : `).concat(q))}return oe}function O(Y,q){var W=f.createShader(q);if(f.shaderSource(W,Y),f.compileShader(W),_&&!f.getShaderParameter(W,f.COMPILE_STATUS)){var Q=f.getShaderInfoLog(W);throw f.deleteShader(W),new Error("Failed to compile shader : ".concat(Q,`
            Shader : `).concat(Y))}return W}},Ye=function(f){var c=[],d=[],p=function(){return f(c.join(`
`),d.join(`
`))};function y(g,x){g.push(x)}function w(g,x,_){var S=g.indexOf(_);g.splice(S>=0?S:g.length,0,x)}function m(g,x){var _=g.indexOf(x);_===-1&&g.push(x)}return p.appendHeader=function(g){return y(c,g),p},p.insertHeader=function(g,x){return w(c,g,x),p},p.appendHeaderIfNotExists=function(g){return m(c,g),p},p.appendBody=function(g){return y(d,g),p},p.insertBody=function(g,x){return w(d,g,x),p},p.appendBodyIfNotExists=function(g){return m(d,g),p},p},Yt=function(c,d){return`
precision mediump float;
float inf = 1.0 / 0.0;
`.concat(c,`
void main() {
    `).concat(d,`
}`)},qt=function(c,d){return`
precision mediump float;
`.concat(c,`
void main() {
    gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);
    `).concat(d,`
}`)},mv={header:`attribute vec4 aFillColor;
             varying vec4 vFillColor;`,body:"vFillColor = aFillColor;"},hv={header:`attribute vec4 aStrokeColor;
             varying vec4 vStrokeColor;`,body:"vStrokeColor = aStrokeColor;"},pv={header:`
        attribute float aCrossValue;
        attribute float aMainValue;
        attribute float aSize;
        attribute float aDefined;

        uniform float uStrokeWidth;

        varying float vSize;
        varying float vDefined;`,body:`
        vDefined = aDefined;
        vSize = 2.0 * sqrt(aSize / 3.14159);
        gl_PointSize = vSize + uStrokeWidth + 1.0;
        gl_Position = vec4(aCrossValue, aMainValue, 0, 1);`},gv={header:`
        attribute float aCrossValue;
        attribute float aMainValue;
        attribute float aSize;
        attribute float aDefined;

        uniform float uStrokeWidth;

        varying float vSize;
        varying float vDefined;`,body:`
        vDefined = aDefined;
        vSize = 4.0 * sqrt(aSize / 3.14159);
        gl_PointSize = vSize + uStrokeWidth + 1.0;
        gl_Position = vec4(aCrossValue, aMainValue, 0, 1);`},vv={header:`
        attribute float aCrossValue;
        attribute float aMainValue;
        attribute float aSize;
        attribute float aDefined;

        uniform float uStrokeWidth;

        varying float vSize;
        varying float vDefined;`,body:`
        vDefined = aDefined;
        vSize = 3.0 * sqrt(aSize / 3.14159);
        gl_PointSize = vSize + uStrokeWidth + 1.0;
        gl_Position = vec4(aCrossValue, aMainValue, 0, 1);`},xv={header:`
        attribute float aCrossValue;
        attribute float aMainValue;
        attribute float aSize;
        attribute float aDefined;

        uniform float uStrokeWidth;

        varying float vSize;
        varying float vDefined;`,body:`
        vDefined = aDefined;
        vSize = sqrt(aSize);
        gl_PointSize = vSize + uStrokeWidth + 1.0;
        gl_Position = vec4(aCrossValue, aMainValue, 0, 1);`},bv={header:`
        attribute float aCrossValue;
        attribute float aMainValue;
        attribute float aSize;
        attribute float aDefined;

        uniform float uStrokeWidth;

        varying float vSize;
        varying float vDefined;`,body:`
        vDefined = aDefined;
        vSize = sqrt(aSize);
        gl_PointSize = 2.0 * (vSize + uStrokeWidth + 1.0);
        gl_Position = vec4(aCrossValue, aMainValue, 0, 1);`},yv={header:`
        attribute float aCrossValue;
        attribute float aMainValue;
        attribute float aSize;
        attribute float aDefined;

        uniform float uStrokeWidth;

        varying float vSize;
        varying float vDefined;`,body:`
        vDefined = aDefined;
        vSize = sqrt((16.0 * aSize) / (3.0 * sqrt(3.0)));
        gl_PointSize = vSize + uStrokeWidth + 1.0;
        gl_Position = vec4(aCrossValue, aMainValue, 0, 1);`},wv={header:`
        attribute float aCrossValue;
        attribute float aMainValue;
        attribute float aSize;
        attribute float aDefined;

        uniform float uStrokeWidth;

        varying float vSize;
        varying float vStrokeWidthRatio;
        varying float vDefined;`,body:`
        vDefined = aDefined;
        vSize = 3.0 * sqrt(aSize / 5.0);
        vStrokeWidthRatio = uStrokeWidth / (vSize + uStrokeWidth + 1.0);
        gl_PointSize = vSize + uStrokeWidth + 1.0;
        gl_Position = vec4(aCrossValue, aMainValue, 0, 1);`},_v={header:`
        attribute float aCrossValue;
        attribute float aBandwidth;
        attribute float aHighValue;
        attribute float aOpenValue;
        attribute float aCloseValue;
        attribute float aLowValue;
        attribute vec3 aCorner;
        attribute float aDefined;

        uniform vec2 uScreen;
        uniform float uStrokeWidth;

        varying float vColorIndicator;
        varying float vDefined;`,body:`
        vDefined = aDefined;
        vColorIndicator = sign(aCloseValue - aOpenValue);

        float isPositiveY = (sign(aCorner.y) + 1.0) / 2.0;
        float isNotPositiveY = 1.0 - isPositiveY;
        float isExtremeY = abs(aCorner.y) - 1.0;
        float isNotExtremeY = 1.0 - isExtremeY;
        float yValue =
         (isPositiveY * isExtremeY * aLowValue) +
         (isPositiveY * isNotExtremeY * aCloseValue) +
         (isNotPositiveY * isNotExtremeY * aOpenValue) +
         (isNotPositiveY * isExtremeY * aHighValue);

        float lineWidthXDirection = (isNotExtremeY * aCorner.x) + (isExtremeY * aCorner.z);
        float lineWidthYDirection = isNotExtremeY * sign(aCloseValue - aOpenValue) * aCorner.y;

        float bandwidthModifier = aBandwidth * aCorner.x / 2.0;

        float xModifier = (uStrokeWidth * lineWidthXDirection / 2.0) + bandwidthModifier;
        float yModifier = uStrokeWidth * lineWidthYDirection / 2.0;

        gl_Position = vec4(aCrossValue, yValue, 0, 1);`},Sv={header:`
        attribute float aCrossValue;
        attribute float aBandwidth;
        attribute float aHighValue;
        attribute float aOpenValue;
        attribute float aCloseValue;
        attribute float aLowValue;
        attribute vec3 aCorner;
        attribute float aDefined;

        uniform vec2 uScreen;
        uniform float uStrokeWidth;

        varying float vColorIndicator;
        varying float vDefined;`,body:`
        vDefined = aDefined;
        vColorIndicator = sign(aCloseValue - aOpenValue);

        float isPositiveY = (sign(aCorner.y) + 1.0) / 2.0;
        float isNotPositiveY = 1.0 - isPositiveY;
        float isExtremeY = abs(aCorner.y) - 1.0;
        float isNotExtremeY = 1.0 - isExtremeY;
        float yValue =
            (isPositiveY * isExtremeY * aLowValue) +
            (isPositiveY * isNotExtremeY * aCloseValue) +
            (isNotPositiveY * isNotExtremeY * aOpenValue) +
            (isNotPositiveY * isExtremeY * aHighValue);

        float lineWidthXDirection = isExtremeY * aCorner.z;
        float lineWidthYDirection = isNotExtremeY * aCorner.z;

        float bandwidthModifier = isNotExtremeY * aCorner.x * aBandwidth / 2.0;

        float xModifier = (uStrokeWidth * lineWidthXDirection / 2.0) + bandwidthModifier;
        float yModifier = uStrokeWidth * lineWidthYDirection / 2.0;

        gl_Position = vec4(aCrossValue, yValue, 0, 1);`},Mv={header:`
        attribute float aCrossValue;
        attribute float aBandwidth;
        attribute float aMainValue;
        attribute float aBaseValue;
        attribute vec2 aCorner;
        attribute float aDefined;

        uniform vec2 uScreen;
        uniform float uStrokeWidth;

        varying float vDefined;`,body:`
        vDefined = aDefined;
        float isBaseline = (1.0 - aCorner.y) / 2.0;
        float yValue = (isBaseline * aBaseValue) + ((1.0 - isBaseline) * aMainValue);

        float xModifier = aCorner.x * (aBandwidth) / 2.0;

        gl_Position = vec4(aCrossValue, yValue, 0, 1);`},Av={header:`
        attribute vec3 aCorner;
        attribute float aCrossValue;
        attribute float aBandwidth;
        attribute float aHighValue;
        attribute float aLowValue;
        attribute float aDefined;

        uniform vec2 uScreen;
        uniform float uStrokeWidth;

        varying float vDefined;`,body:`
        vDefined = aDefined;
        float isLow = (aCorner.y + 1.0) / 2.0;
        float yValue = isLow * aLowValue + (1.0 - isLow) * aHighValue;

        float isEdgeCorner = abs(aCorner.x);
        float lineWidthXDirection = (1.0 - isEdgeCorner) * aCorner.z;
        float lineWidthYDirection = isEdgeCorner * aCorner.z;

        gl_Position = vec4(aCrossValue, yValue, 0, 1);

        float xModifier = (uStrokeWidth * lineWidthXDirection) + (aBandwidth * aCorner.x / 2.0);
        float yModifier = (uStrokeWidth * lineWidthYDirection);`},Cv={header:`
        attribute vec3 aCorner;
        attribute float aCrossValue;
        attribute float aMainValue;
        attribute float aCrossNextValue;
        attribute float aMainNextValue;
        attribute float aBaseValue;
        attribute float aBaseNextValue;
        attribute float aDefined;
        attribute float aDefinedNext;

        varying float vDefined;

        float when_lt(float a, float b) {
            return max(sign(b - a), 0.0);
        }

        float and(float a, float b) {
            return a * b;
        }`,body:`
        vDefined = aDefined * aDefinedNext;
        gl_Position = vec4(0, 0, 0, 1);

        float hasIntercepted = when_lt((aMainNextValue - aBaseNextValue) * (aMainValue - aBaseValue), 0.0);
        float useIntercept = and(aCorner.z, hasIntercepted);

        float yGradient = (aMainNextValue - aMainValue) / (aCrossNextValue - aCrossValue);
        float yConstant = aMainNextValue - (yGradient * aCrossNextValue);

        float y0Gradient = (aBaseNextValue - aBaseValue) / (aCrossNextValue - aCrossValue);
        float y0Constant = aBaseNextValue - (y0Gradient * aCrossNextValue);

        float denominator = (yGradient - y0Gradient) + step(abs(yGradient - y0Gradient), 0.0);
        float interceptXValue = (y0Constant - yConstant) / denominator;
        float interceptYValue = (yGradient * interceptXValue) + yConstant;

        gl_Position = vec4(interceptXValue * useIntercept, interceptYValue * useIntercept, 0, 1);

        gl_Position.x += (1.0 - useIntercept) * ((aCorner.x * aCrossNextValue) + ((1.0 - aCorner.x) * aCrossValue));
        gl_Position.y += (1.0 - useIntercept) * (1.0 - aCorner.y) * ((aCorner.x * aMainNextValue) + ((1.0 - aCorner.x) * aMainValue));
        gl_Position.y += (1.0 - useIntercept) * aCorner.y * ((aCorner.x * aBaseNextValue) + ((1.0 - aCorner.x) * aBaseValue));`},kv={header:`
        attribute vec4 aCorner;
        attribute float aCrossValue;
        attribute float aBandwidth;
        attribute float aCapWidth;
        attribute float aHighValue;
        attribute float aUpperQuartileValue;
        attribute float aMedianValue;
        attribute float aLowerQuartileValue;
        attribute float aLowValue;
        attribute float aDefined;

        uniform vec2 uScreen;
        uniform float uStrokeWidth;

        varying float vDefined;
    `,body:`
        vDefined = aDefined;
        float isExtremeY = sign(abs(aCorner.y) - 2.0) + 1.0;
        float isNotExtremeY = 1.0 - isExtremeY;

        float isNonZeroY = abs(sign(aCorner.y));
        float isZeroY = 1.0 - isNonZeroY;

        float isQuartileY = isNotExtremeY * isNonZeroY;

        float isPositiveY = (sign(aCorner.y + 0.5) + 1.0) / 2.0;
        float isNegativeY = 1.0 - isPositiveY;

        float yValue =
          (isExtremeY * isNegativeY) * aHighValue +
          (isQuartileY * isNegativeY) * aUpperQuartileValue +
          isZeroY * aMedianValue +
          (isQuartileY * isPositiveY) * aLowerQuartileValue +
          (isExtremeY * isPositiveY) * aLowValue;

        gl_Position = vec4(aCrossValue, yValue, 0, 1);

        float isHorizontal = aCorner.w;
        float isVertical = 1.0 - isHorizontal;

        float xDisplacement = aCorner.x * (isExtremeY * aCapWidth + isNotExtremeY * aBandwidth) / 2.0;

        float xModifier = (isVertical * uStrokeWidth * aCorner.z / 2.0) + xDisplacement;
        float yModifier = isHorizontal * uStrokeWidth * aCorner.z / 2.0;`},Tv={header:`
        varying float vSize;
        varying float vDefined;`,body:`
        float canFill = 1.0;
        float distance = length(2.0 * gl_PointCoord - 1.0);
        float canStroke = smoothstep(vSize - 2.0, vSize, distance * vSize);
        if (distance > 1.0 || vDefined < 0.5) {
            discard;
            return;
        }`},Vv={header:`
        varying float vSize;
        varying float vDefined;

        // anterior, exterior angles
        float an = 0.628319;
        vec2 acs = vec2(0.809017, 0.587786); // (cos, sin)
        float en = 0.952000;
        vec2 ecs = vec2(0.580055, 0.814577);
    `,body:`
        float canFill = 1.0;

        vec2 p = 2.0 * gl_PointCoord - 1.0;
        p.y *= -1.0;

        // sector
        float bn = mod(atan(p.x, p.y), 2.0 * an) - an;
        p = length(p) * vec2(cos(bn), abs(sin(bn)));

        p -= acs;
        p += ecs * clamp(-dot(p, ecs), 0.0, acs.y / ecs.y);
        float d = length(p) * sign(p.x);

        float distance = 1.0 + d;
        float canStroke = smoothstep(vSize - 2.0, vSize, distance * vSize);
        if (distance > 1.0 || vDefined < 0.5) {
            discard;
            return;
        }`},Nv={header:`
        varying float vSize;
        varying float vDefined;
    `,body:`
        float canFill = 1.0;

        vec2 p = 2.0 * gl_PointCoord - 1.0;
        p.y *= -1.0;

        // sector
        float an = 3.141593 / 3.0;
        float bn = mod(atan(p.x, p.y), 2.0 * an) - an;
        p = length(p) * vec2(cos(bn), abs(sin(bn)));

        // box
        vec2 d = abs(p) - vec2(0.9, 0.35);
        float sdf = length(max(d, 0.0)) + min(max(d.x, d.y), 0.0);

        float distance = 1.0 + sdf;
        float canStroke = smoothstep(vSize - 2.0, vSize, distance * vSize);
        if (distance > 1.0 || vDefined < 0.5) {
            discard;
            return;
        }`},Dv={header:`
        varying float vSize;
        varying float vDefined;`,body:`
        float canFill = 1.0;
        if (vDefined < 0.5) {
            discard;
        }
        vec2 pointCoordTransform = 2.0 * gl_PointCoord - 1.0;
        float distance = max(abs(pointCoordTransform.x), abs(pointCoordTransform.y));
        float canStroke = smoothstep(vSize - 2.0, vSize, distance * vSize);`},Ev={header:`
        varying float vSize;
        varying float vDefined;
        float a = 0.6;
        float b = 1.0;
    `,body:`
        if (vDefined < 0.5) {
            discard;
        }

        vec2 pointCoordTransform = 2.0 * gl_PointCoord - 1.0;

        float x = abs(pointCoordTransform.x);
        float y = abs(pointCoordTransform.y);

        float X = (a * b * x) / (a * y + b * x);
        float Y = (a * b * y) / (a * y + b * x);

        float distance = length(vec2(x, y)) / length(vec2(X, Y));

        if (distance > 1.0) {
            discard;
        }
    `},Iv={header:`
        varying float vSize;
        varying float vDefined;`,body:`
        float canFill = 1.0;
        vec2 pointCoordTransform = 2.0 * gl_PointCoord - 1.0;
        float topEdgesDistance = abs(pointCoordTransform.x) - ((pointCoordTransform.y - 0.6) / sqrt(3.0));
        float bottomEdgeDistance = pointCoordTransform.y + 0.5;
        float distance = max(topEdgesDistance, bottomEdgeDistance);
        float canStroke = smoothstep(vSize - 2.0, vSize, distance * vSize);
        if (distance > 1.0 || vDefined < 0.5) {
            discard;
        }`},Pv={header:`
        varying float vSize;
        varying float vStrokeWidthRatio;
        varying float vDefined;`,body:`
        float canFill = 1.0;
        vec2 pointCoordTransform = 2.0 * gl_PointCoord - 1.0;
        float innerCornerDistance = min(abs(pointCoordTransform.x), abs(pointCoordTransform.y)) + 0.66 - vStrokeWidthRatio;
        float outerEdgeDistance = max(abs(pointCoordTransform.x), abs(pointCoordTransform.y));
        float distance = max(innerCornerDistance, outerEdgeDistance);
        float canStroke = smoothstep(vSize - 2.0, vSize, distance * vSize);
        if (distance > 1.0 || vDefined < 0.5) {
            discard;
        }`},zv={header:`
        varying float vColorIndicator;
        varying float vDefined;`,body:`
        float canFill = 1.0;
        float canStroke = 0.0;
        if (vDefined < 0.5) {
            discard;
        }
        gl_FragColor = vec4(0.4, 0.8, 0, 1);
        if (vColorIndicator < 0.0) {
            gl_FragColor = vec4(0.8, 0.4, 0, 1);
        }`},Rv={header:`
        varying float vColorIndicator;
        varying float vDefined;`,body:`
        float canFill = 0.0;
        float canStroke = 1.0;
        if (vDefined < 0.5) {
            discard;
        }
        gl_FragColor = vec4(0.4, 0.8, 0, 1);
        if (vColorIndicator < 0.0) {
            gl_FragColor = vec4(0.8, 0.4, 0, 1);
        }`},Lv={header:`
        varying float vDefined;`,body:`
        float canFill = 1.0;
        float canStroke = 0.0;
        if (vDefined < 0.5) {
            discard;
        }
        gl_FragColor = vec4(0.86, 0.86, 0.86, 1);`},Ov={header:`
        varying float vDefined;
    `,body:`
        float canFill = 0.0;
        float canStroke = 1.0;

        if (vDefined < 0.5) {
            discard;
        }`},Bv={header:"varying float vDefined;",body:`
        float canFill = 0.0;
        float canStroke = 1.0;
        if (vDefined < 0.5) {
            discard;
        }`},Fv={header:"varying float vDefined;",body:`
        float canFill = 1.0;
        float canStroke = 0.0;

        gl_FragColor = vec4(0.60, 0.60, 0.60, 1.0);

        if (vDefined < 0.5) {
            discard;
        }`},Hv={header:"varying vec4 vFillColor;",body:"gl_FragColor = (canFill * vFillColor) + ((1.0 - canFill) * gl_FragColor);"},Yv={header:"varying vec4 vStrokeColor;",body:"gl_FragColor = (canStroke * vStrokeColor) + ((1.0 - canStroke) * gl_FragColor);"},aC=function(){var f=Ye(Yt),c=Ye(qt);return f.appendHeader(Cv.header).appendBody(Cv.body),c.appendHeader(Lv.header).appendBody(Lv.body),{vertex:function(){return f},fragment:function(){return c}}},Ee={BYTE:5120,UNSIGNED_BYTE:5121,SHORT:5122,UNSIGNED_SHORT:5123,FLOAT:5126};function rd(f){switch(f){case Ee.BYTE:case Ee.UNSIGNED_BYTE:return 1;case Ee.SHORT:case Ee.UNSIGNED_SHORT:return 2;case Ee.FLOAT:return 4;default:throw new Error("Unknown type ".concat(f))}}function qv(f){switch(f){case Ee.BYTE:return Int8Array;case Ee.UNSIGNED_BYTE:return Uint8Array;case Ee.SHORT:return Int16Array;case Ee.UNSIGNED_SHORT:return Uint16Array;case Ee.FLOAT:return Float32Array;default:throw new Error("Unknown type ".concat(f))}}var wf=function(){var f=-1,c=null,d=1,p=Ee.FLOAT,y=!1,w=0,m=0,g=null,x=function(S){var k=S.context();c==null&&(c=k.createBuffer()),k.bindBuffer(k.ARRAY_BUFFER,c),k.vertexAttribPointer(f,d,p,y,w,m),k.enableVertexAttribArray(f);var V=S.extInstancedArrays();V.vertexAttribDivisorANGLE(f,g??(S.subInstanceCount()>0?1:0))};return x.location=function(){return arguments.length?(f=arguments.length<=0?void 0:arguments[0],x):f},x.buffer=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],x):c},x.size=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],x):d},x.type=function(){return arguments.length?(p=arguments.length<=0?void 0:arguments[0],x):p},x.normalized=function(){return arguments.length?(y=arguments.length<=0?void 0:arguments[0],x):y},x.stride=function(){return arguments.length?(w=arguments.length<=0?void 0:arguments[0],x):w},x.offset=function(){return arguments.length?(m=arguments.length<=0?void 0:arguments[0],x):m},x.divisor=function(){return arguments.length?(g=arguments.length<=0?void 0:arguments[0],x):g},x},oC=function(){var f=Ee.FLOAT,c=new Float32Array(0),d=function(y){var w=qv(f);return c.length>y?c=new w(c.buffer,0,y):c.length!==y&&(c=new w(y)),c};return d.type=function(){if(!arguments.length)return f;if(f!==(arguments.length<=0?void 0:arguments[0])){f=arguments.length<=0?void 0:arguments[0];var p=qv(f);c=new p(0)}return d},d},Wv=function(){var f=!0,c=1,d=Ee.FLOAT,p=oC(),y=function(x,_){return x},w=null,m=function(){var x=w.length,_=p.type(d)(x*c);if(c>1)for(var S=0;S<x;S++){var k=y(w[S],S);if(k.length!==c)throw new Error("Expected components array of size ".concat(c,", recieved array with length ").concat(k.length,"."));for(var V=0;V<c;V++)_[S*c+V]=k[V]}else for(var E=0;E<x;E++){var P=y(w[E],E);if(Array.isArray(P))throw new Error("Expected a single component value, recieved array with length ".concat(P.length,"."));_[E]=P}return f=!1,_};return m.dirty=function(){return f},m.clear=function(){f=!0},m.size=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],f=!0,m):c},m.type=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],f=!0,m):d},m.arrayViewFactory=function(){return arguments.length?(p=arguments.length<=0?void 0:arguments[0],f=!0,m):p},m.value=function(){return arguments.length?(y=arguments.length<=0?void 0:arguments[0],f=!0,m):y},m.data=function(){return arguments.length?(w=arguments.length<=0?void 0:arguments[0],f=!0,m):w},m},Ae=function(){var f=wf(),c=Wv(),d=function p(y){if(f.size(p.size()).type(p.type()),f(y),!!c.dirty()){var w=c(),m=y.context();m.bindBuffer(m.ARRAY_BUFFER,f.buffer()),m.bufferData(m.ARRAY_BUFFER,w,m.DYNAMIC_DRAW)}};return d.clear=function(){f.buffer(null),c.clear()},A(d,f,"normalized","location","divisor"),A(d,c,"data","value","size","type"),d},ye=function(f,c,d,p){for(var y=arguments.length,w=new Array(y>4?y-4:0),m=4;m<y;m++)w[m-4]=arguments[m];f[c]=function(){for(var g=arguments.length,x=new Array(g),_=0;_<g;_++)x[_]=arguments[_];var S=d[p].apply(d,w.concat(x));return S===d?f:S}},$v=function(){var f=an().mode(nn.TRIANGLES).subInstanceCount(6),c=it(),d=it(),p=function(){},y=Ae().divisor(0).size(3).type(Ee.UNSIGNED_BYTE).data([[0,0,0],[0,1,0],[1,1,1],[0,0,1],[1,0,0],[1,1,0]]);f.buffers().attribute("aCorner",y);var w=function(g){var x=aC();f.vertexShader(x.vertex()).fragmentShader(x.fragment()),c(f,"gl_Position",0),d(f,"gl_Position",1),p(f),f(g-1)};return w.decorate=function(){return arguments.length?(p=arguments.length<=0?void 0:arguments[0],w):p},w.xScale=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],w):c},w.yScale=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],w):d},A(w,f,"context","pixelRatio"),ye(w,"crossValueAttribute",f.buffers(),"attribute","aCrossValue"),ye(w,"crossNextValueAttribute",f.buffers(),"attribute","aCrossNextValue"),ye(w,"mainValueAttribute",f.buffers(),"attribute","aMainValue"),ye(w,"mainNextValueAttribute",f.buffers(),"attribute","aMainNextValue"),ye(w,"baseValueAttribute",f.buffers(),"attribute","aBaseValue"),ye(w,"baseNextValueAttribute",f.buffers(),"attribute","aBaseNextValue"),ye(w,"definedAttribute",f.buffers(),"attribute","aDefined"),ye(w,"definedNextAttribute",f.buffers(),"attribute","aDefinedNext"),w},Gv=function(){var f=Ye(Yt),c=Ye(qt);return f.appendHeader(pv.header).appendBody(pv.body),c.appendHeader(Tv.header).appendBody(Tv.body),{vertex:function(){return f},fragment:function(){return c}}},Uv=function(){var f=an().mode(nn.POINTS),c=it(),d=it(),p=Gv(),y=function(){},w=function(g){f.vertexShader(p.vertex()).fragmentShader(p.fragment()),c(f,"gl_Position",0),d(f,"gl_Position",1),y(f),f(g)};return w.type=function(){return arguments.length?(p=arguments.length<=0?void 0:arguments[0],w):p},w.decorate=function(){return arguments.length?(y=arguments.length<=0?void 0:arguments[0],w):y},w.xScale=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],w):c},w.yScale=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],w):d},A(w,f,"context","pixelRatio"),ye(w,"crossValueAttribute",f.buffers(),"attribute","aCrossValue"),ye(w,"mainValueAttribute",f.buffers(),"attribute","aMainValue"),ye(w,"sizeAttribute",f.buffers(),"attribute","aSize"),ye(w,"definedAttribute",f.buffers(),"attribute","aDefined"),w},Pi=function(){var f=1,c=function(p){p.buffers().uniform("uStrokeWidth",Qt(f))};return c.lineWidth=function(){return arguments.length?(f=arguments.length<=0?void 0:arguments[0],c):f},c},va=function(f){var c=null,d=f,p=!0,y=function(m){var g=m.context();c==null&&(c=g.createBuffer()),g.bindBuffer(g.ELEMENT_ARRAY_BUFFER,c),p&&(g.bufferData(g.ELEMENT_ARRAY_BUFFER,new Uint16Array(d),g.STATIC_DRAW),p=!1)};return y.clear=function(){c=null,p=!0},y.data=function(){return arguments.length?(p=!0,d=arguments.length<=0?void 0:arguments[0],y):d},y},Xv=function(){var f=an().mode(nn.TRIANGLES).subInstanceCount(6),c=it(),d=it(),p=function(){},y=Pi(),w=Ae().divisor(0).size(4).type(Ee.BYTE).data([[-1,1,1,0],[1,1,0,1],[1,-1,0,1],[-1,-1,1,0]]);f.buffers().elementIndices(va([0,1,2,2,3,0])).attribute("aCorner",w);var m=function(x){var _=Ye(Yt),S=Ye(qt);f.vertexShader(_).fragmentShader(S),_.appendHeader(`
            attribute vec4 aCorner;
            attribute float aCrossValue;
            attribute float aCrossNextValue;
            attribute float aMainValue;
            attribute float aMainNextValue;
            attribute float aDefined;
            attribute float aDefinedNext;

            uniform float uStrokeWidth;
            uniform vec2 uScreen;

            varying float vLength;
            varying vec2 vPosition;
        `),_.appendBody(`
            vec4 value = vec4(aCrossValue, aMainValue, 0.0, 1.0);
            vec4 nextValue = vec4(aCrossNextValue, aMainNextValue, 0.0, 1.0);
        `),c(f,"value",0),c(f,"nextValue",0),d(f,"value",1),d(f,"nextValue",1),_.appendBody(`
            vec2 position = aCorner[2] * value.xy + aCorner[3] * nextValue.xy;

            vec2 direction = normalize((nextValue.xy - value.xy) * uScreen);
            vec2 normal = vec2(direction.y, -direction.x);
            vec2 padding = ((uStrokeWidth / 2.0) / (uScreen / 2.0));
            
            padding *= aDefined * aDefinedNext;
            position += (aCorner[0] * direction + aCorner[1] * normal) * padding;

            gl_Position = vec4(position.x, position.y, 0.0, 1.0);

            vLength = length((nextValue.xy - value.xy) * (uScreen / 2.0));
            vPosition = aCorner.xy * (uStrokeWidth / 2.0);
            vPosition.x += aCorner[3] * vLength;
        `),S.appendHeader(`
            uniform float uStrokeWidth;
            varying float vLength;
            varying vec2 vPosition;

            float canFill = 0.0;
            float canStroke = 1.0;
        `),S.appendBody(`
            vec2 position = vPosition;
            position.x -= clamp(position.x, 0.0, vLength);
            float sdf = length(position) - uStrokeWidth / 2.0;
            if (sdf > 0.5) {
                discard;
            }
        `),y(f),p(f),f(x-1)};return m.decorate=function(){return arguments.length?(p=arguments.length<=0?void 0:arguments[0],m):p},m.xScale=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],m):c},m.yScale=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],m):d},A(m,f,"context","pixelRatio"),A(m,y,"lineWidth"),ye(m,"crossValueAttribute",f.buffers(),"attribute","aCrossValue"),ye(m,"crossNextValueAttribute",f.buffers(),"attribute","aCrossNextValue"),ye(m,"mainValueAttribute",f.buffers(),"attribute","aMainValue"),ye(m,"mainNextValueAttribute",f.buffers(),"attribute","aMainNextValue"),ye(m,"definedAttribute",f.buffers(),"attribute","aDefined"),ye(m,"definedNextAttribute",f.buffers(),"attribute","aDefinedNext"),m},iC=function(){var f=Ye(Yt),c=Ye(qt);return f.appendHeader(Sv.header).appendBody(Sv.body),c.appendHeader(Rv.header).appendBody(Rv.body),{vertex:function(){return f},fragment:function(){return c}}},jv=function(){var f=an().mode(nn.TRIANGLES).subInstanceCount(18),c=it(),d=it(),p=Pi(),y=function(){},w=Ae().divisor(0).size(3).type(Ee.BYTE).data([[0,-2,-1],[0,-2,1],[0,2,1],[0,2,-1],[-1,-1,-1],[-1,-1,1],[0,-1,1],[0,-1,-1],[1,1,1],[0,1,1],[0,1,-1],[1,1,-1]]);f.buffers().elementIndices(va([0,1,2,0,3,2,4,5,6,4,7,6,8,9,10,10,11,8])).attribute("aCorner",w);var m=function(x){var _=iC();f.vertexShader(_.vertex()).fragmentShader(_.fragment()),c(f,"gl_Position",0),d(f,"gl_Position",1),p(f),f.vertexShader().appendBody(`
          gl_Position.x += xModifier / uScreen.x * 2.0;
          gl_Position.y += yModifier / uScreen.y * 2.0;
        `),y(f),f(x)};return m.decorate=function(){return arguments.length?(y=arguments.length<=0?void 0:arguments[0],m):y},m.xScale=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],m):c},m.yScale=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],m):d},A(m,f,"context","pixelRatio"),A(m,p,"lineWidth"),ye(m,"crossValueAttribute",f.buffers(),"attribute","aCrossValue"),ye(m,"openValueAttribute",f.buffers(),"attribute","aOpenValue"),ye(m,"highValueAttribute",f.buffers(),"attribute","aHighValue"),ye(m,"lowValueAttribute",f.buffers(),"attribute","aLowValue"),ye(m,"closeValueAttribute",f.buffers(),"attribute","aCloseValue"),ye(m,"bandwidthAttribute",f.buffers(),"attribute","aBandwidth"),ye(m,"definedAttribute",f.buffers(),"attribute","aDefined"),m},uC=function(){var f=Ye(Yt),c=Ye(qt);return f.appendHeader(Mv.header).appendBody(Mv.body),c.appendHeader(Fv.header).appendBody(Fv.body),{vertex:function(){return f},fragment:function(){return c}}},Qv=function(){var f=an().mode(nn.TRIANGLES).subInstanceCount(6),c=it(),d=it(),p=function(){},y=Ae().divisor(0).size(2).type(Ee.BYTE).data([[-1,-1],[1,1],[-1,1],[1,-1]]);f.buffers().elementIndices(va([0,1,2,0,1,3])).attribute("aCorner",y);var w=function(g){var x=uC();f.vertexShader(x.vertex()).fragmentShader(x.fragment()),c(f,"gl_Position",0),d(f,"gl_Position",1),f.vertexShader().appendBody(`
            gl_Position.x += xModifier / uScreen.x * 2.0;
        `),p(f),f(g)};return w.decorate=function(){return arguments.length?(p=arguments.length<=0?void 0:arguments[0],w):p},w.xScale=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],w):c},w.yScale=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],w):d},A(w,f,"context","pixelRatio"),ye(w,"crossValueAttribute",f.buffers(),"attribute","aCrossValue"),ye(w,"mainValueAttribute",f.buffers(),"attribute","aMainValue"),ye(w,"baseValueAttribute",f.buffers(),"attribute","aBaseValue"),ye(w,"bandwidthAttribute",f.buffers(),"attribute","aBandwidth"),ye(w,"definedAttribute",f.buffers(),"attribute","aDefined"),w},fC=function(){var f=Ye(Yt),c=Ye(qt);return f.appendHeader(Av.header).appendBody(Av.body),c.appendHeader(Bv.header).appendBody(Bv.body),{vertex:function(){return f},fragment:function(){return c}}},Kv=function(){var f=an().mode(nn.TRIANGLES).subInstanceCount(18),c=it(),d=it(),p=function(){},y=Pi(),w=Ae().divisor(0).size(3).type(Ee.BYTE).data([[0,1,1],[0,1,-1],[0,-1,-1],[0,-1,1],[1,-1,1],[1,-1,-1],[-1,-1,-1],[-1,-1,1],[-1,1,-1],[-1,1,1],[1,1,1],[1,1,-1]]);f.buffers().elementIndices(va([0,1,2,0,3,2,4,5,6,4,7,6,8,9,10,8,11,10])).attribute("aCorner",w);var m=function(x){var _=fC();f.vertexShader(_.vertex()).fragmentShader(_.fragment()),c(f,"gl_Position",0),d(f,"gl_Position",1),y(f),f.vertexShader().appendBody(`
                gl_Position.x += xModifier / uScreen.x * 2.0;
                gl_Position.y += yModifier / uScreen.y * 2.0;
            `),p(f),f(x)};return m.decorate=function(){return arguments.length?(p=arguments.length<=0?void 0:arguments[0],m):p},m.xScale=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],m):c},m.yScale=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],m):d},A(m,f,"context","pixelRatio"),A(m,y,"lineWidth"),ye(m,"crossValueAttribute",f.buffers(),"attribute","aCrossValue"),ye(m,"highValueAttribute",f.buffers(),"attribute","aHighValue"),ye(m,"lowValueAttribute",f.buffers(),"attribute","aLowValue"),ye(m,"bandwidthAttribute",f.buffers(),"attribute","aBandwidth"),ye(m,"definedAttribute",f.buffers(),"attribute","aDefined"),m},lC=function(){var f=Ye(Yt),c=Ye(qt);return f.appendHeader(_v.header).appendBody(_v.body),c.appendHeader(zv.header).appendBody(zv.body),{vertex:function(){return f},fragment:function(){return c}}},Zv=function(){var f=an().mode(nn.TRIANGLES).subInstanceCount(12),c=it(),d=it(),p=Pi(),y=function(){},w=Ae().divisor(0).size(3).type(Ee.BYTE).data([[0,2,1],[0,2,-1],[0,-2,-1],[0,-2,1],[1,-1,0],[-1,-1,0],[-1,1,0],[1,1,0]]);f.buffers().elementIndices(va([0,1,2,0,3,2,4,5,6,4,7,6])).attribute("aCorner",w);var m=function(x){var _=lC();f.vertexShader(_.vertex()).fragmentShader(_.fragment()),c(f,"gl_Position",0),d(f,"gl_Position",1),p(f),f.vertexShader().appendBody(`
          gl_Position.x += xModifier / uScreen.x * 2.0;
          gl_Position.y += yModifier / uScreen.y * 2.0;
        `),y(f),f(x)};return m.decorate=function(){return arguments.length?(y=arguments.length<=0?void 0:arguments[0],m):y},m.xScale=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],m):c},m.yScale=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],m):d},A(m,f,"context","pixelRatio"),A(m,p,"lineWidth"),ye(m,"crossValueAttribute",f.buffers(),"attribute","aCrossValue"),ye(m,"openValueAttribute",f.buffers(),"attribute","aOpenValue"),ye(m,"highValueAttribute",f.buffers(),"attribute","aHighValue"),ye(m,"lowValueAttribute",f.buffers(),"attribute","aLowValue"),ye(m,"closeValueAttribute",f.buffers(),"attribute","aCloseValue"),ye(m,"bandwidthAttribute",f.buffers(),"attribute","aBandwidth"),ye(m,"definedAttribute",f.buffers(),"attribute","aDefined"),m},cC=function(){var f=Ye(Yt),c=Ye(qt);return f.appendHeader(kv.header).appendBody(kv.body),c.appendHeader(Ov.header).appendBody(Ov.body),{vertex:function(){return f},fragment:function(){return c}}},Jv=function(){var f=an().mode(nn.TRIANGLES).subInstanceCount(54),c=it(),d=it(),p=function(){},y=Pi(),w=Ae().divisor(0).size(4).type(Ee.BYTE).data([[-1,-2,-1,1],[1,-2,-1,1],[1,-2,1,1],[-1,-2,1,1],[0,-2,-1,0],[0,-2,1,0],[0,-1,1,0],[0,-1,-1,0],[-1,-1,-1,1],[1,-1,-1,1],[1,-1,1,1],[-1,-1,1,1],[-1,0,-1,1],[1,0,-1,1],[1,0,1,1],[-1,0,1,1],[-1,1,-1,1],[1,1,-1,1],[1,1,1,1],[-1,1,1,1],[-1,-1,-1,0],[-1,-1,1,0],[-1,1,1,0],[-1,1,-1,0],[1,-1,-1,0],[1,-1,1,0],[1,1,1,0],[1,1,-1,0],[0,2,-1,0],[0,2,1,0],[0,1,1,0],[0,1,-1,0],[-1,2,-1,1],[1,2,-1,1],[1,2,1,1],[-1,2,1,1]]);f.buffers().elementIndices(va([0,1,2,0,2,3,4,5,6,4,6,7,8,9,10,8,10,11,12,13,14,12,14,15,16,17,18,16,18,19,20,21,22,20,22,23,24,25,26,24,26,27,28,29,30,28,30,31,32,33,34,32,34,35])).attribute("aCorner",w);var m=function(x){var _=cC();f.vertexShader(_.vertex()).fragmentShader(_.fragment()),c(f,"gl_Position",0),d(f,"gl_Position",1),y(f),f.vertexShader().appendBody(`
            gl_Position.x += xModifier / uScreen.x * 2.0;
            gl_Position.y += yModifier / uScreen.y * 2.0;
        `),p(f),f(x)};return m.decorate=function(){return arguments.length?(p=arguments.length<=0?void 0:arguments[0],m):p},m.xScale=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],m):c},m.yScale=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],m):d},A(m,f,"context","pixelRatio"),A(m,y,"lineWidth"),ye(m,"crossValueAttribute",f.buffers(),"attribute","aCrossValue"),ye(m,"highValueAttribute",f.buffers(),"attribute","aHighValue"),ye(m,"upperQuartileValueAttribute",f.buffers(),"attribute","aUpperQuartileValue"),ye(m,"medianValueAttribute",f.buffers(),"attribute","aMedianValue"),ye(m,"lowerQuartileValueAttribute",f.buffers(),"attribute","aLowerQuartileValue"),ye(m,"lowValueAttribute",f.buffers(),"attribute","aLowValue"),ye(m,"bandwidthAttribute",f.buffers(),"attribute","aBandwidth"),ye(m,"capAttribute",f.buffers(),"attribute","aCapWidth"),ye(m,"definedAttribute",f.buffers(),"attribute","aDefined"),m},kn=function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(f>0||c<0)throw new Error("Offset values (".concat(f," & ").concat(c,") must straddle 0 "));var d=wf(),p=Wv(),y=function w(m){var g=w.size()*rd(w.type()),x=Math.abs(f)*g;if(d.offset(x).size(w.size()).type(w.type()),d(m),!!p.dirty()){var _=p(),S=c*g,k=x+_.length*rd(w.type())+S,V=m.context();V.bindBuffer(V.ARRAY_BUFFER,d.buffer()),V.bufferData(V.ARRAY_BUFFER,k,V.DYNAMIC_DRAW),V.bufferSubData(V.ARRAY_BUFFER,x,_)}};return y.offset=function(w){if(f>w||w>c)throw new Error("Requested offset ".concat(w," exceeds bounds (").concat(f," & ").concat(c,") "));var m=function(x){d.offset((w-f)*y.size()*rd(y.type())),d(x)};return A(m,y,"clear","location"),m},y.clear=function(){d.buffer(null),p.clear()},A(y,d,"normalized","location","divisor"),A(y,p,"data","value","size","type"),y},_f=function(){var f=it(),c=function(y){return"linear".concat(y)},d=function(y,w,m){y.vertexShader().appendHeaderIfNotExists("uniform vec4 ".concat(c(m),"Offset;")).appendHeaderIfNotExists("uniform vec4 ".concat(c(m),"Scale;")).appendBody("".concat(w," = ").concat(w," + ").concat(c(m),"Offset;")).appendBody("".concat(w," = ").concat(w," * ").concat(c(m),"Scale;"));var g=f.domain()[1]-f.domain()[0],x=f.range()[1]-f.range()[0],_=f.range()[0]*(g/x)-f.domain()[0],S=x/g,k=[0,0,0,0],V=[1,1,1,1];k[m]=_,V[m]=S,y.buffers().uniform("".concat(c(m),"Offset"),Qt(k)).uniform("".concat(c(m),"Scale"),Qt(V))};return C(d,f),d},ex=function(){var f=it(),c=10;function d(w,m){return Math.log10(w)/Math.log10(m)}var p=function(m){return"log".concat(m)},y=function(m,g,x){var _="".concat(p(x),"Offset + (").concat(p(x),"Scale * clamp(log(").concat(g,") / log(").concat(p(x),"Base), -inf, inf))");m.vertexShader().appendHeaderIfNotExists("uniform vec4 ".concat(p(x),"Offset;")).appendHeaderIfNotExists("uniform vec4 ".concat(p(x),"Scale;")).appendHeaderIfNotExists("uniform vec4 ".concat(p(x),"Include;")).appendHeaderIfNotExists("uniform float ".concat(p(x),"Base;")).appendBody("".concat(g," = (").concat(p(x),"Include * (").concat(_,")) + ((1.0 - ").concat(p(x),"Include) * ").concat(g,");"));var S=d(f.domain()[1],c)-d(f.domain()[0],c),k=f.range()[1]-f.range()[0],V=k/S,E=f.range()[0]-V*d(f.domain()[0],c),P=[0,0,0,0],I=[0,0,0,0],O=[0,0,0,0];P[x]=E,I[x]=V,O[x]=1,m.buffers().uniform("".concat(p(x),"Offset"),Qt(P)).uniform("".concat(p(x),"Scale"),Qt(I)).uniform("".concat(p(x),"Include"),Qt(O)).uniform("".concat(p(x),"Base"),Qt(c))};return y.base=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],y):c},C(y,f),y},tx=function(){var f=it(),c=1;function d(w,m){return Math.sign(w)*Math.pow(Math.abs(w),m)}var p=function(m){return"pow".concat(m)},y=function(m,g,x){var _="".concat(p(x),"Offset + (").concat(p(x),"Scale * sign(").concat(g,") * pow(abs(").concat(g,"), vec4(").concat(p(x),"Exp)))");m.vertexShader().appendHeaderIfNotExists("uniform vec4 ".concat(p(x),"Offset;")).appendHeaderIfNotExists("uniform vec4 ".concat(p(x),"Scale;")).appendHeaderIfNotExists("uniform vec4 ".concat(p(x),"Include;")).appendHeaderIfNotExists("uniform float ".concat(p(x),"Exp;")).appendBody("".concat(g," = (").concat(p(x),"Include * (").concat(_,")) + ((1.0 - ").concat(p(x),"Include) * ").concat(g,");"));var S=d(f.domain()[1],c)-d(f.domain()[0],c),k=f.range()[1]-f.range()[0],V=k/S,E=f.range()[0]-V*d(f.domain()[0],c),P=[0,0,0,0],I=[0,0,0,0],O=[0,0,0,0];P[x]=E,I[x]=V,O[x]=1,m.buffers().uniform("".concat(p(x),"Offset"),Qt(P)).uniform("".concat(p(x),"Scale"),Qt(I)).uniform("".concat(p(x),"Include"),Qt(O)).uniform("".concat(p(x),"Exp"),Qt(c))};return y.exponent=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],y):c},C(y,f),y},sC=r.scaleLinear().copy.toString(),dC=r.scaleLog().copy.toString(),mC=r.scalePow().copy.toString(),hC=r.scaleTime().copy.toString(),nd=r.scaleIdentity(),pC=Date.now(),rx=function(c){return c-pC},Tn=function(f){switch(f.copy.toString()){case sC:return{scale:nd,webglScale:_f().domain(f.domain())};case hC:return{scale:rx,webglScale:_f().domain(f.domain().map(rx))};case dC:return{scale:nd,webglScale:ex().domain(f.domain()).base(f.base())};case mC:return{scale:nd,webglScale:tx().domain(f.domain()).exponent(f.exponent())};default:return{scale:f.copy(),webglScale:_f().domain(f.range())}}},gC=function(){var f=Ye(Yt),c=Ye(qt);return f.appendHeader(xv.header).appendBody(xv.body),c.appendHeader(Dv.header).appendBody(Dv.body),{vertex:function(){return f},fragment:function(){return c}}},vC=function(){var f=Ye(Yt),c=Ye(qt);return f.appendHeader(yv.header).appendBody(yv.body),c.appendHeader(Iv.header).appendBody(Iv.body),{vertex:function(){return f},fragment:function(){return c}}},xC=function(){var f=Ye(Yt),c=Ye(qt);return f.appendHeader(wv.header).appendBody(wv.body),c.appendHeader(Pv.header).appendBody(Pv.body),{vertex:function(){return f},fragment:function(){return c}}},bC=function(){var f=Ye(Yt),c=Ye(qt);return f.appendHeader(bv.header).appendBody(bv.body),c.appendHeader(Ev.header).appendBody(Ev.body),{vertex:function(){return f},fragment:function(){return c}}},yC=function(){var f=Ye(Yt),c=Ye(qt);return f.appendHeader(gv.header).appendBody(gv.body),c.appendHeader(Vv.header).appendBody(Vv.body),{vertex:function(){return f},fragment:function(){return c}}},wC=function(){var f=Ye(Yt),c=Ye(qt);return f.appendHeader(vv.header).appendBody(vv.body),c.appendHeader(Nv.header).appendBody(Nv.body),{vertex:function(){return f},fragment:function(){return c}}},nx=function(f){switch(f){case l.symbolCircle:return Gv();case l.symbolSquare:return gC();case l.symbolTriangle:return vC();case l.symbolCross:return xC();case l.symbolDiamond:return bC();case l.symbolStar:return yC();case l.symbolWye:return wC();default:throw new Error("Unrecognised symbol: ".concat(f))}},ax=function(f){var c=wf().divisor(1),d=f,p=!0,y=function(m){if(c(m),!!p){if(!Array.isArray(d))throw new Error("Expected an array, received: ".concat(d));if(d.length!==c.size())throw new Error("Expected array of length: ".concat(c.size(),", recieved array of length: ").concat(d.length));var g=m.context();g["vertexAttrib".concat(d.length,"fv")](c.location(),d),g.disableVertexAttribArray(c.location()),p=!1}};return y.clear=function(){p=!0},y.value=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],p=!0,y):d},A(y,c,"normalized","size","location"),y},_C=function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[0,0,0,1],c=Ae().size(4),d=f,p=!0,y=function(m){if(m.vertexShader().appendHeaderIfNotExists(mv.header).appendBodyIfNotExists(mv.body),m.fragmentShader().appendHeaderIfNotExists(Hv.header).appendBodyIfNotExists(Hv.body),Array.isArray(d))m.buffers().attribute("aFillColor",ax(d).size(4));else if(typeof d=="function"){if(!p)return;c.value(d),m.buffers().attribute("aFillColor",c)}else throw new Error("Expected value to be an array or function, received ".concat(d));p=!1};return y.value=function(){return arguments.length?(d!==(arguments.length<=0?void 0:arguments[0])&&(d=arguments.length<=0?void 0:arguments[0],p=!0),y):d},A(y,c,"data"),y},SC=function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[0,0,0,1],c=Ae().size(4),d=f,p=!0,y=function(m){if(m.vertexShader().appendHeaderIfNotExists(hv.header).appendBodyIfNotExists(hv.body),m.fragmentShader().appendHeaderIfNotExists(Yv.header).appendBodyIfNotExists(Yv.body),Array.isArray(d))m.buffers().attribute("aStrokeColor",ax(d).size(4));else if(typeof d=="function"){if(!p)return;c.value(d),m.buffers().attribute("aStrokeColor",c)}else throw new Error("Expected value to be an array or function, received ".concat(d));p=!1};return y.value=function(){return arguments.length?(d!==(arguments.length<=0?void 0:arguments[0])&&(d=arguments.length<=0?void 0:arguments[0],p=!0),y):d},A(y,c,"data"),y},ox=function(){var f=rr(),c=kn(0,1),d=c.offset(1),p=kn(0,1),y=p.offset(1),w=kn(0,1).type(Ee.UNSIGNED_BYTE),m=w.offset(1),g=Xv().crossValueAttribute(c).crossNextValueAttribute(d).mainValueAttribute(p).mainNextValueAttribute(y).definedAttribute(w).definedNextAttribute(m),x=function(I,O){return!1},_=Tn,S=[],k=null,V=null,E=function(I){var O=_(f.xScale()),Y=_(f.yScale()),q=!x(S,I);q&&(S=I,w.value(function(W,Q){return f.defined()(W,Q)}).data(I)),(q||O.scale!==k)&&(k=O.scale,f.orient()==="vertical"?c.value(function(W,Q){return O.scale(f.crossValue()(W,Q))}).data(I):c.value(function(W,Q){return O.scale(f.mainValue()(W,Q))}).data(I)),(q||Y.scale!==V)&&(V=Y.scale,f.orient()==="vertical"?p.value(function(W,Q){return Y.scale(f.mainValue()(W,Q))}).data(I):p.value(function(W,Q){return Y.scale(f.crossValue()(W,Q))}).data(I)),g.xScale(O.webglScale).yScale(Y.webglScale).decorate(function(W){return f.decorate()(W,I,0)}),g(I.length)};return E.equals=function(){return arguments.length?(x=arguments.length<=0?void 0:arguments[0],E):x},E.scaleMapper=function(){return arguments.length?(_=arguments.length<=0?void 0:arguments[0],E):_},C(E,f,B("baseValue","bandwidth","align")),A(E,g,"context","lineWidth","pixelRatio"),E},ix=function(){var f=l.symbol(),c=rr(),d=Pe("g","point"),p=function(m){return"translate("+m[0]+", "+m[1]+")"},y=function(m){at(m)&&d.transition(m),m.each(function(g,x,_){var S=g.filter(c.defined()),k=d(u.select(_[x]),S);k.enter().attr("transform",function(V,E){return p(c.values(V,E).origin)}).attr("fill",et.gray).attr("stroke",et.black).append("path"),k.attr("transform",function(V,E){return p(c.values(V,E).origin)}).select("path").attr("d",f),c.decorate()(k,g,x)})};return C(y,c,B("baseValue","bandwidth","align")),A(y,d,"key"),A(y,f,"type","size"),y},ux=function(){var f=l.symbol(),c=rr(),d=function(y){var w=y.filter(c.defined()),m=f.context();w.forEach(function(g,x){m.save();var _=c.values(g,x);m.translate(_.origin[0],_.origin[1]),m.beginPath(),m.strokeStyle=et.black,m.fillStyle=et.gray,c.decorate()(m,g,x),f(g,x),m.fill(),m.stroke(),m.closePath(),m.restore()})};return C(d,c,B("baseValue","bandwidth","align")),A(d,f,"size","type","context"),d},MC=function(){var f=rr(),c=$e(64),d=l.symbolCircle,p=Ae(),y=Ae(),w=Ae().type(Ee.UNSIGNED_SHORT),m=Ae().type(Ee.UNSIGNED_BYTE),g=Uv().crossValueAttribute(p).mainValueAttribute(y).sizeAttribute(w).definedAttribute(m),x=function(I,O){return!1},_=Tn,S=[],k=null,V=null,E=function(I){var O=_(f.xScale()),Y=_(f.yScale()),q=!x(S,I);q&&(S=I,w.value(function(W,Q){return c(W,Q)}).data(I),m.value(function(W,Q){return f.defined()(W,Q)}).data(I)),(q||O.scale!==k)&&(k=O.scale,f.orient()==="vertical"?p.value(function(W,Q){return O.scale(f.crossValue()(W,Q))}).data(I):p.value(function(W,Q){return O.scale(f.mainValue()(W,Q))}).data(I)),(q||Y.scale!==V)&&(V=Y.scale,f.orient()==="vertical"?y.value(function(W,Q){return Y.scale(f.mainValue()(W,Q))}).data(I):y.value(function(W,Q){return Y.scale(f.crossValue()(W,Q))}).data(I)),g.xScale(O.webglScale).yScale(Y.webglScale).type(nx(d)).decorate(function(W){return f.decorate()(W,I,0)}),g(I.length)};return E.size=function(){return arguments.length?(c=$e(arguments.length<=0?void 0:arguments[0]),E):c},E.type=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],E):d},E.equals=function(){return arguments.length?(x=arguments.length<=0?void 0:arguments[0],E):x},E.scaleMapper=function(){return arguments.length?(_=arguments.length<=0?void 0:arguments[0],E):_},C(E,f,B("baseValue","bandwidth","align")),A(E,g,"context","pixelRatio"),E},AC=function(){var f=xo().x(0).y(0),c=rr(),d=Pe("g","bar"),p=function(x){return c.orient()==="vertical"?x.height:x.width},y=function(x){return c.orient()==="vertical"?x.width:x.height},w=function(x){return"translate("+x[0]+", "+x[1]+")"},m=function(x){at(x)&&d.transition(x),x.each(function(_,S,k){var V=c.orient();if(V!=="vertical"&&V!=="horizontal")throw new Error("The bar series does not support an orientation of "+V);var E=_.filter(c.defined()),P=E.map(c.values);f.width(0).height(0),c.orient()==="vertical"?(f.verticalAlign("top"),f.horizontalAlign("center")):(f.horizontalAlign("right"),f.verticalAlign("center"));var I=d(u.select(k[S]),E);I.enter().attr("transform",function(O,Y){return w(P[Y].baseOrigin)}).attr("class","bar "+c.orient()).attr("fill",et.darkGray).append("path").attr("d",function(O,Y){return y(f)(P[Y].width),f([O])}),I.attr("transform",function(O,Y){return w(P[Y].origin)}).select("path").attr("d",function(O,Y){return y(f)(P[Y].width),p(f)(-P[Y].height),f([O])}),c.decorate()(I,E,S)})};return C(m,c),A(m,d,"key"),m},CC=function(){var f=rr(),c=xo().x(0).y(0),d=function(m){return f.orient()==="vertical"?m.height:m.width},p=function(m){return f.orient()==="vertical"?m.width:m.height},y=function(m){var g=c.context(),x=m.filter(f.defined()),_=x.map(f.values);f.orient()==="vertical"?(c.verticalAlign("top"),c.horizontalAlign("center")):(c.horizontalAlign("right"),c.verticalAlign("center")),_.forEach(function(S,k){g.save(),g.beginPath(),g.translate(S.origin[0],S.origin[1]),g.fillStyle=et.darkGray,g.strokeStyle="transparent",f.decorate()(g,S.d,k),d(c)(-S.height),p(c)(S.width),c([S]),g.fill(),g.stroke(),g.closePath(),g.restore()})};return C(y,f),A(y,c,"context"),y},kC=function(){var f=rr(),c=Ae(),d=Ae(),p=Ae(),y=Ae().type(Ee.UNSIGNED_SHORT),w=Ae().type(Ee.UNSIGNED_BYTE),m=Qv().crossValueAttribute(c).mainValueAttribute(d).baseValueAttribute(p).bandwidthAttribute(y).definedAttribute(w),g=function(P,I){return!1},x=Tn,_=[],S=null,k=null,V=function(P){if(f.orient()!=="vertical")throw new Error("Unsupported orientation ".concat(f.orient()));var I=x(f.xScale()),O=x(f.yScale()),Y=!g(_,P);Y&&(_=P,y.value(function(q,W){return f.bandwidth()(q,W)}).data(P),w.value(function(q,W){return f.defined()(q,W)}).data(P)),(Y||I.scale!==S)&&(S=I.scale,c.value(function(q,W){return I.scale(f.crossValue()(q,W))}).data(P)),(Y||O.scale!==k)&&(k=O.scale,p.value(function(q,W){return O.scale(f.baseValue()(q,W))}).data(P),d.value(function(q,W){return O.scale(f.mainValue()(q,W))}).data(P)),m.xScale(I.webglScale).yScale(O.webglScale).decorate(function(q){return f.decorate()(q,P,0)}),m(P.length)};return V.equals=function(){return arguments.length?(g=arguments.length<=0?void 0:arguments[0],V):g},V.scaleMapper=function(){return arguments.length?(x=arguments.length<=0?void 0:arguments[0],V):x},C(V,f,B("align")),A(V,m,"context","pixelRatio"),V},ad=function(){var f=function(x){return x.high},c=function(x){return x.low},d=function(x){return x.cross},p="vertical",y="center",w=function(){return 5},m=ga({decorate:function(){},defined:function(x,_){return Ei(c,f,d)(x,_)},xScale:r.scaleIdentity(),yScale:r.scaleIdentity()});return m.values=function(g,x){var _=w(g,x),S=Ii(y,_),k=m.xScale(),V=m.yScale();if(p==="vertical"){var E=V(f(g,x));return{origin:[k(d(g,x))+S,E],high:0,low:V(c(g,x))-E,width:_}}else{var P=k(c(g,x));return{origin:[P,V(d(g,x))+S],high:k(f(g,x))-P,low:0,width:_}}},m.xValues=function(){return p==="vertical"?[d]:[f,c]},m.yValues=function(){return p!=="vertical"?[d]:[f,c]},m.orient=function(){return arguments.length?(p=arguments.length<=0?void 0:arguments[0],m):p},m.lowValue=function(){return arguments.length?(c=$e(arguments.length<=0?void 0:arguments[0]),m):c},m.highValue=function(){return arguments.length?(f=$e(arguments.length<=0?void 0:arguments[0]),m):f},m.crossValue=function(){return arguments.length?(d=$e(arguments.length<=0?void 0:arguments[0]),m):d},m.bandwidth=function(){return arguments.length?(w=$e(arguments.length<=0?void 0:arguments[0]),m):w},m.align=function(){return arguments.length?(y=arguments.length<=0?void 0:arguments[0],m):y},m},TC=function(){var f=ad(),c=Pe("g","error-bar"),d=js().value(0),p=function(g){return function(x){return at(g)?x.transition(g):x}},y=function(g){return"translate("+g.origin[0]+", "+g.origin[1]+")"},w=function(g){at(g)&&c.transition(g);var x=p(g);g.each(function(_,S,k){var V=_.filter(f.defined()),E=V.map(f.values),P=c(u.select(k[S]),V);P.enter().attr("stroke",et.black).attr("fill",et.gray).attr("transform",function(I,O){return y(f.values(I,O))+" scale(1e-6, 1)"}).append("path"),d.orient(f.orient()),P.each(function(I,O,Y){var q=E[O];d.high(q.high).low(q.low).width(q.width),x(u.select(Y[O])).attr("transform",y(q)+" scale(1)").select("path").attr("d",d([I]))}),f.decorate()(P,_,S)})};return C(w,f),A(w,c,"key"),w},VC=function(){var f=ad(),c=js().value(0),d=function(y){var w=y.filter(f.defined()),m=c.context();c.orient(f.orient()),w.forEach(function(g,x){m.save();var _=f.values(g,x);m.translate(_.origin[0],_.origin[1]),m.beginPath(),m.strokeStyle=et.black,m.fillStyle=et.gray,f.decorate()(m,g,x),c.high(_.high).width(_.width).low(_.low)([g]),m.fill(),m.stroke(),m.closePath(),m.restore()})};return C(d,f),A(d,c,"context"),d},NC=function(){var f=ad(),c=Ae(),d=Ae(),p=Ae(),y=Ae().type(Ee.UNSIGNED_SHORT),w=Ae().type(Ee.UNSIGNED_BYTE),m=Kv().crossValueAttribute(c).highValueAttribute(d).lowValueAttribute(p).bandwidthAttribute(y).definedAttribute(w),g=function(P,I){return!1},x=Tn,_=[],S=null,k=null,V=function(P){if(f.orient()!=="vertical")throw new Error("Unsupported orientation ".concat(f.orient()));var I=x(f.xScale()),O=x(f.yScale()),Y=!g(_,P);Y&&(_=P,y.value(function(q,W){return f.bandwidth()(q,W)}).data(P),w.value(function(q,W){return f.defined()(q,W)}).data(P)),(Y||I.scale!==S)&&(S=I.scale,c.value(function(q,W){return I.scale(f.crossValue()(q,W))}).data(P)),(Y||O.scale!==k)&&(k=O.scale,d.value(function(q,W){return O.scale(f.highValue()(q,W))}).data(P),p.value(function(q,W){return O.scale(f.lowValue()(q,W))}).data(P)),m.xScale(I.webglScale).yScale(O.webglScale).decorate(function(q){return f.decorate()(q,P,0)}),m(P.length)};return V.equals=function(){return arguments.length?(g=arguments.length<=0?void 0:arguments[0],V):g},V.scaleMapper=function(){return arguments.length?(x=arguments.length<=0?void 0:arguments[0],V):x},C(V,f,B("align")),A(V,m,"context","lineWidth","pixelRatio"),V},DC=function(){var f=rr(),c=l.area(),d=Pe("path","area"),p=function(w){at(w)&&d.transition(w),c.defined(f.defined()),w.each(function(m,g,x){var _=m.map(f.values);c.x(function(V,E){return _[E].transposedX}).y(function(V,E){return _[E].transposedY});var S=f.orient()==="vertical"?"y":"x";c[S+"0"](function(V,E){return _[E].y0}),c[S+"1"](function(V,E){return _[E].y});var k=d(u.select(x[g]),[m]);k.enter().attr("fill",et.gray),k.attr("d",c),f.decorate()(k,m,g)})};return C(p,f,B("bandwidth","align")),A(p,d,"key"),A(p,c,"curve"),p},EC=function(){var f=rr(),c=l.area(),d=function(y){var w=c.context();c.defined(f.defined());var m=y.map(f.values);c.x(function(x,_){return m[_].transposedX}).y(function(x,_){return m[_].transposedY});var g=f.orient()==="vertical"?"y":"x";c[g+"0"](function(x,_){return m[_].y0}),c[g+"1"](function(x,_){return m[_].y}),w.beginPath(),w.fillStyle=et.gray,w.strokeStyle="transparent",f.decorate()(w,y),c(y),w.fill(),w.stroke(),w.closePath()};return C(d,f,B("bandwidth","align")),A(d,c,"curve","context"),d},IC=function(){var f=rr(),c=kn(0,1),d=c.offset(1),p=kn(0,1),y=p.offset(1),w=kn(0,1),m=w.offset(1),g=kn(0,1).type(Ee.UNSIGNED_BYTE),x=g.offset(1),_=$v().crossValueAttribute(c).crossNextValueAttribute(d).mainValueAttribute(p).mainNextValueAttribute(y).baseValueAttribute(w).baseNextValueAttribute(m).definedAttribute(g).definedNextAttribute(x),S=function(Y,q){return!1},k=Tn,V=[],E=null,P=null,I=function(Y){if(f.orient()!=="vertical")throw new Error("Unsupported orientation ".concat(f.orient()));var q=k(f.xScale()),W=k(f.yScale()),Q=!S(V,Y);Q&&(V=Y,g.value(function(oe,pe){return f.defined()(oe,pe)}).data(Y)),(Q||q.scale!==E)&&(E=q.scale,c.value(function(oe,pe){return q.scale(f.crossValue()(oe,pe))}).data(Y)),(Q||W.scale!==P)&&(P=W.scale,w.value(function(oe,pe){return W.scale(f.baseValue()(oe,pe))}).data(Y),p.value(function(oe,pe){return W.scale(f.mainValue()(oe,pe))}).data(Y)),_.xScale(q.webglScale).yScale(W.webglScale).decorate(function(oe){return f.decorate()(oe,Y,0)}),_(Y.length)};return I.equals=function(){return arguments.length?(S=arguments.length<=0?void 0:arguments[0],I):S},I.scaleMapper=function(){return arguments.length?(k=arguments.length<=0?void 0:arguments[0],I):k},C(I,f,B("bandwidth","align")),A(I,_,"context","pixelRatio"),I},od=function(){var f,c=function(S){return S.date},d=function(S){return S.open},p=function(S){return S.high},y=function(S){return S.low},w=function(S){return S.close},m=function(){return 5},g="center",x=function(S,k){return f.xScale()(c(S,k))};return f=ga({decorate:function(){},defined:function(S,k){return Ei(c,d,y,p,w)(S,k)},xScale:r.scaleIdentity(),yScale:r.scaleIdentity()}),f.values=function(_,S){var k=w(_,S),V=d(_,S),E=m(_,S),P=Ii(g,E),I="";return k>V?I="up":k<V&&(I="down"),{cross:x(_,S)+P,open:f.yScale()(V),high:f.yScale()(p(_,S)),low:f.yScale()(y(_,S)),close:f.yScale()(k),width:E,direction:I}},f.xValues=function(){return[c]},f.yValues=function(){return[d,p,y,w]},f.crossValue=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],f):c},f.openValue=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],f):d},f.highValue=function(){return arguments.length?(p=arguments.length<=0?void 0:arguments[0],f):p},f.lowValue=function(){return arguments.length?(y=arguments.length<=0?void 0:arguments[0],f):y},f.yValue=f.closeValue=function(){return arguments.length?(w=arguments.length<=0?void 0:arguments[0],f):w},f.bandwidth=function(){return arguments.length?(m=$e(arguments.length<=0?void 0:arguments[0]),f):m},f.align=function(){return arguments.length?(g=arguments.length<=0?void 0:arguments[0],f):g},f},fx=function(f,c){var d=od(),p=Pe("g",c),y=function(x){return"translate("+x.cross+", "+x.high+")"},w=function(x){return function(_){return at(x)?_.transition(x):_}},m=function(x){at(x)&&p.transition(x);var _=w(x);x.each(function(S,k,V){var E=S.filter(d.defined()),P=p(u.select(V[k]),E);P.enter().attr("transform",function(I,O){return y(d.values(I,O))+" scale(1e-6, 1)"}).append("path"),P.each(function(I,O,Y){var q=d.values(I,O),W=q.direction==="up"?et.green:et.red,Q=_(u.select(Y[O])).attr("class",c+" "+q.direction).attr("stroke",W).attr("fill",W).attr("transform",function(){return y(q)+" scale(1)"});f.x(0).width(q.width).open(function(){return q.open-q.high}).high(0).low(function(){return q.low-q.high}).close(function(){return q.close-q.high}),Q.select("path").attr("d",f([I]))}),d.decorate()(P,S,k)})};return A(m,p,"key"),C(m,d),m},PC=function(){return fx(Us(),"candlestick")},lx=function(f){var c=od(),d=function(y){var w=y.filter(c.defined()),m=f.context();w.forEach(function(g,x){m.save();var _=c.values(g,x);m.translate(_.cross,_.high),m.beginPath(),f.x(0).open(function(){return _.open-_.high}).width(_.width).high(0).low(function(){return _.low-_.high}).close(function(){return _.close-_.high})([g]);var S=_.direction==="up"?et.green:et.red;m.strokeStyle=S,m.fillStyle=S,c.decorate()(m,g,x),m.fill(),m.stroke(),m.closePath(),m.restore()})};return A(d,f,"context"),C(d,c),d},zC=function(){return lx(Us())},cx=function(f){var c=od(),d=Ae(),p=Ae(),y=Ae(),w=Ae(),m=Ae(),g=Ae().type(Ee.UNSIGNED_SHORT),x=Ae().type(Ee.UNSIGNED_BYTE);f.crossValueAttribute(d).openValueAttribute(p).highValueAttribute(y).lowValueAttribute(w).closeValueAttribute(m).bandwidthAttribute(g).definedAttribute(x);var _=function(O,Y){return!1},S=Tn,k=[],V=null,E=null,P=function(O){var Y=S(c.xScale()),q=S(c.yScale()),W=!_(k,O);W&&(k=O,g.value(function(Q,oe){return c.bandwidth()(Q,oe)}).data(O),x.value(function(Q,oe){return c.defined()(Q,oe)}).data(O)),(W||Y.scale!==V)&&(V=Y.scale,d.value(function(Q,oe){return Y.scale(c.crossValue()(Q,oe))}).data(O)),(W||q.scale!==E)&&(E=q.scale,p.value(function(Q,oe){return q.scale(c.openValue()(Q,oe))}).data(O),y.value(function(Q,oe){return q.scale(c.highValue()(Q,oe))}).data(O),w.value(function(Q,oe){return q.scale(c.lowValue()(Q,oe))}).data(O),m.value(function(Q,oe){return q.scale(c.closeValue()(Q,oe))}).data(O)),f.xScale(Y.webglScale).yScale(q.webglScale).decorate(function(Q){return c.decorate()(Q,O,0)}),f(O.length)};return P.equals=function(){return arguments.length?(_=arguments.length<=0?void 0:arguments[0],P):_},P.scaleMapper=function(){return arguments.length?(S=arguments.length<=0?void 0:arguments[0],P):S},C(P,c,B("align")),A(P,f,"context","lineWidth","pixelRatio"),P},RC=function(){return cx(Zv())},id=function(){var f=function(k){return k.upperQuartile},c=function(k){return k.lowerQuartile},d=function(k){return k.high},p=function(k){return k.low},y=function(k){return k.value},w=function(k){return k.median},m="vertical",g="center",x=function(){return 5},_=ga({decorate:function(){},defined:function(k,V){return Ei(p,d,c,f,y,w)(k,V)},xScale:r.scaleIdentity(),yScale:r.scaleIdentity()});return _.values=function(S,k){var V=x(S,k),E=Ii(g,V),P=_.xScale(),I=_.yScale();if(m==="vertical"){var O=I(d(S,k));return{origin:[P(y(S,k))+E,O],high:0,upperQuartile:I(f(S,k))-O,median:I(w(S,k))-O,lowerQuartile:I(c(S,k))-O,low:I(p(S,k))-O,width:V}}else{var Y=P(p(S,k));return{origin:[Y,I(y(S,k))+E],high:P(d(S,k))-Y,upperQuartile:P(f(S,k))-Y,median:P(w(S,k))-Y,lowerQuartile:P(c(S,k))-Y,low:0,width:V}}},_.xValues=function(){return m==="vertical"?[y]:[f,c,d,p,w]},_.yValues=function(){return m!=="vertical"?[y]:[f,c,d,p,w]},_.orient=function(){return arguments.length?(m=arguments.length<=0?void 0:arguments[0],_):m},_.lowerQuartileValue=function(){return arguments.length?(c=$e(arguments.length<=0?void 0:arguments[0]),_):c},_.upperQuartileValue=function(){return arguments.length?(f=$e(arguments.length<=0?void 0:arguments[0]),_):f},_.lowValue=function(){return arguments.length?(p=$e(arguments.length<=0?void 0:arguments[0]),_):p},_.highValue=function(){return arguments.length?(d=$e(arguments.length<=0?void 0:arguments[0]),_):d},_.crossValue=function(){return arguments.length?(y=$e(arguments.length<=0?void 0:arguments[0]),_):y},_.medianValue=function(){return arguments.length?(w=$e(arguments.length<=0?void 0:arguments[0]),_):w},_.bandwidth=function(){return arguments.length?(x=$e(arguments.length<=0?void 0:arguments[0]),_):x},_.align=function(){return arguments.length?(g=arguments.length<=0?void 0:arguments[0],_):g},_},LC=function(){var f=id(),c=Pe("g","box-plot"),d=Xs().value(0),p=function(g){return function(x){return at(g)?x.transition(g):x}},y=function(g){return"translate("+g.origin[0]+", "+g.origin[1]+")"},w=function(g){at(g)&&c.transition(g);var x=p(g);g.each(function(_,S,k){var V=_.filter(f.defined()),E=c(u.select(k[S]),V);E.enter().attr("stroke",et.black).attr("fill",et.gray).attr("transform",function(P,I){return y(f.values(P,I))+" scale(1e-6, 1)"}).append("path"),d.orient(f.orient()),E.each(function(P,I,O){var Y=f.values(P,I);d.median(Y.median).upperQuartile(Y.upperQuartile).lowerQuartile(Y.lowerQuartile).width(Y.width).high(Y.high).low(Y.low),x(u.select(O[I])).attr("transform",y(Y)).select("path").attr("d",d([P]))}),f.decorate()(E,_,S)})};return C(w,f),A(w,c,"key"),A(w,d,"cap"),w},OC=function(){var f=id(),c=Xs().value(0),d=function(y){var w=y.filter(f.defined()),m=c.context();c.orient(f.orient()),w.forEach(function(g,x){m.save();var _=f.values(g,x);m.translate(_.origin[0],_.origin[1]),m.beginPath(),m.fillStyle=et.gray,m.strokeStyle=et.black,f.decorate()(m,g,x),c.median(_.median).upperQuartile(_.upperQuartile).lowerQuartile(_.lowerQuartile).high(_.high).width(_.width).low(_.low)([g]),m.fill(),m.stroke(),m.closePath(),m.restore()})};return C(d,f),A(d,c,"cap","context"),d},BC=function(){var f=id(),c=Ae(),d=Ae(),p=Ae(),y=Ae(),w=Ae(),m=Ae(),g=Ae().type(Ee.UNSIGNED_SHORT),x=Ae().type(Ee.UNSIGNED_SHORT),_=Ae().type(Ee.UNSIGNED_BYTE),S=Jv().crossValueAttribute(c).highValueAttribute(d).upperQuartileValueAttribute(p).medianValueAttribute(y).lowerQuartileValueAttribute(w).lowValueAttribute(m).bandwidthAttribute(g).capAttribute(x).definedAttribute(_),k=function(W,Q){return!1},V=Tn,E=[],P=null,I=null,O=$e(20),Y=function(W){if(f.orient()!=="vertical")throw new Error("Unsupported orientation ".concat(f.orient()));var Q=V(f.xScale()),oe=V(f.yScale()),pe=!k(E,W);pe&&(E=W,g.value(function(ge,he){return f.bandwidth()(ge,he)}).data(W),x.value(function(ge,he){return O(ge,he)}).data(W),_.value(function(ge,he){return f.defined()(ge,he)}).data(W)),(pe||Q.scale!==P)&&(P=Q.scale,c.value(function(ge,he){return Q.scale(f.crossValue()(ge,he))}).data(W)),(pe||oe.scale!==I)&&(I=oe.scale,d.value(function(ge,he){return oe.scale(f.highValue()(ge,he))}).data(W),p.value(function(ge,he){return oe.scale(f.upperQuartileValue()(ge,he))}).data(W),y.value(function(ge,he){return oe.scale(f.medianValue()(ge,he))}).data(W),w.value(function(ge,he){return oe.scale(f.lowerQuartileValue()(ge,he))}).data(W),m.value(function(ge,he){return oe.scale(f.lowValue()(ge,he))}).data(W)),S.xScale(Q.webglScale).yScale(oe.webglScale).decorate(function(ge){return f.decorate()(ge,W,0)}),S(W.length)};return Y.cap=function(){return arguments.length?(O=$e(arguments.length<=0?void 0:arguments[0]),Y):O},Y.equals=function(){return arguments.length?(k=arguments.length<=0?void 0:arguments[0],Y):k},Y.scaleMapper=function(){return arguments.length?(V=arguments.length<=0?void 0:arguments[0],Y):V},C(Y,f,B("align")),A(Y,S,"context","lineWidth","pixelRatio"),Y},FC=function(){return fx(Gs(),"ohlc")},HC=function(){return lx(Gs())},YC=function(){return cx(jv())},ud=function(){var f=[],c=function(w){return w},d=function(w,m){return m},p=ga({decorate:function(){},xScale:r.scaleIdentity(),yScale:r.scaleIdentity()});return p.xValues=function(){return f.map(function(y){return y.xValues()}).reduce(function(y,w){return y.concat(w)})},p.yValues=function(){return f.map(function(y){return y.yValues()}).reduce(function(y,w){return y.concat(w)})},p.mapping=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],p):c},p.key=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],p):d},p.series=function(){return arguments.length?(f=arguments.length<=0?void 0:arguments[0],p):f},p},fd=function(){var f=ud(),c=Pe("g"),d=Pe("g","multi"),p=function(w){at(w)&&(d.transition(w),c.transition(w));var m=f.mapping(),g=f.series(),x=f.xScale(),_=f.yScale();w.each(function(S,k,V){var E=d(u.select(V[k]),g);E.each(function(P,I,O){P.xScale(x).yScale(_);var Y=m(S,I,g),q=c(u.select(O[I]),[Y]);q.call(P)}),E.selection().order(),f.decorate()(E,S,k)})};return C(p,f),A(p,d,"key"),p},ld=function(){var f=null,c=ud(),d=function(y){var w=c.mapping(),m=c.series(),g=c.xScale(),x=c.yScale();m.forEach(function(_,S){var k=w(y,S,m);_.context(f).xScale(g).yScale(x);var V;_.decorate?(V=_.decorate(),_.decorate(function(E,P,I){c.decorate()(E,y,S),V(E,P,I)})):c.decorate()(f,y,S),_(k),V&&_.decorate(V)})};return d.context=function(){return arguments.length?(f=arguments.length<=0?void 0:arguments[0],d):f},C(d,c),d},sx=function(){var f=null,c=1,d=ud(),p=function(w){var m=d.mapping(),g=d.series(),x=d.xScale(),_=d.yScale();g.forEach(function(S,k){var V=m(w,k,g);S.context(f).pixelRatio(c).xScale(x).yScale(_);var E;S.decorate?(E=S.decorate(),S.decorate(function(P,I,O){d.decorate()(P,w,k),E(P,I,O)})):d.decorate()(f,w,k),S(V),E&&S.decorate(E)})};return p.context=function(){return arguments.length?(f=arguments.length<=0?void 0:arguments[0],p):f},p.pixelRatio=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],p):c},C(p,d),p},dx=function(f){var c=function(){return 50},d="center",p=r.scaleBand(),y=ga({decorate:function(){},xScale:r.scaleLinear(),yScale:r.scaleLinear()});return y.offsetScaleForDatum=function(w,m,g){var x=c(m,g),_=Ii(d,x),S=x/2;return p.domain(t.range(0,w.length)).range([-S+_,S+_])},y.bandwidth=function(){return arguments.length?(c=$e(arguments.length<=0?void 0:arguments[0]),y):c},y.align=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],y):d},C(y,p,R({paddingInner:"paddingOuter"})),y},qC=function(f){var c=dx(),d=Pe("g","grouped"),p=function(w){at(w)&&d.transition(w),w.each(function(m,g,x){var _=d(u.select(x[g]),m);_.enter().append("g"),_.select("g").each(function(S,k,V){var E=u.select(V[k]),P=f.orient()!=="horizontal",I=function(Y,q){var W=c.offsetScaleForDatum(m,Y,q),Q=P?c.xScale():c.yScale();return Q(Y)+W(k)+W.bandwidth()/2};P?(f.xScale(I),f.yScale(c.yScale())):(f.yScale(I),f.xScale(c.xScale())),f.bandwidth&&f.bandwidth(function(O,Y){return c.offsetScaleForDatum(m,O,Y).bandwidth()}),f.decorate(function(O,Y){return c.decorate()(O,Y,k)}),E.call(f)})})};return C(p,f,B("decorate","xScale","yScale")),C(p,c,B("offsetScaleForDatum")),p};function WC(f){var c=dx(),d=function(y){y.forEach(function(w,m){var g=f.orient()!=="horizontal",x=function(S,k){var V=c.offsetScaleForDatum(y,S,k),E=g?c.xScale():c.yScale();return E(S)+V(m)+V.bandwidth()/2};g?(f.xScale(x),f.yScale(c.yScale())):(f.yScale(x),f.xScale(c.xScale())),f.bandwidth&&f.bandwidth(function(_,S){return c.offsetScaleForDatum(y,_,S).bandwidth()}),f.decorate(function(_,S){return c.decorate()(_,S,m)}),f(w)})};return C(d,f,B("decorate","xScale","yScale")),C(d,c,B("offsetScaleForDatum")),d}var $C=function(){var f="vertical",c=ed(),d=fd(),p=function(w){return w.each(function(m,g,x){f==="vertical"?d.series(m[0].map(function(_){return c})).mapping(function(_,S){return _.map(function(k){return k[S]})}):d.series(m.map(function(_){return c})).mapping(function(_,S){return _[S]}),u.select(x[g]).call(d)})};return p.series=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],p):c},p.orient=function(){return arguments.length?(f=arguments.length<=0?void 0:arguments[0],p):f},C(p,d,B("series","mapping")),p},GC=function(){var f="vertical",c=td(),d=ld(),p=function(w){f==="vertical"?d.series(w[0].map(function(m){return c})).mapping(function(m,g){return m.map(function(x){return x[g]})}):d.series(w.map(function(m){return c})).mapping(function(m,g){return m[g]}),d(w)};return p.series=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],p):c},p.orient=function(){return arguments.length?(f=arguments.length<=0?void 0:arguments[0],p):f},C(p,d,B("series","mapping")),p},UC=function(){var f="vertical",c=function(){return ox()},d=sx(),p=[],y=function(m){if(f==="vertical"){var g=p;p=m[0].map(function(_,S){return S<g.length?g[S]:c()}),d.series(p).mapping(function(_,S){return _.map(function(k){return k[S]})})}else{var x=p;p=m.map(function(_,S){return S<x.length?x[S]:c()}),d.series(p).mapping(function(_,S){return _[S]})}d(m)};return y.series=function(){for(var w=arguments.length,m=new Array(w),g=0;g<w;g++)m[g]=arguments[g];return m.length?(typeof m[0].xScale=="function"&&typeof m[0].yScale=="function"?c=function(){return m[0]}:c=m[0],p=[],y):c},y.orient=function(){return arguments.length?(f=arguments.length<=0?void 0:arguments[0],p=[],y):f},C(y,d,B("series","mapping")),y},XC=function(c){return c.sort(t.ascending).filter(function(d,p,y){return y.indexOf(d,p+1)===-1})},jC=function(f){var c=.75,d=function(m){if(m.length<=1)return 10;m=XC(m);var g=t.pairs(m).map(function(_){return Math.abs(_[0]-_[1])}),x=t.min(g);return c*x},p=function(m,g,x){if(m.bandwidth)return m.bandwidth();var _,S=Array.isArray(g)?(_=[]).concat.apply(_,be(g)):g,k=S.filter(f.defined()).map(x()).map(m),V=d(k);return V},y=function(m){var g=function(_){if(f.xBandwidth&&f.yBandwidth)f.xBandwidth(p(f.xScale(),_,f.xValue)),f.yBandwidth(p(f.yScale(),_,f.yValue));else{var S=f.orient&&f.orient()==="horizontal"?f.yScale():f.xScale();f.bandwidth(p(S,_,f.crossValue))}};m instanceof u.selection?m.each(function(x,_,S){g(x),f(u.select(S[_]))}):(g(m),f(m))};return C(y,f),y.widthFraction=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],y):c},y},mx=function(){var f=function(x){return x.x},c=function(x){return x.y},d=function(x){return x.color},p=function(){return 5},y=function(){return 5},w=s.interpolateViridis,m=ga({decorate:function(){},defined:function(x,_){return Ei(f,c,d)(x,_)},xScale:r.scaleIdentity(),yScale:r.scaleIdentity()});return m.pathGenerator=xo().x(0).y(0),m.colorScale=function(g){var x=g.map(d);return r.scaleLinear().domain([t.min(x),t.max(x)])},m.values=function(g,x){return{x:m.xScale()(f(g,x)),y:m.yScale()(c(g,x)),colorValue:d(g,x),width:y(g,x),height:p(g,x)}},m.xValues=function(){return[f]},m.yValues=function(){return[c]},m.xValue=function(){return arguments.length?(f=$e(arguments.length<=0?void 0:arguments[0]),m):f},m.yValue=function(){return arguments.length?(c=$e(arguments.length<=0?void 0:arguments[0]),m):c},m.colorValue=function(){return arguments.length?(d=$e(arguments.length<=0?void 0:arguments[0]),m):d},m.colorInterpolate=function(){return arguments.length?(w=arguments.length<=0?void 0:arguments[0],m):w},m.xBandwidth=function(){return arguments.length?(y=$e(arguments.length<=0?void 0:arguments[0]),m):y},m.yBandwidth=function(){return arguments.length?(p=$e(arguments.length<=0?void 0:arguments[0]),m):p},C(m,m.pathGenerator,R({horizontalAlign:"xAlign",verticalAlign:"yAlign"})),m},QC=function(){var f=mx(),c=Pe("g","box"),d=function(w){return"translate("+w.x+", "+w.y+")"},p=function(w){w.each(function(m,g,x){var _=m.filter(f.defined()),S=f.colorValue(),k=f.colorInterpolate(),V=f.colorScale(_),E=c(u.select(x[g]),_);E.enter().append("path").attr("stroke","transparent"),E.attr("transform",function(P,I){return d(f.values(P,I))}).select("path").attr("d",function(P,I){return f.pathGenerator.width(f.values(P,I).width).height(f.values(P,I).height)([P])}).attr("fill",function(P,I){return k(V(S(P,I)))}),f.decorate()(E,m,g)})};return C(p,f),p},KC=function(){var f=mx(),c=function(p){var y=p.filter(f.defined()),w=f.colorInterpolate(),m=f.colorScale(y),g=f.pathGenerator.context();y.forEach(function(x,_){g.save(),g.beginPath();var S=f.values(x,_);g.translate(S.x,S.y),g.fillStyle=w(m(S.colorValue)),g.strokeStyle="transparent",f.decorate()(g,x,_),f.pathGenerator.height(S.height).width(S.width)([x]),g.fill(),g.stroke(),g.closePath(),g.restore()})};return A(c,f.pathGenerator,"context"),C(c,f),c},Vn=function(f){return typeof f=="function"?f:function(){return f}},ZC=function(){var f=r.scaleIdentity(),c=r.scaleIdentity(),d="horizontal",p=function(S){return S.from},y=function(S){return S.to},w=function(){},m=Pe("g","annotation-band"),g=xo().horizontalAlign("center").verticalAlign("center").x(0).y(0),x=function(S){if(at(S)&&m.transition(S),d!=="horizontal"&&d!=="vertical")throw new Error("Invalid orientation");var k=d==="horizontal",V=k?function(Q,oe){return"translate(".concat(Q,", ").concat(oe,")")}:function(Q,oe){return"translate(".concat(oe,", ").concat(Q,")")},E=k?f:c,P=k?c:f,I=E.range(),O=I[1]-I[0],Y=k?"height":"width",q=k?"width":"height",W=function(){return V((I[1]+I[0])/2,(P(y.apply(void 0,arguments))+P(p.apply(void 0,arguments)))/2)};g[q](O),g[Y](function(){return P(y.apply(void 0,arguments))-P(p.apply(void 0,arguments))}),S.each(function(Q,oe,pe){var ge=m(u.select(pe[oe]),Q);ge.enter().attr("transform",W).append("path").classed("band",!0),ge.attr("class","annotation-band ".concat(d)).attr("transform",W).select("path").attr("d",function(he,ke){return g([he],ke)}),w(ge,Q,oe)})};return x.xScale=function(){return arguments.length?(f=arguments.length<=0?void 0:arguments[0],x):f},x.yScale=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],x):c},x.orient=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],x):d},x.decorate=function(){return arguments.length?(w=arguments.length<=0?void 0:arguments[0],x):w},x.fromValue=function(){return arguments.length?(p=Vn(arguments.length<=0?void 0:arguments[0]),x):p},x.toValue=function(){return arguments.length?(y=Vn(arguments.length<=0?void 0:arguments[0]),x):y},x},JC=function(){var f=r.scaleIdentity(),c=r.scaleIdentity(),d="horizontal",p=function(_){return _.from},y=function(_){return _.to},w=function(){},m=xo().horizontalAlign("right").verticalAlign("top"),g=function(_){if(d!=="horizontal"&&d!=="vertical")throw new Error("Invalid orientation");var S=m.context(),k=d==="horizontal",V=k?f:c,E=k?c:f,P=V.range(),I=P[1]-P[0],O=k?"x":"y",Y=k?"y":"x",q=k?"height":"width",W=k?"width":"height";_.forEach(function(Q,oe){S.save(),S.beginPath(),S.strokeStyle="transparent",m[Y](E(p(Q))),m[O](P[0]),m[W](I),m[q](E(y(Q))-E(p(Q))),w(S,Q,oe),m.context(S)([Q],oe),S.fill(),S.stroke(),S.closePath(),S.restore()})};return g.xScale=function(){return arguments.length?(f=arguments.length<=0?void 0:arguments[0],g):f},g.yScale=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],g):c},g.orient=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],g):d},g.decorate=function(){return arguments.length?(w=arguments.length<=0?void 0:arguments[0],g):w},g.fromValue=function(){return arguments.length?(p=Vn(arguments.length<=0?void 0:arguments[0]),g):p},g.toValue=function(){return arguments.length?(y=Vn(arguments.length<=0?void 0:arguments[0]),g):y},A(g,m,"context"),g},cd=function(){var f=r.scaleIdentity(),c=r.scaleIdentity(),d=function(_){return _},p=d,y=function(){},w="horizontal",m=Pe("g","annotation-line"),g=function(_){if(at(_)&&m.transition(_),w!=="horizontal"&&w!=="vertical")throw new Error("Invalid orientation");var S=w==="horizontal",k=S?function(he,ke){return"translate(".concat(he,", ").concat(ke,")")}:function(he,ke){return"translate(".concat(ke,", ").concat(he,")")},V=S?"x2":"y2",E=S?f:c,P=S?c:f,I=S?"left-handle":"bottom-handle",O=S?"right-handle":"top-handle",Y=S?"9":"0",q=S?"0":"9",W=S?"0.32em":"0.71em",Q=S?"start":"middle",oe=E.range(),pe=function(){return k(oe[0],P(d.apply(void 0,arguments)))},ge=oe[1]-oe[0];_.each(function(he,ke,xt){var Kt=m(u.select(xt[ke]),he),Nr=Kt.enter().attr("transform",pe).style("stroke","#bbb");Nr.append("line").attr(V,ge),Nr.append("g").classed(I,!0).style("stroke","none"),Nr.append("g").classed(O,!0).style("stroke","none").attr("transform",k(ge,0)).append("text").attr("text-anchor",Q).attr("x",Y).attr("y",q).attr("dy",W),Kt.attr("class","annotation-line ".concat(w)),Kt.attr("transform",pe),Kt.select("line").attr(V,ge),Kt.select("g."+O).attr("transform",k(ge,0)),Kt.select("text").text(p),y(Kt,he,ke)})};return g.xScale=function(){return arguments.length?(f=arguments.length<=0?void 0:arguments[0],g):f},g.yScale=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],g):c},g.value=function(){return arguments.length?(d=Vn(arguments.length<=0?void 0:arguments[0]),g):d},g.label=function(){return arguments.length?(p=Vn(arguments.length<=0?void 0:arguments[0]),g):p},g.decorate=function(){return arguments.length?(y=arguments.length<=0?void 0:arguments[0],g):y},g.orient=function(){return arguments.length?(w=arguments.length<=0?void 0:arguments[0],g):w},g};function ek(){var f=function(I){return I.x},c=function(I){return I.y},d=r.scaleIdentity(),p=r.scaleIdentity(),y=function(){},w=Pe("g","annotation-crosshair"),m=ix(),g=cd(),x=cd().orient("vertical"),_=r.scaleIdentity(),S=r.scaleIdentity(),k=fd().series([g,x,m]).xScale(_).yScale(S).mapping(function(P){return[P]}),V=function(I){at(I)&&w.transition(I),I.each(function(O,Y,q){var W=w(u.select(q[Y]),O);W.enter().style("pointer-events","none"),_.range(d.range()),S.range(p.range()),m.crossValue(f).mainValue(c),g.value(c),x.value(f),W.call(k),y(W,O,Y)})};V.x=function(){return arguments.length?(f=arguments.length<=0?void 0:arguments[0],V):f},V.y=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],V):c},V.xScale=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],V):d},V.yScale=function(){return arguments.length?(p=arguments.length<=0?void 0:arguments[0],V):p},V.decorate=function(){return arguments.length?(y=arguments.length<=0?void 0:arguments[0],V):y};var E=F("label");return C(V,g,E,L("y")),C(V,x,E,L("x")),V}var sd=function(){var f=r.scaleIdentity(),c=r.scaleIdentity(),d=function(_){return _},p=d,y=function(){},w="horizontal",m=l.line(),g=function(_){if(w!=="horizontal"&&w!=="vertical")throw new Error("Invalid orientation");var S=w==="horizontal",k=m.context(),V=S?f:c,E=S?c:f,P=V.domain(),I=S?9:0,O=S?0:9,Y=S?"left":"center",q=S?"middle":"hanging";_.forEach(function(W,Q){k.save(),k.beginPath(),k.strokeStyle="#bbb",k.fillStyle="#000",k.textAlign=Y,k.textBaseline=q,y(k,W,Q),m.context(k)(P.map(function(ge){var he=[V(ge),E(d(W))];return S?he:he.reverse()}));var oe=S?V(P[1]):E(d(W)),pe=S?E(d(W)):V(P[1]);k.fillText(p(W),oe+I,pe+O),k.fill(),k.stroke(),k.closePath(),k.restore()})};return g.xScale=function(){return arguments.length?(f=arguments.length<=0?void 0:arguments[0],g):f},g.yScale=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],g):c},g.value=function(){return arguments.length?(d=Vn(arguments.length<=0?void 0:arguments[0]),g):d},g.label=function(){return arguments.length?(p=Vn(arguments.length<=0?void 0:arguments[0]),g):p},g.decorate=function(){return arguments.length?(y=arguments.length<=0?void 0:arguments[0],g):y},g.orient=function(){return arguments.length?(w=arguments.length<=0?void 0:arguments[0],g):w},A(g,m,"context"),g},tk=function(){var f=function(E){return E.x},c=function(E){return E.y},d=r.scaleIdentity(),p=r.scaleIdentity(),y=ux(),w=sd(),m=sd().orient("vertical"),g=r.scaleIdentity(),x=r.scaleIdentity(),_=ld().series([w,m,y]).xScale(g).yScale(x).mapping(function(V){return[V]}),S=function(E){E.forEach(function(P){g.range(d.range()),x.range(p.range()),y.crossValue(f).mainValue(c),w.value(c),m.value(f),_(P)})};S.x=function(){return arguments.length?(f=arguments.length<=0?void 0:arguments[0],S):f},S.y=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],S):c},S.xScale=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],S):d},S.yScale=function(){return arguments.length?(p=arguments.length<=0?void 0:arguments[0],S):p};var k=F("label","decorate");return C(S,w,k,L("y")),C(S,m,k,L("x")),A(S,y,"decorate"),A(S,_,"context"),S},Sf=function(){var f=r.scaleIdentity(),c=[10],d=null,p=function(){var w;return d??(f.ticks?(w=f).ticks.apply(w,be(c)):f.domain())};return p.scale=function(){return arguments.length?(f=arguments.length<=0?void 0:arguments[0],p):f},p.ticks=function(){for(var y=arguments.length,w=new Array(y),m=0;m<y;m++)w[m]=arguments[m];return c=w,p},p.tickArguments=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],p):c},p.tickValues=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],p):d},p},hx=function(c){return c},rk=function(){var f=function(){},c=function(){},d=Sf(),p=Sf(),y=Pe("line","gridline-y").key(hx),w=Pe("line","gridline-x").key(hx),m=function(x){at(x)&&(y.transition(x),w.transition(x)),x.each(function(_,S,k){var V=k[S],E=u.select(k[S]),P=d.scale(),I=p.scale(),O=V.__x_scale__||P;V.__x_scale__=P.copy();var Y=d(),q=y(E,Y);q.enter().attr("x1",O).attr("x2",O).attr("y1",I.range()[0]).attr("y2",I.range()[1]).attr("stroke","#bbb"),q.attr("x1",P).attr("x2",P).attr("y1",I.range()[0]).attr("y2",I.range()[1]),q.exit().attr("x1",P).attr("x2",P),f(q,Y,S);var W=V.__y_scale__||I;V.__y_scale__=I.copy();var Q=p(),oe=w(E,Q);oe.enter().attr("y1",W).attr("y2",W).attr("x1",P.range()[0]).attr("x2",P.range()[1]).attr("stroke","#bbb"),oe.attr("y1",I).attr("y2",I).attr("x1",P.range()[0]).attr("x2",P.range()[1]),oe.exit().attr("y1",I).attr("y2",I),c(oe,Q,S)})};return m.yDecorate=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],m):c},m.xDecorate=function(){return arguments.length?(f=arguments.length<=0?void 0:arguments[0],m):f},C(m,y,R({key:"xKey"})),C(m,w,R({key:"yKey"})),C(m,d,L("x")),C(m,p,L("y")),m},nk=function(){var f=function(){},c=function(){},d=Sf(),p=Sf(),y=l.line(),w=function(){var g=y.context(),x=d.scale(),_=p.scale();d().forEach(function(S,k){g.save(),g.beginPath(),g.strokeStyle="#bbb",g.fillStyle="transparent",f(g,S,k),y.context(g)(_.domain().map(function(V){return[x(S),_(V)]})),g.fill(),g.stroke(),g.closePath(),g.restore()}),p().forEach(function(S,k){g.save(),g.beginPath(),g.strokeStyle="#bbb",g.fillStyle="transparent",c(g,S,k),y.context(g)(x.domain().map(function(V){return[x(V),_(S)]})),g.fill(),g.stroke(),g.closePath(),g.restore()})};return w.yDecorate=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],w):c},w.xDecorate=function(){return arguments.length?(f=arguments.length<=0?void 0:arguments[0],w):f},C(w,d,L("x")),C(w,p,L("y")),A(w,y,"context"),w},ak=function(c){return c},px=function(c,d,p,y){return c[d]?c[d].apply(c,p):y},gx=function(c){var d;return(d=c.tickValues())!==null&&d!==void 0?d:px(c.scale(),"ticks",c.tickArguments(),c.scale().domain())},vx=function(c){var d;return(d=c.tickFormat())!==null&&d!==void 0?d:px(c.scale(),"tickFormat",c.tickArguments(),ak)},ok=function(c){return c},xx=function(c,d){var p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},y=[10],w=null,m=function(){},g=null,x=6,_=6,S=3,k=l.line(),V=Pe("g","tick").key(ok),E=Pe("path","domain"),P=function(){return{offset:[0,_+S]}},I=function(){return{path:[[0,0],[0,_]]}},O=p.labelOffset||P,Y=p.tickPath||I,q=function(he,ke){var xt=0;return he.bandwidth&&(xt=he.bandwidth()/2,he.round()&&(xt=Math.round(xt))),function(Kt){return ke(he(Kt)+xt,0)}},W=function(he,ke){return oe()?"translate(".concat(ke,", ").concat(he,")"):"translate(".concat(he,", ").concat(ke,")")},Q=function(he){return oe()?he.map(function(ke){return[ke[1],ke[0]]}):he},oe=function(){return c==="left"||c==="right"},pe=function ge(he){at(he)&&(V.transition(he),E.transition(he)),he.each(function(ke,xt,Kt){var Nr=Kt[xt],Oi=u.select(Nr);Nr.__scale__||Oi.attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",c==="right"?"start":c==="left"?"end":"middle");var bd=Nr.__scale__||d;Nr.__scale__=d.copy();var xa=gx(ge),Te=vx(ge),bo=c==="bottom"||c==="right"?1:-1,Mt=function(ze){var Ke=le(ze,2),yt=Ke[0],nr=Ke[1];return[yt,bo*nr]},Dr=d.range(),Nn=Q([[Dr[0],bo*x],[Dr[0],0],[Dr[1],0],[Dr[1],bo*x]]),lt=E(Oi,[ke]);lt.enter().attr("stroke","#000"),lt.attr("d",k(Nn));var Er=V(Oi,xa),Bi=xa.map(function(Se,ze){return O(Se,ze,xa)}),bt=xa.map(function(Se,ze){return Y(Se,ze,xa)});Er.enter().attr("transform",q(bd,W)).append("path").attr("stroke","#000"),Er.enter().append("text").attr("transform",function(Se,ze){return W.apply(void 0,be(Mt(Bi[ze].offset)))}).attr("fill","#000"),Er.exit().attr("transform",q(d,W)),Er.select("path").attr("visibility",function(Se,ze){return bt[ze].hidden&&"hidden"}).attr("d",function(Se,ze){return k(Q(bt[ze].path.map(Mt)))}),Er.select("text").attr("visibility",function(Se,ze){return Bi[ze].hidden&&"hidden"}).attr("transform",function(Se,ze){return W.apply(void 0,be(Mt(Bi[ze].offset)))}).attr("dy",function(){var Se="0em";return oe()?Se="0.32em":c==="bottom"&&(Se="0.71em"),Se}).text(Te),Er.attr("transform",q(d,W)),m(Er,ke,xt)})};return pe.tickFormat=function(){return arguments.length?(g=arguments.length<=0?void 0:arguments[0],pe):g},pe.tickSize=function(){return arguments.length?(_=x=Number(arguments.length<=0?void 0:arguments[0]),pe):_},pe.tickSizeInner=function(){return arguments.length?(_=Number(arguments.length<=0?void 0:arguments[0]),pe):_},pe.tickSizeOuter=function(){return arguments.length?(x=Number(arguments.length<=0?void 0:arguments[0]),pe):x},pe.tickPadding=function(){return arguments.length?(S=arguments.length<=0?void 0:arguments[0],pe):S},pe.decorate=function(){return arguments.length?(m=arguments.length<=0?void 0:arguments[0],pe):m},pe.scale=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],pe):d},pe.ticks=function(){for(var ge=arguments.length,he=new Array(ge),ke=0;ke<ge;ke++)he[ke]=arguments[ke];return y=[].concat(he),pe},pe.tickArguments=function(){return arguments.length?(y=(arguments.length<=0?void 0:arguments[0])==null?[]:be(arguments.length<=0?void 0:arguments[0]),pe):y!==null?y.slice():null},pe.tickValues=function(){return arguments.length?(w=(arguments.length<=0?void 0:arguments[0])==null?[]:be(arguments.length<=0?void 0:arguments[0]),pe):w!==null?w.slice():null},pe.orient=function(){return c},pe},Mf=function(c,d){var p=!1,y=function(x,_,S){var k=0,V=w.tickSizeInner()+w.tickPadding(),E=!1;if(p){var P=d(x),I=_<S.length-1?d(S[_+1]):d.range()[1];k=(I-P)/2,V=w.tickPadding(),E=_===S.length-1&&P===I}return{offset:[k,V],hidden:E}},w=xx(c,d,{labelOffset:y}),m=function(x){return w(x)};return m.tickCenterLabel=function(){return arguments.length?(p=arguments.length<=0?void 0:arguments[0],m):p},C(m,w),m},bx=function(c){return Mf("top",c)},yx=function(c){return Mf("bottom",c)},wx=function(c){return Mf("left",c)},_x=function(c){return Mf("right",c)},Af=function(c,d){var p=null,y=function(S,k,V){if(d.step)return d.step();var E=d(S);return k<V.length-1?d(V[k+1])/E:(d.range()[1]-E)*2},w=function(S,k,V){var E=0;return p?E=p(S,k):E=y(S,k,V)/2,{path:[[E,0],[E,g.tickSizeInner()]],hidden:k===V.length-1}},m=function(){return{offset:[0,g.tickPadding()]}},g=xx(c,d,{labelOffset:m,tickPath:w}),x=function(S){g(S)};return x.tickOffset=function(){return arguments.length?(p=arguments.length<=0?void 0:arguments[0],x):p},C(x,g),x},ik=function(c){return Af("top",c)},uk=function(c){return Af("bottom",c)},fk=function(c){return Af("left",c)},lk=function(c){return Af("right",c)},Sx=function(f){var c=function(p){var y=gx(f),w=vx(f),m=y.map(w),g=p.append("text"),x=m.map(function(k){return g.text(k).node().getBBox()}),_=Math.max.apply(Math,be(x.map(function(k){return k.height}))),S=Math.max.apply(Math,be(x.map(function(k){return k.width})));return g.remove(),{maxHeight:_,maxWidth:S,labelCount:m.length}};return c},ck=function(f){var c="auto",d=function(){},p=function(){return f.orient()==="left"||f.orient()==="right"},y=function(){return f.orient()==="top"||f.orient()==="left"?-1:1},w=function(){switch(f.orient()){case"top":case"right":return"start";default:return"end"}},m=function(S){var k=Sx(f)(S),V=k.maxHeight,E=k.maxWidth,P=k.labelCount,I=P*E,O;if(c==="auto"){var Y=f.scale().range()[1];O=Y<I?90*Math.min(1,(I/Y-.8)/2):0}else O=c;return{rotate:p()?Math.floor(y()*(90-O)):Math.floor(-O),maxHeight:V,maxWidth:E,anchor:O?w():"middle"}},g=function(S){var k=m(S),V=k.rotate,E=k.maxHeight,P=k.anchor,I=S.select("text"),O=I.attr("transform"),Y=y()*Math.floor(E/2),q=p()?"translate(".concat(Y,", 0)"):"translate(0, ".concat(Y,")");I.style("text-anchor",P).attr("transform","".concat(O," ").concat(q," rotate(").concat(V," 0 0)"))},x=function(S){f(S)};return f.decorate(function(_){g(_),d(_)}),x.decorate=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],x):d},x.labelRotate=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],x):c},C(x,f,B("decorate")),x},sk=function(f){var c="auto",d=function(){},p=function(){return f.orient()==="left"||f.orient()==="right"},y=function(){return f.orient()==="top"||f.orient()==="left"?-1:1},w=function(x){var _=Sx(f)(x),S=_.maxHeight,k=_.maxWidth,V=_.labelCount,E=f.scale().range()[1],P=c==="auto"?Math.floor((p()?S:k)*V/E)+1:c,I=x.select("text"),O=I.attr("transform"),Y=function(W){return p()?"translate(".concat(W%P*k*y(),", 0)"):"translate(0, ".concat(W%P*S*y(),")")};I.attr("transform",function(q,W){return"".concat(O," ").concat(Y(W))})},m=function(x){return f(x)};return f.decorate(function(g){w(g),d(g)}),m.decorate=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],m):d},m.labelOffsetDepth=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],m):c},C(m,f,B("decorate")),m},dd="__d3fc-elements__",zi=function(c){return c[dd]||{}},Mx=function(c,d){return void(c[dd]=d)},dk=function(c){return delete c[dd]},mk=function(c){return c.tagName==="D3FC-GROUP"?[c].concat(be(c.querySelectorAll("d3fc-canvas, d3fc-group, d3fc-svg"))):[c]},hk=function(c){var d=zi(c),p=d.width,y=d.height,w=c.useDevicePixelRatio&&window.devicePixelRatio!=null?window.devicePixelRatio:1,m=c.clientWidth*w,g=c.clientHeight*w,x=m!==p||g!==y,_=c.children[0];Mx(c,{pixelRatio:w,width:m,height:g,resized:x,child:_})};if(typeof CustomEvent!="function")throw new Error("d3fc-element depends on CustomEvent. Make sure that you load a polyfill in older browsers. See README.");var pk=function(c){var d=zi(c),p=new CustomEvent("measure",{detail:d});c.dispatchEvent(p)},gk=function(c){var d=zi(c),p=new CustomEvent("draw",{detail:d});c.dispatchEvent(p)},vk=function(f){var c=f.map(mk).reduce(function(d,p){return d.concat(p)});c.forEach(hk),c.forEach(pk),c.forEach(gk)},Ax=function(c){return zi(c.ownerDocument).queue||[]},xk=function(c,d){var p=zi(c.ownerDocument),y=p.requestId;y==null&&(y=requestAnimationFrame(function(){var w=Ax(c);vk(w),bk(c)})),Mx(c.ownerDocument,{queue:d,requestId:y})},bk=function(c){return dk(c.ownerDocument)},Cx=function(c,d){var p=c;do if(p.parentNode===d)return!0;while(p=p.parentNode);return!1},md=function(f){var c=Ax(f),d=c.indexOf(f)>-1;if(!d){var p=c.some(function(w){return Cx(f,w)});if(!p){var y=c.filter(function(w){return!Cx(w,f)});y.push(f),xk(f,y)}}};if(typeof HTMLElement!="function")throw new Error("d3fc-element depends on Custom Elements (v1). Make sure that you load a polyfill in older browsers. See README.");var yk=function(c){c.__measureListener__==null&&(c.__measureListener__=function(d){return c.setMeasurements(d.detail)},c.addEventListener("measure",c.__measureListener__))},wk=function(c){c.__measureListener__!=null&&(c.removeEventListener("measure",c.__measureListener__),c.__measureListener__=null)},kx=function(f,c){return function(d){J(y,d);var p=Ue(y);function y(){return j(this,y),p.apply(this,arguments)}return ee(y,[{key:"attributeChangedCallback",value:function(m){switch(m){case"use-device-pixel-ratio":this.requestRedraw();break}}},{key:"connectedCallback",value:function(){this.childNodes.length===0&&this.appendChild(f()),yk(this)}},{key:"disconnectedCallback",value:function(){wk(this)}},{key:"setMeasurements",value:function(m){var g=m.width,x=m.height,_=_e(this.childNodes),S=_[0],k=_.slice(1);if(k.length>0)throw new Error("A d3fc-svg/canvas element must only contain a single svg/canvas element.");c(this,S,{width:g,height:x})}},{key:"requestRedraw",value:function(){md(this)}},{key:"useDevicePixelRatio",get:function(){return this.hasAttribute("use-device-pixel-ratio")&&this.getAttribute("use-device-pixel-ratio")!=="false"},set:function(m){m&&!this.useDevicePixelRatio?this.setAttribute("use-device-pixel-ratio",""):!m&&this.useDevicePixelRatio&&this.removeAttribute("use-device-pixel-ratio"),this.requestRedraw()}}],[{key:"observedAttributes",get:function(){return["use-device-pixel-ratio"]}}]),y}(Me(HTMLElement))},_k=function(f){J(d,f);var c=Ue(d);function d(){return j(this,d),c.apply(this,arguments)}return ee(d,[{key:"setWebglViewport",get:function(){return this.hasAttribute("set-webgl-viewport")&&this.getAttribute("set-webgl-viewport")!=="false"},set:function(y){y&&!this.setWebglViewport?this.setAttribute("set-webgl-viewport",""):!y&&this.setWebglViewport&&this.removeAttribute("set-webgl-viewport"),this.requestRedraw()}}]),d}(kx(function(){return document.createElement("canvas")},function(f,c,d){var p=d.width,y=d.height;if(c.setAttribute("width",p),c.setAttribute("height",y),f.setWebglViewport){var w=c.getContext("webgl");w.viewport(0,0,p,y)}})),hd=function(c){c.autoResize?Sk(c):Tx(c)},Sk=function(c){c.__autoResizeListener__==null&&(c.__autoResizeListener__=function(){return md(c)},addEventListener("resize",c.__autoResizeListener__))},Tx=function(c){c.__autoResizeListener__!=null&&(removeEventListener("resize",c.__autoResizeListener__),c.__autoResizeListener__=null)},Mk=function(f){J(d,f);var c=Ue(d);function d(){return j(this,d),c.apply(this,arguments)}return ee(d,[{key:"connectedCallback",value:function(){hd(this)}},{key:"disconnectedCallback",value:function(){Tx(this)}},{key:"requestRedraw",value:function(){md(this)}},{key:"attributeChangedCallback",value:function(y){switch(y){case"auto-resize":hd(this);break}}},{key:"autoResize",get:function(){return this.hasAttribute("auto-resize")&&this.getAttribute("auto-resize")!=="false"},set:function(y){y&&!this.autoResize?this.setAttribute("auto-resize",""):!y&&this.autoResize&&this.removeAttribute("auto-resize"),hd(this)}}],[{key:"observedAttributes",get:function(){return["auto-resize"]}}]),d}(Me(HTMLElement)),Ak=kx(function(){return document.createElementNS("http://www.w3.org/2000/svg","svg")},function(f,c,d){var p=d.width,y=d.height;c.setAttribute("viewBox","0 0 ".concat(p," ").concat(y))}),Vx="d3fc-canvas,d3fc-svg{position:relative;display:block}d3fc-canvas>canvas,d3fc-svg>svg{position:absolute;height:100%;width:100%}d3fc-svg>svg{overflow:visible}",Ri=document.createElement("style");if(Ri.setAttribute("type","text/css"),document.querySelector("head").appendChild(Ri),Ri.styleSheet?Ri.styleSheet.cssText+=Vx:Ri.textContent+=Vx,(typeof customElements>"u"?"undefined":te(customElements))!=="object"||typeof customElements.define!="function")throw new Error("d3fc-element depends on Custom Elements (v1). Make sure that you load a polyfill in older browsers. See README.");var pd=[],gd=function(c,d){customElements.get(c)?pd.push(c):customElements.define(c,d)};gd("d3fc-canvas",_k),gd("d3fc-group",Mk),gd("d3fc-svg",Ak),pd.length>0&&console.warn('The d3fc components "'.concat(pd.join(", "),'" is/are already registered on window. Be aware that this can create compatibility issues if different versions are used.'));var Ck=function(){var f=h.dispatch("point");function c(y){var w=u.pointer(y);f.call("point",this,[{x:w[0],y:w[1]}])}function d(){f.call("point",this,[])}var p=function(w){w.on("mouseenter.pointer",c).on("mousemove.pointer",c).on("mouseleave.pointer",d)};return A(p,f,"on"),p},kk=function(){var f="",c="vertical",d=function(g,x){return Number(g[x])},p=function(g){return Object.keys(g[0]).filter(function(x){return x!==f}).map(function(x){var _=g.filter(function(S){return S[x]}).map(function(S){var k=[S[f],d(S,x)];return k.data=S,k});return _.key=x,_})},y=function(g){return g.map(function(x){var _=Object.keys(x).filter(function(S){return S!==f}).map(function(S){var k=[S,d(x,S)];return k.data=x,k});return _.key=x[f],_})},w=function(g){return c==="vertical"?p(g):y(g)};return w.key=function(){return arguments.length?(f=arguments.length<=0?void 0:arguments[0],w):f},w.value=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],w):d},w.orient=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],w):c},w},Nx=function(){for(var f={},c=function(_){for(var S=0,k=Object.keys(f);S<k.length;S++){var V=k[S];_[V].apply(null,f[V])}return _},d=arguments.length,p=new Array(d),y=0;y<d;y++)p[y]=arguments[y];for(var w=function(){var _=g[m];c[_]=function(){for(var S=arguments.length,k=new Array(S),V=0;V<S;V++)k[V]=arguments[V];return k.length?(f[_]=k,c):f[_]}},m=0,g=p;m<g.length;m++)w();return c},Dx=`d3fc-group.cartesian-chart{width:100%;height:100%;overflow:hidden;display:grid;display:-ms-grid;grid-template-columns:minmax(1em,max-content) auto 1fr auto minmax(1em,max-content);-ms-grid-columns:minmax(1em,max-content) auto 1fr auto minmax(1em,max-content);grid-template-rows:minmax(1em,max-content) auto 1fr auto minmax(1em,max-content);-ms-grid-rows:minmax(1em,max-content) auto 1fr auto minmax(1em,max-content);}
d3fc-group.cartesian-chart>.top-label{align-self:center;-ms-grid-column-align:center;justify-self:center;-ms-grid-row-align:center;grid-column:3;-ms-grid-column:3;grid-row:1;-ms-grid-row:1;}
d3fc-group.cartesian-chart>.top-axis{height:2em;grid-column:3;-ms-grid-column:3;grid-row:2;-ms-grid-row:2;}
d3fc-group.cartesian-chart>.left-label{align-self:center;-ms-grid-column-align:center;justify-self:center;-ms-grid-row-align:center;grid-column:1;-ms-grid-column:1;grid-row:3;-ms-grid-row:3;}
d3fc-group.cartesian-chart>.left-axis{width:3em;grid-column:2;-ms-grid-column:2;grid-row:3;-ms-grid-row:3;}
d3fc-group.cartesian-chart>.plot-area{overflow:hidden;grid-column:3;-ms-grid-column:3;grid-row:3;-ms-grid-row:3;}
d3fc-group.cartesian-chart>.right-axis{width:3em;grid-column:4;-ms-grid-column:4;grid-row:3;-ms-grid-row:3;}
d3fc-group.cartesian-chart>.right-label{align-self:center;-ms-grid-column-align:center;justify-self:center;-ms-grid-row-align:center;grid-column:5;-ms-grid-column:5;grid-row:3;-ms-grid-row:3;}
d3fc-group.cartesian-chart>.bottom-axis{height:2em;grid-column:3;-ms-grid-column:3;grid-row:4;-ms-grid-row:4;}
d3fc-group.cartesian-chart>.bottom-label{align-self:center;-ms-grid-column-align:center;justify-self:center;-ms-grid-row-align:center;grid-column:3;-ms-grid-column:3;grid-row:5;-ms-grid-row:5;}
d3fc-group.cartesian-chart>.y-label{display:flex;transform:rotate(-90deg);width:1em;white-space:nowrap;justify-content:center;}`,Li=document.createElement("style");Li.setAttribute("type","text/css"),document.querySelector("head").appendChild(Li),Li.styleSheet?Li.styleSheet.cssText+=Dx:Li.textContent+=Dx;var Wt=function(c){return typeof c=="function"?c:function(){return c}},Ex=function(){var f=Tk.apply(void 0,arguments),c=f.xScale,d=f.yScale,p=f.xAxis,y=f.yAxis,w=Wt(""),m=Wt(""),g=Wt(""),x=Wt(null),_=Wt(null),S=Wt("right"),k=Wt("bottom"),V=null,E=null,P=null,I=!1,O=!0,Y=Nx("tickFormat","ticks","tickArguments","tickSize","tickSizeInner","tickSizeOuter","tickValues","tickPadding","tickCenterLabel"),q=function(){},W=Nx("tickFormat","ticks","tickArguments","tickSize","tickSizeInner","tickSizeOuter","tickValues","tickPadding","tickCenterLabel"),Q=function(){},oe=function(){},pe=Pe("d3fc-group","cartesian-chart"),ge=Pe("d3fc-canvas","webgl-plot-area"),he=Pe("d3fc-canvas","canvas-plot-area"),ke=Pe("d3fc-svg","svg-plot-area"),xt=Pe("d3fc-svg","x-axis").key(function(Mt){return Mt}),Kt=Pe("d3fc-svg","y-axis").key(function(Mt){return Mt}),Nr=Pe("div","chart-label"),Oi=Pe("div","x-label").key(function(Mt){return Mt}),bd=Pe("div","y-label").key(function(Mt){return Mt}),xa=function(Dr){return function(Nn){return at(Dr)?Nn.transition(Dr):Nn}},Te=function(Dr){var Nn=xa(Dr);Dr.each(function(lt,Er,Bi){var bt=pe(u.select(Bi[Er]),[lt]);bt.enter().attr("auto-resize",""),Nr(bt,[k(lt)]).attr("class",function(Se){return Se==="top"?"chart-label bottom-label":"chart-label top-label"}).style("margin-bottom",function(Se){return Se==="top"?0:"1em"}).style("margin-top",function(Se){return Se==="top"?"1em":0}).text(w(lt)),Oi(bt,[k(lt)]).attr("class",function(Se){return"x-label ".concat(Se,"-label")}).text(m(lt)),bd(bt,[S(lt)]).attr("class",function(Se){return"y-label ".concat(Se,"-label")}).text(g(lt)),ge(bt,V?[lt]:[]).attr("set-webgl-viewport","").classed("plot-area",!0).attr("use-device-pixel-ratio",O).on("draw",function(Se,ze){var Ke=Se.detail,yt=Ke.child,nr=Ke.pixelRatio;V.context(I?null:yt.getContext("webgl")).pixelRatio(nr).xScale(c).yScale(d),V(ze)}),bt.select(".webgl-plot-area>canvas").on("webglcontextlost",function(Se){console.warn("WebGLRenderingContext lost"),Se.preventDefault(),I=!0,bt.node().requestRedraw()}).on("webglcontextrestored",function(){console.info("WebGLRenderingContext restored"),I=!1,bt.node().requestRedraw()}),he(bt,E?[lt]:[]).classed("plot-area",!0).attr("use-device-pixel-ratio",O).on("draw",function(Se,ze){var Ke=Se.detail,yt=Ke.child,nr=Ke.pixelRatio,Dn=yt.getContext("2d");Dn.save(),O&&Dn.scale(nr,nr),E.context(Dn).xScale(c).yScale(d),E(ze),Dn.restore()}),ke(bt,P?[lt]:[]).classed("plot-area",!0).on("draw",function(Se,ze){var Ke=Se.detail.child;P.xScale(c).yScale(d),Nn(u.select(Ke).datum(ze)).call(P)}),xt(bt,[k(lt)]).attr("class",function(Se){return"x-axis ".concat(Se,"-axis")}).style("height",x(lt)).on("measure",function(Se,ze){var Ke=Se.detail,yt=Ke.width,nr=Ke.height,Dn=Ke.child;ze==="top"&&u.select(Dn).attr("viewBox","0 ".concat(-nr," ").concat(yt," ").concat(nr)),c.range([0,yt])}).on("draw",function(Se,ze){var Ke=Se.detail.child,yt=ze==="top"?p.top(c):p.bottom(c);yt.decorate(q),Nn(u.select(Ke).datum(ze)).call(Y(yt))}),Kt(bt,[S(lt)]).attr("class",function(Se){return"y-axis ".concat(Se,"-axis")}).style("width",_(lt)).on("measure",function(Se,ze){var Ke=Se.detail,yt=Ke.width,nr=Ke.height,Dn=Ke.child;ze==="left"&&u.select(Dn).attr("viewBox","".concat(-yt," 0 ").concat(yt," ").concat(nr)),d.range([nr,0])}).on("draw",function(Se,ze){var Ke=Se.detail.child,yt=ze==="left"?y.left(d):y.right(d);yt.decorate(Q),Nn(u.select(Ke).datum(ze)).call(W(yt))}),bt.each(function(Se,ze,Ke){return Ke[ze].requestRedraw()}),oe(bt,lt,Er)})},bo=B(/range\w*/,/tickFormat/);return C(Te,c,bo,L("x")),C(Te,d,bo,L("y")),C(Te,Y,L("x")),C(Te,W,L("y")),Te.xOrient=function(){return arguments.length?(k=Wt(arguments.length<=0?void 0:arguments[0]),Te):k},Te.yOrient=function(){return arguments.length?(S=Wt(arguments.length<=0?void 0:arguments[0]),Te):S},Te.xDecorate=function(){return arguments.length?(q=arguments.length<=0?void 0:arguments[0],Te):q},Te.yDecorate=function(){return arguments.length?(Q=arguments.length<=0?void 0:arguments[0],Te):Q},Te.chartLabel=function(){return arguments.length?(w=Wt(arguments.length<=0?void 0:arguments[0]),Te):w},Te.xLabel=function(){return arguments.length?(m=Wt(arguments.length<=0?void 0:arguments[0]),Te):m},Te.yLabel=function(){return arguments.length?(g=Wt(arguments.length<=0?void 0:arguments[0]),Te):g},Te.xAxisHeight=function(){return arguments.length?(x=Wt(arguments.length<=0?void 0:arguments[0]),Te):x},Te.yAxisWidth=function(){return arguments.length?(_=Wt(arguments.length<=0?void 0:arguments[0]),Te):_},Te.webglPlotArea=function(){return arguments.length?(V=arguments.length<=0?void 0:arguments[0],Te):V},Te.canvasPlotArea=function(){return arguments.length?(E=arguments.length<=0?void 0:arguments[0],Te):E},Te.svgPlotArea=function(){return arguments.length?(P=arguments.length<=0?void 0:arguments[0],Te):P},Te.decorate=function(){return arguments.length?(oe=arguments.length<=0?void 0:arguments[0],Te):oe},Te.useDevicePixelRatio=function(){return arguments.length?(O=arguments.length<=0?void 0:arguments[0],Te):O},Te},Tk=function(){for(var c={xScale:r.scaleIdentity(),yScale:r.scaleIdentity(),xAxis:{bottom:yx,top:bx},yAxis:{right:_x,left:wx}},d=arguments.length,p=new Array(d),y=0;y<d;y++)p[y]=arguments[y];return p.length===1&&!p[0].domain&&!p[0].range?Object.assign(c,p[0]):Object.assign(c,{xScale:p[0]||c.xScale,yScale:p[1]||c.yScale})},Ix=function(c){return typeof c=="function"?c:function(){return c}},Px=function(f,c){return function(){var d=Ix(""),p=c,y=function(){},w=Ex.apply(void 0,arguments),m=function(x){f(w,p),w.decorate(function(_,S,k){_.enter().select(".x-label").style("height","1em").style("line-height","1em");var V=w.yOrient()(S);_.enter().append("div").attr("class","y-label-container").style("grid-column",V==="left"?1:5).style("-ms-grid-column",V==="left"?1:5).style("grid-row",3).style("-ms-grid-row",3).style("width","1em").style("display","flex").style("align-items","center").style("justify-content","center").style("white-space","nowrap").append("div").attr("class","y-label").style("transform","rotate(-90deg)"),_.select(".y-label-container>.y-label").text(d),y(_,S,k)}),x.call(w)};return C(m,w,F(/^x/,/^y/,"chartLabel")),m.yLabel=function(){return arguments.length?(d=Ix(arguments.length<=0?void 0:arguments[0]),m):d},m.plotArea=function(){return arguments.length?(p=arguments.length<=0?void 0:arguments[0],m):p},m.decorate=function(){return arguments.length?(y=arguments.length<=0?void 0:arguments[0],m):y},m}},Vk=Px(function(f,c){return f.svgPlotArea(c)},ed),Nk=Px(function(f,c){return f.canvasPlotArea(c)},td),Dk=function(c){switch(c){case"x":return b.brushX();case"y":return b.brushY();case"xy":return b.brush()}},vd=function(c){return[c[1],c[0]]},xd=function(c){var d=Dk(c),p=h.dispatch("brush","start","end"),y=r.scaleIdentity(),w=r.scaleIdentity(),m=Pe("g","brush"),g=function(I,O,Y){switch(c){case"x":return I.map(O);case"y":return I.map(Y);case"xy":return[[O(I[0][0]),Y(I[0][1])],[O(I[1][0]),Y(I[1][1])]]}},x=function(I){return g(I,r.scaleLinear().domain(y.range()).invert,r.scaleLinear().domain(vd(w.range())).invert)},_=function(I){return g(I,r.scaleLinear().domain(y.range()),r.scaleLinear().domain(vd(w.range())))},S=function(I){var O=r.scaleLinear().domain(y.domain());if(c==="x")return I.map(O.invert);if(c==="xy")return[O.invert(I[0][0]),O.invert(I[1][0])]},k=function(I){var O=r.scaleLinear().domain(vd(w.domain()));if(c==="y")return[I[1],I[0]].map(O.invert);if(c==="xy")return[O.invert(I[1][1]),O.invert(I[0][1])]},V=function(I){if(!(I.sourceEvent&&I.sourceEvent.type==="draw"))if(I.selection){var O=_(I.selection);p.call(I.type,{},{selection:O,xDomain:S(O),yDomain:k(O)})}else p.call(I.type,{},{})},E=function(I){I.each(function(O,Y,q){d.extent([[y.range()[0],w.range()[1]],[y.range()[1],w.range()[0]]]),d.on("end",function(Q){return V(Q)}).on("brush",function(Q){return V(Q)}).on("start",function(Q){return V(Q)});var W=m(u.select(q[Y]),[O]);W.call(d).call(d.move,O?x(O):null)})};return E.xScale=function(){return arguments.length?(y=arguments.length<=0?void 0:arguments[0],E):y},E.yScale=function(){return arguments.length?(w=arguments.length<=0?void 0:arguments[0],E):w},A(E,p,"on"),A(E,d,"filter","handleSize"),E},Ek=function(){return xd("x")},Ik=function(){return xd("y")},Pk=function(){return xd("xy")},zx=function(c,d){if(c==null&&d==null)return!0;var p=c.domain(),y=d.domain();return p.length===y.length&&p.every(function(w,m){var g;return w?.valueOf()===((g=y[m])===null||g===void 0?void 0:g.valueOf())})},zk=function(c,d){return v.zoomIdentity.scale(c.k/d.k).translate(c.x-d.x,c.y-d.y)},Cf=Symbol("d3fc-domain-zoom"),Rk=function(){var f=h.dispatch("zoom"),c=v.zoom().on("zoom",function(p){var y=p.transform,w=this,m=y,g=w[Cf],x=g.originalXScale,_=g.previousXScale,S=g.xScale,k=g.originalYScale,V=g.previousYScale,E=g.yScale,P=g.previousTransform;(!zx(_,S)||!zx(V,E))&&(x=S?.copy(),k=E?.copy(),m=zk(y,P)),S!=null&&(_=m.rescaleX(x.range(S.range())),S.domain(_.domain())),E!=null&&(V=m.rescaleY(k.range(E.range())),E.domain(V.domain())),P=m,w[Cf]={originalXScale:x,previousXScale:_,xScale:S,originalYScale:k,previousYScale:V,yScale:E,previousTransform:P},m!==y&&c.transform(u.select(w),m),f.call("zoom")}),d=function(y){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;w==null&&m==null&&console.warn("Without an xScale and/or yScale specified, this component won't do anything. Perhaps you forgot to specify them e.g. selection.call(zoom, x, y)?"),y.each(function(g,x,_){var S=_[x][Cf];S!=null&&S.xScale===w&&S.yScale===m&&console.warn("This component should only be called on a selection once. Perhaps you're missing an .enter()?");var k=w?.copy(),V=m?.copy();_[x][Cf]={originalXScale:k,previousXScale:k,xScale:w,originalYScale:V,previousYScale:V,yScale:m,previousTransform:v.zoomIdentity}}).call(c)};return A(d,f,"on"),A(d,c,"extent","filter","wheelDelta","touchable","clickDistance","tapDistance","duration","interpolate"),d};e.annotationCanvasBand=JC,e.annotationCanvasCrosshair=tk,e.annotationCanvasGridline=nk,e.annotationCanvasLine=sd,e.annotationSvgBand=ZC,e.annotationSvgCrosshair=ek,e.annotationSvgGridline=rk,e.annotationSvgLine=cd,e.autoBandwidth=jC,e.axisBottom=yx,e.axisLabelOffset=sk,e.axisLabelRotate=ck,e.axisLeft=wx,e.axisOrdinalBottom=uk,e.axisOrdinalLeft=fk,e.axisOrdinalRight=lk,e.axisOrdinalTop=ik,e.axisRight=_x,e.axisTop=bx,e.brush=Pk,e.brushX=Ek,e.brushY=Ik,e.bucket=yf,e.chartCanvasCartesian=Nk,e.chartCartesian=Ex,e.chartSvgCartesian=Vk,e.dataJoin=Pe,e.discontinuityIdentity=J0,e.discontinuityRange=TA,e.discontinuitySkipUtcWeekends=kA,e.discontinuitySkipUtcWeeklyPattern=zA,e.discontinuitySkipWeekends=CA,e.discontinuitySkipWeeklyPattern=IA,e.effectivelyZero=Ks,e.exclude=B,e.extentDate=iv,e.extentLinear=ov,e.extentTime=iv,e.feedGdax=BA,e.group=kk,e.include=F,e.includeMap=R,e.indicatorBollingerBands=Z,e.indicatorElderRay=MA,e.indicatorEnvelope=SA,e.indicatorExponentialMovingAverage=K,e.indicatorForceIndex=_A,e.indicatorMacd=H,e.indicatorMovingAverage=Z0,e.indicatorRelativeStrengthIndex=yA,e.indicatorStochasticOscillator=wA,e.isTransition=at,e.largestTriangleOneBucket=FA,e.largestTriangleThreeBucket=HA,e.layoutAnnealing=jA,e.layoutBoundingBox=ZA,e.layoutGreedy=UA,e.layoutLabel=qA,e.layoutRemoveOverlaps=KA,e.layoutTextLabel=WA,e.modeMedian=YA,e.pointer=Ck,e.prefix=L,e.randomFinancial=LA,e.randomGeometricBrownianMotion=uv,e.randomSkipWeekends=OA,e.rebind=A,e.rebindAll=C,e.scaleDiscontinuous=ev,e.seriesCanvasArea=EC,e.seriesCanvasBar=CC,e.seriesCanvasBoxPlot=OC,e.seriesCanvasCandlestick=zC,e.seriesCanvasErrorBar=VC,e.seriesCanvasGrouped=WC,e.seriesCanvasHeatmap=KC,e.seriesCanvasLine=td,e.seriesCanvasMulti=ld,e.seriesCanvasOhlc=HC,e.seriesCanvasPoint=ux,e.seriesCanvasRepeat=GC,e.seriesSvgArea=DC,e.seriesSvgBar=AC,e.seriesSvgBoxPlot=LC,e.seriesSvgCandlestick=PC,e.seriesSvgErrorBar=TC,e.seriesSvgGrouped=qC,e.seriesSvgHeatmap=QC,e.seriesSvgLine=ed,e.seriesSvgMulti=fd,e.seriesSvgOhlc=FC,e.seriesSvgPoint=ix,e.seriesSvgRepeat=$C,e.seriesWebglArea=IC,e.seriesWebglBar=kC,e.seriesWebglBoxPlot=BC,e.seriesWebglCandlestick=RC,e.seriesWebglErrorBar=NC,e.seriesWebglLine=ox,e.seriesWebglMulti=sx,e.seriesWebglOhlc=YC,e.seriesWebglPoint=MC,e.seriesWebglRepeat=UC,e.shapeBar=xo,e.shapeBoxPlot=Xs,e.shapeCandlestick=Us,e.shapeErrorBar=js,e.shapeOhlc=Gs,e.webglAdjacentAttribute=kn,e.webglAttribute=Ae,e.webglBaseAttribute=wf,e.webglBufferBuilder=dv,e.webglElementIndices=va,e.webglFillColor=_C,e.webglProgramBuilder=an,e.webglScaleLinear=_f,e.webglScaleLog=ex,e.webglScaleMapper=Tn,e.webglScalePow=tx,e.webglSeriesArea=$v,e.webglSeriesBar=Qv,e.webglSeriesBoxPlot=Jv,e.webglSeriesCandlestick=Zv,e.webglSeriesErrorBar=Kv,e.webglSeriesLine=Xv,e.webglSeriesOhlc=jv,e.webglSeriesPoint=Uv,e.webglShaderBuilder=Ye,e.webglStrokeColor=SC,e.webglSymbolMapper=nx,e.webglTypes=Ee,e.webglUniform=Qt,e.zoom=Rk,Object.defineProperty(e,"__esModule",{value:!0})})});var hA=Rx(Q0=>{var vo=vo||{};vo.stringify=function(){var e={"visit_linear-gradient":function(t){return e.visit_gradient(t)},"visit_repeating-linear-gradient":function(t){return e.visit_gradient(t)},"visit_radial-gradient":function(t){return e.visit_gradient(t)},"visit_repeating-radial-gradient":function(t){return e.visit_gradient(t)},visit_gradient:function(t){var r=e.visit(t.orientation);return r&&(r+=", "),t.type+"("+r+e.visit(t.colorStops)+")"},visit_shape:function(t){var r=t.value,n=e.visit(t.at),a=e.visit(t.style);return a&&(r+=" "+a),n&&(r+=" at "+n),r},"visit_default-radial":function(t){var r="",n=e.visit(t.at);return n&&(r+=n),r},"visit_extent-keyword":function(t){var r=t.value,n=e.visit(t.at);return n&&(r+=" at "+n),r},"visit_position-keyword":function(t){return t.value},visit_position:function(t){return e.visit(t.value.x)+" "+e.visit(t.value.y)},"visit_%":function(t){return t.value+"%"},visit_em:function(t){return t.value+"em"},visit_px:function(t){return t.value+"px"},visit_literal:function(t){return e.visit_color(t.value,t)},visit_hex:function(t){return e.visit_color("#"+t.value,t)},visit_rgb:function(t){return e.visit_color("rgb("+t.value.join(", ")+")",t)},visit_rgba:function(t){return e.visit_color("rgba("+t.value.join(", ")+")",t)},visit_color:function(t,r){var n=t,a=e.visit(r.length);return a&&(n+=" "+a),n},visit_angular:function(t){return t.value+"deg"},visit_directional:function(t){return"to "+t.value},visit_array:function(t){var r="",n=t.length;return t.forEach(function(a,o){r+=e.visit(a),o<n-1&&(r+=", ")}),r},visit:function(t){if(!t)return"";var r="";if(t instanceof Array)return e.visit_array(t,r);if(t.type){var n=e["visit_"+t.type];if(n)return n(t);throw Error("Missing visitor visit_"+t.type)}else throw Error("Invalid node.")}};return function(t){return e.visit(t)}}();var vo=vo||{};vo.parse=function(){var e={linearGradient:/^(\-(webkit|o|ms|moz)\-)?(linear\-gradient)/i,repeatingLinearGradient:/^(\-(webkit|o|ms|moz)\-)?(repeating\-linear\-gradient)/i,radialGradient:/^(\-(webkit|o|ms|moz)\-)?(radial\-gradient)/i,repeatingRadialGradient:/^(\-(webkit|o|ms|moz)\-)?(repeating\-radial\-gradient)/i,sideOrCorner:/^to (left (top|bottom)|right (top|bottom)|left|right|top|bottom)/i,extentKeywords:/^(closest\-side|closest\-corner|farthest\-side|farthest\-corner|contain|cover)/,positionKeywords:/^(left|center|right|top|bottom)/i,pixelValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))px/,percentageValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))\%/,emValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))em/,angleValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))deg/,startCall:/^\(/,endCall:/^\)/,comma:/^,/,hexColor:/^\#([0-9a-fA-F]+)/,literalColor:/^([a-zA-Z]+)/,rgbColor:/^rgb/i,rgbaColor:/^rgba/i,number:/^(([0-9]*\.[0-9]+)|([0-9]+\.?))/},t="";function r(X){var ee=new Error(t+": "+X);throw ee.source=t,ee}function n(){var X=a();return t.length>0&&r("Invalid input not EOF"),X}function a(){return F(o)}function o(){return i("linear-gradient",e.linearGradient,l)||i("repeating-linear-gradient",e.repeatingLinearGradient,l)||i("radial-gradient",e.radialGradient,b)||i("repeating-radial-gradient",e.repeatingRadialGradient,b)}function i(X,ee,J){return u(ee,function(ae){var se=J();return se&&(te(e.comma)||r("Missing comma before color stops")),{type:X,orientation:se,colorStops:F(R)}})}function u(X,ee){var J=te(X);if(J){te(e.startCall)||r("Missing (");var ae=ee(J);return te(e.endCall)||r("Missing )"),ae}}function l(){return s()||h()}function s(){return H("directional",e.sideOrCorner,1)}function h(){return H("angular",e.angleValue,1)}function b(){var X,ee=v(),J;return ee&&(X=[],X.push(ee),J=t,te(e.comma)&&(ee=v(),ee?X.push(ee):t=J)),X}function v(){var X=M()||A();if(X)X.at=C();else{var ee=N();if(ee){X=ee;var J=C();J&&(X.at=J)}else{var ae=D();ae&&(X={type:"default-radial",at:ae})}}return X}function M(){var X=H("shape",/^(circle)/i,0);return X&&(X.style=K()||N()),X}function A(){var X=H("shape",/^(ellipse)/i,0);return X&&(X.style=U()||N()),X}function N(){return H("extent-keyword",e.extentKeywords,1)}function C(){if(H("position",/^at/,0)){var X=D();return X||r("Missing positioning value"),X}}function D(){var X=B();if(X.x||X.y)return{type:"position",value:X}}function B(){return{x:U(),y:U()}}function F(X){var ee=X(),J=[];if(ee)for(J.push(ee);te(e.comma);)ee=X(),ee?J.push(ee):r("One extra comma");return J}function R(){var X=z();return X||r("Expected color definition"),X.length=U(),X}function z(){return $()||ue()||G()||L()}function L(){return H("literal",e.literalColor,0)}function $(){return H("hex",e.hexColor,1)}function G(){return u(e.rgbColor,function(){return{type:"rgb",value:F(ne)}})}function ue(){return u(e.rgbaColor,function(){return{type:"rgba",value:F(ne)}})}function ne(){return te(e.number)[1]}function U(){return H("%",e.percentageValue,1)||Z()||K()}function Z(){return H("position-keyword",e.positionKeywords,1)}function K(){return H("px",e.pixelValue,1)||H("em",e.emValue,1)}function H(X,ee,J){var ae=te(ee);if(ae)return{type:X,value:ae[J]}}function te(X){var ee,J;return J=/^[\n\r\t\s]+/.exec(t),J&&j(J[0].length),ee=X.exec(t),ee&&j(ee[0].length),ee}function j(X){t=t.substr(X)}return function(X){return t=X.toString(),n()}}();Q0.parse=vo.parse;Q0.stringify=vo.stringify});Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector);Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector);Element.prototype.closest||(Element.prototype.closest=function(e){var t=this;do{if(t.matches(e))return t;t=t.parentElement||t.parentNode}while(t!==null&&t.nodeType===1);return null});var G9=Re(Le());var Kn=Re(Le());var We={none:"none",ordinal:"ordinal",time:"time",linear:"linear"},mi=e=>{let t="crossValues",r=null,n=null,a=()=>{let o=i=>{let u=r?e[t].filter(l=>r==l.name):e[t];return t=="crossValues"&&u.length>1?!1:u.some(l=>i.includes(l.type))};return e[t].length===0?We.none:n!=We.time&&o(["datetime","date"])?We.time:n!=We.linear&&o(["integer","float"])||n==We.ordinal?We.linear:We.ordinal};return a.settingName=(...o)=>o.length?(t=o[0],a):t,a.settingValue=(...o)=>o.length?(r=o[0],a):r,a.excludeType=(...o)=>o.length?(n=o[0],a):n,a};var Ug={};At(Ug,{domain:()=>RE,labelFunction:()=>Gg,scale:()=>zE});function Bc(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,o=new Array(a);++n<a;)o[n]=e+n*r;return o}Bg();cn();Ga();gc();dp();Ig();pp();el();function AE(e){var t=0,r=e.children,n=r&&r.length;if(!n)t=1;else for(;--n>=0;)t+=r[n].value;e.value=t}function Z4(){return this.eachAfter(AE)}function J4(e,t){let r=-1;for(let n of this)e.call(t,n,++r,this);return this}function eS(e,t){for(var r=this,n=[r],a,o,i=-1;r=n.pop();)if(e.call(t,r,++i,this),a=r.children)for(o=a.length-1;o>=0;--o)n.push(a[o]);return this}function tS(e,t){for(var r=this,n=[r],a=[],o,i,u,l=-1;r=n.pop();)if(a.push(r),o=r.children)for(i=0,u=o.length;i<u;++i)n.push(o[i]);for(;r=a.pop();)e.call(t,r,++l,this);return this}function rS(e,t){let r=-1;for(let n of this)if(e.call(t,n,++r,this))return n}function nS(e){return this.eachAfter(function(t){for(var r=+e(t.data)||0,n=t.children,a=n&&n.length;--a>=0;)r+=n[a].value;t.value=r})}function aS(e){return this.eachBefore(function(t){t.children&&t.children.sort(e)})}function oS(e){for(var t=this,r=CE(t,e),n=[t];t!==r;)t=t.parent,n.push(t);for(var a=n.length;e!==r;)n.splice(a,0,e),e=e.parent;return n}function CE(e,t){if(e===t)return e;var r=e.ancestors(),n=t.ancestors(),a=null;for(e=r.pop(),t=n.pop();e===t;)a=e,e=r.pop(),t=n.pop();return a}function iS(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t}function uS(){return Array.from(this)}function fS(){var e=[];return this.eachBefore(function(t){t.children||e.push(t)}),e}function lS(){var e=this,t=[];return e.each(function(r){r!==e&&t.push({source:r.parent,target:r})}),t}function*cS(){var e=this,t,r=[e],n,a,o;do for(t=r.reverse(),r=[];e=t.pop();)if(yield e,n=e.children)for(a=0,o=n.length;a<o;++a)r.push(n[a]);while(r.length)}function Un(e,t){e instanceof Map?(e=[void 0,e],t===void 0&&(t=VE)):t===void 0&&(t=TE);for(var r=new Zu(e),n,a=[r],o,i,u,l;n=a.pop();)if((i=t(n.data))&&(l=(i=Array.from(i)).length))for(n.children=i,u=l-1;u>=0;--u)a.push(o=i[u]=new Zu(i[u])),o.parent=n,o.depth=n.depth+1;return r.eachBefore(DE)}function kE(){return Un(this).eachBefore(NE)}function TE(e){return e.children}function VE(e){return Array.isArray(e)?e[1]:null}function NE(e){e.data.value!==void 0&&(e.value=e.data.value),e.data=e.data.data}function DE(e){var t=0;do e.height=t;while((e=e.parent)&&e.height<++t)}function Zu(e){this.data=e,this.depth=this.height=0,this.parent=null}Zu.prototype=Un.prototype={constructor:Zu,count:Z4,each:J4,eachAfter:tS,eachBefore:eS,find:rS,sum:nS,sort:aS,path:oS,ancestors:iS,descendants:uS,leaves:fS,links:lS,copy:kE,[Symbol.iterator]:cS};function sS(e){if(typeof e!="function")throw new Error;return e}function hi(){return 0}function pi(e){return function(){return e}}function Fc(e){e.x0=Math.round(e.x0),e.y0=Math.round(e.y0),e.x1=Math.round(e.x1),e.y1=Math.round(e.y1)}function Hc(e,t,r,n,a){for(var o=e.children,i,u=-1,l=o.length,s=e.value&&(n-t)/e.value;++u<l;)i=o[u],i.y0=r,i.y1=a,i.x0=t,i.x1=t+=i.value*s}function qg(){var e=1,t=1,r=0,n=!1;function a(i){var u=i.height+1;return i.x0=i.y0=r,i.x1=e,i.y1=t/u,i.eachBefore(o(t,u)),n&&i.eachBefore(Fc),i}function o(i,u){return function(l){l.children&&Hc(l,l.x0,i*(l.depth+1)/u,l.x1,i*(l.depth+2)/u);var s=l.x0,h=l.y0,b=l.x1-r,v=l.y1-r;b<s&&(s=b=(s+b)/2),v<h&&(h=v=(h+v)/2),l.x0=s,l.y0=h,l.x1=b,l.y1=v}}return a.round=function(i){return arguments.length?(n=!!i,a):n},a.size=function(i){return arguments.length?(e=+i[0],t=+i[1],a):[e,t]},a.padding=function(i){return arguments.length?(r=+i,a):r},a}function dS(e,t,r,n,a){for(var o=e.children,i,u=-1,l=o.length,s=e.value&&(a-r)/e.value;++u<l;)i=o[u],i.x0=t,i.x1=n,i.y0=r,i.y1=r+=i.value*s}var EE=(1+Math.sqrt(5))/2;function IE(e,t,r,n,a,o){for(var i=[],u=t.children,l,s,h=0,b=0,v=u.length,M,A,N=t.value,C,D,B,F,R,z,L;h<v;){M=a-r,A=o-n;do C=u[b++].value;while(!C&&b<v);for(D=B=C,z=Math.max(A/M,M/A)/(N*e),L=C*C*z,R=Math.max(B/L,L/D);b<v;++b){if(C+=s=u[b].value,s<D&&(D=s),s>B&&(B=s),L=C*C*z,F=Math.max(B/L,L/D),F>R){C-=s;break}R=F}i.push(l={value:C,dice:M<A,children:u.slice(h,b)}),l.dice?Hc(l,r,n,a,N?n+=A*C/N:o):dS(l,r,n,N?r+=M*C/N:a,o),N-=C,h=b}return i}var mS=function e(t){function r(n,a,o,i,u){IE(t,n,a,o,i,u)}return r.ratio=function(n){return e((n=+n)>1?n:1)},r}(EE);function Wg(){var e=mS,t=!1,r=1,n=1,a=[0],o=hi,i=hi,u=hi,l=hi,s=hi;function h(v){return v.x0=v.y0=0,v.x1=r,v.y1=n,v.eachBefore(b),a=[0],t&&v.eachBefore(Fc),v}function b(v){var M=a[v.depth],A=v.x0+M,N=v.y0+M,C=v.x1-M,D=v.y1-M;C<A&&(A=C=(A+C)/2),D<N&&(N=D=(N+D)/2),v.x0=A,v.y0=N,v.x1=C,v.y1=D,v.children&&(M=a[v.depth+1]=o(v)/2,A+=s(v)-M,N+=i(v)-M,C-=u(v)-M,D-=l(v)-M,C<A&&(A=C=(A+C)/2),D<N&&(N=D=(N+D)/2),e(v,A,N,C,D))}return h.round=function(v){return arguments.length?(t=!!v,h):t},h.size=function(v){return arguments.length?(r=+v[0],n=+v[1],h):[r,n]},h.tile=function(v){return arguments.length?(e=sS(v),h):e},h.padding=function(v){return arguments.length?h.paddingInner(v).paddingOuter(v):h.paddingInner()},h.paddingInner=function(v){return arguments.length?(o=typeof v=="function"?v:pi(+v),h):o},h.paddingOuter=function(v){return arguments.length?h.paddingTop(v).paddingRight(v).paddingBottom(v).paddingLeft(v):h.paddingTop()},h.paddingTop=function(v){return arguments.length?(i=typeof v=="function"?v:pi(+v),h):i},h.paddingRight=function(v){return arguments.length?(u=typeof v=="function"?v:pi(+v),h):u},h.paddingBottom=function(v){return arguments.length?(l=typeof v=="function"?v:pi(+v),h):l},h.paddingLeft=function(v){return arguments.length?(s=typeof v=="function"?v:pi(+v),h):s},h}function $g(e,t,r,n,a){var o=e.children,i,u=o.length,l,s=new Array(u+1);for(s[0]=l=i=0;i<u;++i)s[i+1]=l+=o[i].value;h(0,u,e.value,t,r,n,a);function h(b,v,M,A,N,C,D){if(b>=v-1){var B=o[b];B.x0=A,B.y0=N,B.x1=C,B.y1=D;return}for(var F=s[b],R=M/2+F,z=b+1,L=v-1;z<L;){var $=z+L>>>1;s[$]<R?z=$+1:L=$}R-s[z-1]<s[z]-R&&b+1<z&&--z;var G=s[z]-F,ue=M-G;if(C-A>D-N){var ne=M?(A*ue+C*G)/M:C;h(b,z,G,A,N,ne,D),h(z,v,ue,ne,N,C,D)}else{var U=M?(N*ue+D*G)/M:D;h(b,z,G,A,N,C,U),h(z,v,ue,A,U,C,D)}}}Zt();Ln();ip();ep();Cg();Nt();Zp();Lo();wl();_c();Nc();Yg();var hS=e=>{let t=r=>(n,a)=>n===void 0?a:a===void 0?n:r(n,a);return e.reduce((r,n)=>[t(Math.min)(r[0],n[0]),t(Math.max)(r[1],n[1])],[void 0,void 0])},Xn=e=>Array.isArray(e)?e.flat(1/0):[e];var pS=Re(Le()),PE=1,Yc=e=>{let t=r=>e(r);return(0,pS.rebindAll)(t,e),t.bandwidth=(...r)=>r.length?(e.bandwidth(...r),t):Math.max(e.bandwidth(),PE),t};var gS=Re(Le()),vS=e=>{let t=r=>e(r);return(0,gS.rebindAll)(t,e),t.ticks=function(){return[]},t};var zE=()=>vS(Yc(Ar())),RE=()=>{let e=["crossValue"],t="horizontal",r=a=>{let o=Xn(a);return n([...new Set(o.map(i=>i[e[0]]))])},n=a=>t=="vertical"?a.reverse():a;return r.valueName=(...a)=>a.length?(e=[a[0]],r):e[0],r.valueNames=(...a)=>a.length?(e=a[0],r):e,r.orient=(...a)=>a.length?(t=a[0],r):t,r},Gg=e=>t=>t[e].join("|");var Kg={};At(Kg,{component:()=>FE,domain:()=>jg,labelFunction:()=>Qg,scale:()=>OE,tickFormatFunction:()=>BE});var Qr=Re(Le());Sm();var qc=()=>{let e=[0,0],t="percent",r=n=>{switch(t){case"domain":{n[0]-=e[0],n[1]+=e[1];break}case"percent":{let a=n[1]-n[0];n[0]-=e[0]*a,n[1]+=e[1]*a;break}default:throw new Error("Unknown padUnit: "+t)}return n};return r.pad=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],r):e},r.padUnit=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],r):t},r};var xS=function(){let e=[function(o){return o}],t=null,r=[],n=qc(),a=function(i){let u=new Array(i.length),l=!0,s=!1,h,b=e[Symbol.iterator]();try{for(let M;!(l=(M=b.next()).done);l=!0){let A=M.value;for(let N=0;N<i.length;N++){let C=A(i[N],N);Array.isArray(C)?u.push.apply(u,Xg(C)):u.push(C)}}}catch(M){s=!0,h=M}finally{try{!l&&b.return&&b.return()}finally{if(s)throw h}}let v=[ir(u),Ir(u)];if(v[0]=v[0]==null?ir(r):ir([v[0]].concat(Xg(r))),v[1]=v[1]==null?Ir(r):Ir([v[1]].concat(Xg(r))),t!=null){let M=Math.max(Math.abs(v[1]-t),Math.abs(v[0]-t));v[0]=t-M,v[1]=t+M}return n(v)};return a.accessors=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],a):e},a.pad=function(){return arguments.length?(n.pad(arguments.length<=0?void 0:arguments[0]),a):n.pad},a.padUnit=function(){return arguments.length?(n.padUnit(arguments.length<=0?void 0:arguments[0]),a):n.padUnit},a.include=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],a):r},a.symmetricalAbout=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],a):t},a.paddingStrategy=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],a):n},a},Xg=function(e){if(Array.isArray(e)){let t=Array(e.length);for(let r=0;r<e.length;r++)t[r]=e[r];return t}else return Array.from(e)};var LE=1e7,Wc=e=>Math.abs(e)>=LE?Fr(".3s")(e):Number.isInteger(e)?Fr(",.0f")(e):Fr(",.2f")(e);function gi(e){return e.getRootNode().host}function jn(e){return e.closest("#container.chart")}var OE=()=>Hr(),jg=()=>{let e=xS().pad([0,.1]).padUnit("percent"),t=["crossValue"],r=o=>(e.accessors(t.map(i=>u=>parseFloat(u[i]))),a(Xn(o)));Qr.rebindAll(r,e);let n=o=>{let i=t.map(u=>o.map(l=>l[u]).sort((l,s)=>l-s).filter((l,s,h)=>s===0||l!==h[s-1]).reduce((l,s,h,b)=>h===0||l<=s-b[h-1]?l:Math.abs(s-b[h-1])));return Math.min(...i)},a=o=>{if(e.padUnit()=="domain"){let i=n(o);return e.pad([i/2,i/2])(o)}else return e(o)};return r.valueName=(...o)=>o.length?(t=[o[0]],r):t[0],r.valueNames=(...o)=>o.length?(t=o[0],r):t,r},Qg=e=>t=>t[e][0],BE=Wc,FE=e=>{let t=null,r="horizontal",n=null,a=(s,h)=>{try{return jn(s.node()).querySelector(".cartesian-chart").querySelector(`.${h}-axis`)}catch{return null}},o=s=>{let h=fe(s).select("text").node();h.style.fontSize="80%"},i=(s,h)=>{let b=s.getBoundingClientRect();h.each((v,M,A)=>{let N=fe(A[M]).node().getBoundingClientRect();(r=="vertical"&&b.width<N.width||r=="horizontal"&&b.height<N.height)&&o(A[M])})},u=(s,h,b)=>{let v=a(s,h);v&&i(v,s)},l=()=>({bottom:Qr.axisBottom,left:Qr.axisLeft,top:Qr.axisTop,right:Qr.axisRight,decorate:u});return l.domain=(...s)=>s.length?(t=s[0],l):t,l.orient=(...s)=>s.length?(r=s[0],l):r,l.settingName=(...s)=>s.length?(n=s[0],l):n,l};var Jg={};At(Jg,{domain:()=>YE,labelFunction:()=>Zg,scale:()=>HE});var vi=Re(Le());var HE=()=>Mu(),YE=()=>{let e=vi.extentTime(),t=["crossValue"],r=o=>(e.accessors(t.map(i=>u=>new Date(u[i]))),a(Xn(o)));vi.rebindAll(r,e,vi.exclude("include","paddingStrategy"));let n=o=>{let i=t.map(u=>o.map(l=>new Date(l[u]).getTime()).sort((l,s)=>l-s).filter((l,s,h)=>s===0||l!==h[s-1]).reduce((l,s,h,b)=>h===0||Math.abs(l)<=Math.abs(s-b[h-1])?Math.abs(l):Math.abs(s-b[h-1])));return Math.min(...i)},a=o=>{let i=Math.abs(n(o));return e.padUnit("domain").pad([i/2,i/2])(o)};return r.valueName=(...o)=>o.length?(t=[o[0]],r):t[0],r.valueNames=(...o)=>o.length?(t=o[0],r):t,r},Zg=e=>t=>new Date(t[e][0]);var t0={};At(t0,{component:()=>$E,domain:()=>WE,labelFunction:()=>e0,scale:()=>qE});var Qn=Re(Le());var It=Re(Le());var bS=(...e)=>{let t={},r=n=>{for(let a of Object.keys(t))n[a](t[a]);return n};for(let n of e)r[n]=(...a)=>a.length?(t[n]=a[0],r):t[n];return r};var $c=(e,t,r)=>{let n=6,a=6,o=bS("tickFormat","ticks","tickArguments","tickValues","tickPadding"),i=()=>{},u=null,l=(0,It.dataJoin)("g","group"),s=(0,It.dataJoin)("path","domain"),h=(N,C)=>v()?`translate(${C}, ${N})`:`translate(${N}, ${C})`,b=N=>v()?N.map(C=>[C[1],C[0]]):N,v=()=>e==="left"||e==="right",M=N=>{if(!u){o(t(r).decorate(i))(N);return}N.each((C,D,B)=>{let F=B[D],R=fe(F),z=e==="bottom"||e==="right"?1:-1,L=r.range(),$=b([[L[0],z*n],[L[0],0],[L[1],0],[L[1],z*n]]);s(R,[C]).attr("d",Wn()($)).attr("stroke","#000").attr("fill","none");let ue=l(R,u),ne=Z=>Array.isArray(a)?a[Z]:a,U=Z=>{let K=0;for(let H=0;H<Z;H++)K+=ne(H);return K};ue.attr("transform",(Z,K)=>h(0,z*U(K))).each((Z,K,H)=>{let te=fe(H[K]),j=A(r,Z);o(t(j)).decorate((ee,J)=>i(ee,J,K)).tickSizeInner(ne(K)).tickOffset(ee=>j.step(ee)/2)(te),te.select("path.domain").attr("visibility","hidden")}),ue.exit().attr("transform",(Z,K)=>h(0,z*U(K)))})},A=(N,C)=>{function D(B){let F=B.domain;return F.reduce((R,z)=>R+N(z),0)/F.length}return D.ticks=()=>C,D.tickFormat=()=>B=>B.text,D.copy=()=>A(N,C),D.step=B=>B.domain.length*N.step(),(0,It.rebindAll)(D,N,(0,It.exclude)("ticks","step","copy")),D};return M.tickSize=(...N)=>N.length?(a=n=Number(N[0]),M):a,M.tickSizeInner=(...N)=>N.length?(a=Array.isArray(N[0])?N[0]:Number(N[0]),M):a,M.tickSizeOuter=(...N)=>N.length?(n=Number(N[0]),M):n,M.decorate=(...N)=>N.length?(i=N[0],M):i,M.groups=(...N)=>N.length?(u=N[0],M):u,(0,It.rebindAll)(M,o),M},yS=e=>$c("top",It.axisOrdinalTop,e),wS=e=>$c("bottom",It.axisOrdinalBottom,e),_S=e=>$c("left",It.axisOrdinalLeft,e),SS=e=>$c("right",It.axisOrdinalRight,e);var qE=()=>Yc(Ar()).padding(.5),WE=()=>{let e=["crossValue"],t="horizontal",r=a=>{let o=Xn(a);return n([...Array.from(new Set(o.map(i=>i[e[0]])))])},n=a=>t=="vertical"?a.reverse():a;return r.valueName=(...a)=>a.length?(e=[a[0]],r):e[0],r.valueNames=(...a)=>a.length?(e=a[0],r):e,r.orient=(...a)=>a.length?(t=a[0],r):t,r},e0=e=>t=>t[e].join("|"),$E=e=>{let t="horizontal",r="crossValues",n=null,a=()=>{let v=e[r].length>1,M=i(n),A=M.map(u),N=v?A.map(R=>R.size):A[0].size,C=A.reduce((R,z)=>R+z.size,0),D=R=>z=>{let L=R(z);return v&&L.groups(M).tickSizeInner(N).tickSizeOuter(C),t!=="horizontal"&&L.tickPadding(10),L},B=(R,z,L)=>{let $=A[L].rotation;t==="horizontal"&&b(R,$),l(R,$)},F=o(v);return{bottom:D(F.bottom),left:D(F.left),right:D(F.right),top:D(F.top),size:`${C+10}px`,decorate:B}},o=v=>v?{bottom:wS,left:_S,top:yS,right:SS}:{bottom:Qn.axisOrdinalBottom,left:Qn.axisOrdinalLeft,top:Qn.axisOrdinalTop,right:Qn.axisOrdinalRight},i=v=>{let M=[];return v.forEach(A=>{(A&&A.split?A.split("|"):[A]).forEach((C,D)=>{for(;M.length<=D;)M.push([]);let B=M[D];B.length>0&&B[B.length-1].text===C?B[B.length-1].domain.push(A):B.push({text:C,domain:[A]})})}),M.reverse()},u=v=>{let M=e.size.width,A=Math.max(...v.map(N=>N.text?N.text.length:0));return t==="horizontal"?v&&v.length*16>M-100?{size:A*5+10,rotation:90}:v&&v.length*(A*6+10)>M-100?{size:A*3+20,rotation:45}:{size:25,rotation:0}:{size:A*5+10,rotation:0}},l=(v,M)=>{let A=z=>{let L=z.indexOf(",")!==-1?",":" ",$=z.substring(z.indexOf("(")+1,z.indexOf(")")).split(L).map(G=>parseInt(G));for(;$.length<2;)$.push(0);return $},D=M?(z,L)=>z.x+z.width+14>L.x+L.width:(z,L)=>z.x<=L.x+L.width&&L.x<=z.x+z.width&&z.y<=L.y+L.height&&L.y<=z.y+z.height,B=(z,L)=>z.x>=L.x&&z.x+z.width<=L.x+L.width&&z.y>=L.y&&z.y+z.height<=L.y+L.height,F=t=="horizontal"?s(v):null,R=[];v.each((z,L,$)=>{let G=fe($[L]),ue=A(G.attr("transform")),ne=G.node().getBBox(),U={x:ne.x+ue[0],y:ne.y+ue[1],width:ne.width,height:ne.height},K=R.some(H=>D(H,U))||F&&!B(U,F);G.attr("visibility",K?"hidden":""),K||R.push(U)})},s=v=>{let M=jn(v.node());if(M===null)return;let A=M.querySelector(".cartesian-chart"),N=A.querySelector(".x-axis"),C=A.getBoundingClientRect(),D=N.getBoundingClientRect();return{x:C.left-D.left,width:C.width,y:C.top-D.top,height:C.height}},h=v=>v?v<60?`rotate(-${v} 5 5)`:`rotate(-${v} 3 7)`:"translate(0, 8)",b=(v,M)=>{let A=h(M),N=M?"end":"";v.each((C,D,B)=>{fe(B[D]).select("text").attr("transform",A).style("text-anchor",N)})};return a.orient=(...v)=>v.length?(t=v[0],a):t,a.settingName=(...v)=>v.length?(r=v[0],a):r,a.domain=(...v)=>v.length?(n=v[0],a):n,a};var GE={none:Ug,ordinal:t0,time:Jg,linear:Kg},Ge=e=>{let t=null,r="horizontal",n="crossValues",a=null,o=["crossValue"],i=["include","paddingStrategy","pad"],u={},l=b=>{let v=mi(e).excludeType(t).settingName(n).settingValue(a)(),M=GE[v],A=M.domain().valueNames(o);i.forEach(D=>{u[D]&&A[D]&&A[D](u[D])}),A.orient&&A.orient(r);let N=A(b),C=M.component?s(M,N,b):h();return{scale:M.scale(),domain:N,domainFunction:A,labelFunction:M.labelFunction,component:{bottom:C.bottom,left:C.left,top:C.top,right:C.right},size:C.size,decorate:C.decorate,label:e[n].map(D=>D.name).join(", "),tickFormatFunction:M.tickFormatFunction}},s=(b,v,M)=>b.component(e).orient(r).settingName(n).domain(v)(M),h=()=>({bottom:Kn.axisBottom,left:Kn.axisLeft,top:Kn.axisTop,right:Kn.axisRight,decorate:()=>{}});return l.excludeType=(...b)=>b.length?(t=b[0],l):t,l.orient=(...b)=>b.length?(r=b[0],l):r,l.settingName=(...b)=>b.length?(n=b[0],l):n,l.settingValue=(...b)=>b.length?(a=b[0],l):a,l.valueName=(...b)=>b.length?(o=[b[0]],l):o[0],l.valueNames=(...b)=>b.length?(o=b[0],l):o,i.forEach(b=>{l[b]=(...v)=>v.length?(u[b]=v[0],l):u[b]}),l};var Za=Re(Le()),br=(e,t)=>MS(e,t,(r,n)=>r.svgPlotArea(n),!1),xi=(e,t)=>MS(e,t,(r,n)=>r.canvasPlotArea(n).svgPlotArea(Za.seriesSvgPoint()),!0),MS=(e,t,r,n)=>{let a=null,o=null,i=Za.chartCartesian({xScale:e.scale,yScale:t.scale,xAxis:e.component,yAxis:t.component}).xDomain(e.domain).xLabel(e.label).xAxisHeight(e.size).xDecorate(e.decorate).xTickFormat(e.tickFormatFunction).yDomain(t.domain).yLabel(t.label).yAxisWidth(t.size).yDecorate(t.decorate).yOrient("left").yTickFormat(t.tickFormatFunction);e.decorate&&i.xDecorate(e.decorate),t.decorate&&i.yDecorate(t.decorate),i.xPaddingInner&&i.xPaddingInner(1),i.xPaddingOuter&&i.xPaddingOuter(.5),i.yPaddingInner&&i.yPaddingInner(1),i.yPaddingOuter&&i.yPaddingOuter(.5),i.axisSplitter=(...l)=>l.length?(a=l[0],i):a,i.altAxis=(...l)=>l.length?(o=l[0],i):o,i.plotArea=function(...l){return l.length==0?n?this.canvasPlotArea():this.svgPlotArea():r(this,...l)};let u=i.decorate();return i.decorate((l,s)=>{let h=l.select("d3fc-svg.plot-area"),b=h.select("svg").node();b.setAttribute("viewBox",`0 0 ${h.node().clientWidth} ${h.node().clientHeight}`),b.setAttribute("preserveAspectRatio","none");for(let v of["x-axis","y-axis"])l.select(`d3fc-svg.${v} svg`).node().setAttribute("preserveAspectRatio","none");if(u(l,s),n){let v=l.select(".svg-plot-area").node(),M=l.select(".canvas-plot-area").node();Gl([v,M]).order()}if(!!a){if(a.haveSplit()){let v=a.altData(),M=Za.dataJoin("d3fc-svg","y2-axis").key(D=>D),A=Za.dataJoin("g","y-series").key(D=>D);l.append("div").attr("class","y-label right-label").style("grid-column",5).style("-ms-grid-column",5).style("grid-row",3).style("-ms-grid-row",3).style("width",o.size||"1em").style("display","flex").style("align-items","center").style("justify-content","center").append("span").attr("class","y-label splitter-label").style("transform","rotate(-90deg)");let N=o.scale.domain(o.domain),C=o.component.right(N);if(C.tickFormat(o.tickFormatFunction),o.decorate&&C.decorate(o.decorate),M(l,["right"]).attr("class",D=>`y-axis ${D}-axis`).on("measure",function(D,B){let{width:F,height:R}=D.detail;B==="left"&&fe(D.currentTarget).select("svg").attr("viewBox",`${-F} 0 ${F} ${R}`).attr("preserveAspectRatio","none"),N.range([R,0])}).on("draw",function(D,B){fe(D.currentTarget).select("svg").call(C)}),n){let D=B=>{let F=i.plotArea();F.context(B.node().getContext("2d")).xScale(e.scale);let R=[t.scale,N];[s,v].forEach((z,L)=>{F.yScale(R[L]),F(z)})};l.select("d3fc-canvas.plot-area").on("draw",function(B,F){D(fe(B.currentTarget).select("canvas"))})}else{let D=function(B){let F=i.plotArea();F.xScale(e.scale);let R=[t.scale,N];A(B,[s,v]).each((z,L,$)=>{F.yScale(R[L]),fe($[L]).datum(z).call(F)})};l.select("d3fc-svg.plot-area").on("draw",function(B,F){D(fe(B.currentTarget).select("svg"))})}}a(l)}}),i};var wn=Re(Le());function ht(e,t,r){let n=e.select(t);return n.size()>0?n:r()}function Kr(e,t,r="right"){if(r==="right"||r==="bottom")return e[r]<t[r];if(r==="left"||r==="top")return e[r]>t[r];throw`Direction being checked for overflow is invalid: ${r}`}function r0(e,t,r,n=0){let a=e==="x"?"width":"height",o=t[e],i=t[e]+t[a],u=r[e],l=r[e]+r[a],s=u+n>o&&u-n<i,h=l+n>o&&l-n<i,b=u+n<o&&l-n>i;return s||h||b}var AS=`<ul id="tooltip-values"></ul>
`;var CS={types:{float:{filter_operator:"==",aggregate:"sum",format:{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}},string:{filter_operator:"==",aggregate:"count"},integer:{filter_operator:"==",aggregate:"sum",format:{}},boolean:{filter_operator:"==",aggregate:"count"},datetime:{filter_operator:"==",aggregate:"count",format:{dateStyle:"short",timeStyle:"medium"},null_value:-1},date:{filter_operator:"==",aggregate:"count",format:{dateStyle:"short"},null_value:-1}}};function bi(e){let t={};if(kS().types[e]&&Object.assign(t,kS().types[e]),t.type){let r=bi(t.type);return Object.assign(r,t),r}else return t}function n0(e){return e&&typeof e=="object"&&!Array.isArray(e)}function a0(e,...t){if(!t.length)return e;let r=t.shift();if(n0(e)&&n0(r))for(let n in r)n0(r[n])?(e[n]||Object.assign(e,{[n]:{}}),a0(e[n],r[n])):Object.assign(e,{[n]:r[n]});return a0(e,...t)}function kS(){return globalThis.__PERSPECTIVE_CONFIG__||(globalThis.__PERSPECTIVE_CONFIG__=a0(CS,globalThis.__TEMPLATE_CONFIG__||{})),globalThis.__PERSPECTIVE_CONFIG__}function Zn(e,t){switch(e){case"date":case"datetime":return t instanceof Date?t:new Date(parseInt(t)).toLocaleString([],bi(e).format);case"integer":return parseInt(t,10);case"float":return parseFloat(t)}return t}function Gc(e,t){return t.crossValues.length===0?[]:e.crossValue.length===0?[]:((e.crossValue.split?e.crossValue.split("|"):[e.crossValue])||[e.key]).map((n,a)=>({name:t.crossValues[a].name,value:Zn(t.crossValues[a].type,n)}))}function Uc(e,t){if(t.splitValues.length===0)return[];let r=[e.mainValue];return e.key?r=e.key.split("|"):e.mainValue?.split&&(r=e.mainValue.split("|")),t.splitValues.map((n,a)=>({name:n.name,value:Zn(n.type,r[a])}))}function Xc(e,t){return t.mainValues.length>1?e.mainValue?[{name:e.key,value:e.mainValue-(e.baseValue||0)}]:t.mainValues.map((r,n)=>({name:r.name,value:Zn(r.type,e.mainValues[n])})):[{name:t.mainValues[0].name,value:Zn(t.mainValues[0].type,e.colorValue||e.mainValue-e.baseValue||e.mainValue||e.mainValues)}]}function TS(e,t,r){let n=Gc(t,r).concat(Uc(t,r)).concat(Xc(t,r));XE(e,n)}function XE(e,t){e.select("#tooltip-values").selectAll("li").data(t).join("li").each(function(r){fe(this).text(`${r.name}: `).append("b").text(jE(r.value))})}var jE=e=>e==null?"-":e.toLocaleString(void 0,{style:"decimal",minimumFractionDigits:bi("float").precision,maximumFractionDigits:bi("float").precision});var VS=e=>[e.name,"==",e.value],Ju=(e,t,r)=>{let n=Xc(t,r).map(u=>u.name),a=Gc(t,r).map(VS),o=Uc(t,r).map(VS),i=r.filter.concat(a).concat(o);e.dispatchEvent(new CustomEvent("perspective-click",{bubbles:!0,composed:!0,detail:{column_names:n,config:{filter:i},row:t.row}}))},NS=()=>{let e=null,t=r=>{let n=r.node();r.on("click",(a,o)=>Ju(n,o,e))};return t.settings=(...r)=>r.length?(e=r[0],t):e,t};var Jn=()=>{let e=!1,t=null,r=null,n=!1,a=o=>{let i=o.node();if(!i||!i.isConnected){DS(t);return}let u=fe(jn(i));t=QE(u);let l=function(h,b){TS(t,b,r);let v=o.nodes(),M=v.indexOf(this);KE(u.node(),v[M],t,n),fe(v[M]).style("opacity","0.7")},s=function(h,b){DS(t);let v=o.nodes(),M=v.indexOf(this);v&&fe(v[M]).style("opacity","1")};e?o.each(function(h){return l.call(this,void 0,h)}):(o.on("mouseover",l).on("mouseout",s),NS().settings(r)(o))};return a.alwaysShow=(...o)=>o.length?(e=o[0],a):e,a.centered=(...o)=>o.length?(n=o[0],a):n,a.settings=(...o)=>o.length?(r=o[0],a):r,a};function QE(e){return ht(e,"div.tooltip",()=>e.append("div").attr("class","tooltip").style("z-index",3).style("opacity",0).html(AS))}function KE(e,t,r,n){let a=e.getBoundingClientRect(),o=t.getBoundingClientRect(),i=o.left+o.width/2-a.left,u=o.top-a.top+e.scrollTop;n&&(u=o.top+o.height/2-a.top+e.scrollTop),r.style("left",`${i}px`).style("top",`${u}px`).style("opacity",.9),n&&([i,u]=ZE(r,a)),JE(r,a,i,u,n)}function ZE(e,t){let r=e.node().getBoundingClientRect(),n=r.width/2,a=r.left-n-t.left;e.style("left",`${a}px`);let o=r.height/2,i=r.top-o-t.top;return e.style("top",`${i}px`),[a,i]}function JE(e,t,r,n,a=!1){let o=e.node().getBoundingClientRect();if(Kr(t,o)){let i=o.right-t.right;e.style("left",`${r-i}px`)}if(Kr(t,o,"bottom")){let i=o.bottom-t.bottom;e.style("top",`${n-i}px`)}if(!!a){if(Kr(t,o,"left")){let i=o.left-t.left;e.style("left",`${r-i}px`)}if(Kr(t,o,"top")){let i=o.top-t.top;e.style("top",`${n-i}px`)}}}function DS(e){e&&e.style("opacity",0)}function jc(e,t){let r=e.mainValues.length>1?wn.seriesSvgGrouped(wn.seriesSvgBar()):wn.seriesSvgBar();return r=r.decorate(n=>{Jn().settings(e)(n),n.style("fill",a=>t(a.key))}),wn.autoBandwidth(eI(r)).crossValue(n=>n.crossValue).mainValue(n=>n.mainValue?n.mainValue:0).baseValue(n=>n.baseValue)}var eI=e=>{let t=r=>e(r);return wn.rebindAll(t,e),t.bandwidth=(...r)=>r.length?(e.bandwidth(Math.max(r[0],1)),t):e.bandwidth(),t};function ea(e){return e.split("|").slice(0,-1).join("|")}function Zr(e){let t=e.data&&e.data.length>0?e.data[0]:{},r=Object.keys(t).filter(n=>n!=="__ROW_PATH__");return ta().settings(e).domain(r)()}function Qc(e,t){let r=Array.from(new Set(t));return ta().settings(e).domain(r)()}function Kc(e){let t=e.data&&e.data.length>0?e.data[0]:{},r=[];return Object.keys(t).forEach(n=>{if(n!=="__ROW_PATH__"){let a=ea(n);r.includes(a)||r.push(a)}}),ta().settings(e).domain(r)()}function ta(){let e=null,t=null,r={},n=o=>Ja(o,r.colorStyles&&r.colorStyles.opacity),a=()=>{let o=r.colorStyles,i=t||[o.series];if(i||e.length>1){let u=e.length>1?o.scheme:i;return fr(u.map(n)).domain(e)}return null};return a.domain=(...o)=>o.length?(e=o[0],a):e,a.defaultColors=(...o)=>o.length?(t=o[0],a):t,a.mapFunction=(...o)=>o.length?(n=o[0],a):n,a.settings=(...o)=>o.length?(r=o[0],a):r,a}function Jr(e){return eo(1)(e)}function Ja(e,t=.5){return eo(t)(e)}function eo(e){return t=>{let r=Tt(t);return r.opacity=e,r+""}}var ES=Re(Le());var tI={none:Gg,ordinal:e0,time:Zg,linear:Qg},yr=e=>{let t=mi(e),r="__ROW_PATH__",n=(a,o)=>tI[t()](r)(a,o);return(0,ES.rebindAll)(n,t),n.valueName=(...a)=>a.length?(r=a[0],n):r,n};function to(e,t,{stack:r=!1,excludeEmpty:n=!1}={}){let a=t||e.data;return e.splitValues.length>0?rI(e,a,{stack:r,excludeEmpty:n}):[a]}function rI(e,t,{stack:r=!1,excludeEmpty:n=!1}){let a={};return t.forEach(o=>{let i={},u={};Object.keys(o).filter(l=>l!=="__ROW_PATH__").filter(l=>!n||o[l]!=null&&o[l]!=null).forEach(l=>{let s=l.split("|"),h=s[s.length-1],b=o[l]||0,v=`${h}${b>=0?"+ve":"-ve"}`,M=s.slice(0,s.length-1).join("|"),A=u[M]=u[M]||{__ROW_PATH__:o.__ROW_PATH__},N=i[v]||0;A.__KEY__=M,r?(A[h]=N+b,A[`__BASE_VALUE__${h}`]=N,i[v]=A[h]):A[h]=b,A.row=o}),Object.keys(u).forEach(l=>{(a[l]=a[l]||[]).push(u[l])})}),Object.keys(a).map(o=>{let i=a[o];return i.key=o,i})}function IS(e,t){let r={stack:!1},n=to(e,t,r).map(a=>PS(e,a,r));return e.mainValues.length>1?n.reduce((o,i)=>o.concat(i)):n}function Zc(e,t){let r={stack:!0};return to(e,t,r).map(n=>PS(e,n,r))}function nI(e,t,{stack:r=!1}){let n=yr(e);return a=>{let o=u=>r&&u[`__BASE_VALUE__${a.name}`]||0,i=t.map((u,l)=>({crossValue:n(u,l),mainValue:u[a.name]?u[a.name]:null,baseValue:o(u),key:u.__KEY__?`${u.__KEY__}|${a.name}`:a.name,row:u.row||u}));return i.key=i[0].key,i}}function PS(e,t,{stack:r=!1}){let n=nI(e,t,{stack:r});return e.mainValues.length>1?e.mainValues.map(n):n(e.mainValues[0])}var Jc="http://www.w3.org/1999/xhtml",es={svg:"http://www.w3.org/2000/svg",xhtml:Jc,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function ef(e){var t=e+="",r=t.indexOf(":");return r>=0&&(t=e.slice(0,r))!=="xmlns"&&(e=e.slice(r+1)),es.hasOwnProperty(t)?{space:es[t],local:e}:e}function aI(e){return function(){var t=this.ownerDocument,r=this.namespaceURI;return r===Jc&&t.documentElement.namespaceURI===Jc?t.createElement(e):t.createElementNS(r,e)}}function oI(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function tf(e){var t=ef(e);return(t.local?oI:aI)(t)}var iI=0;function i0(){return new o0}function o0(){this._="@"+(++iI).toString(36)}o0.prototype=i0.prototype={constructor:o0,get:function(e){for(var t=this._;!(t in e);)if(!(e=e.parentNode))return;return e[t]},set:function(e,t){return e[this._]=t},remove:function(e){return this._ in e&&delete e[this._]},toString:function(){return this._}};var RS=function(e){return function(){return this.matches(e)}};typeof document<"u"&&(yi=document.documentElement,yi.matches||(zS=yi.webkitMatchesSelector||yi.msMatchesSelector||yi.mozMatchesSelector||yi.oMatchesSelector,RS=function(e){return function(){return zS.call(this,e)}}));var yi,zS,u0=RS;var OS={},rf=null;typeof document<"u"&&(LS=document.documentElement,"onmouseenter"in LS||(OS={mouseenter:"mouseover",mouseleave:"mouseout"}));var LS;function uI(e,t,r){return e=BS(e,t,r),function(n){var a=n.relatedTarget;(!a||a!==this&&!(a.compareDocumentPosition(this)&8))&&e.call(this,n)}}function BS(e,t,r){return function(n){var a=rf;rf=n;try{e.call(this,this.__data__,t,r)}finally{rf=a}}}function fI(e){return e.trim().split(/^|\s+/).map(function(t){var r="",n=t.indexOf(".");return n>=0&&(r=t.slice(n+1),t=t.slice(0,n)),{type:t,name:r}})}function lI(e){return function(){var t=this.__on;if(!!t){for(var r=0,n=-1,a=t.length,o;r<a;++r)o=t[r],(!e.type||o.type===e.type)&&o.name===e.name?this.removeEventListener(o.type,o.listener,o.capture):t[++n]=o;++n?t.length=n:delete this.__on}}}function cI(e,t,r){var n=OS.hasOwnProperty(e.type)?uI:BS;return function(a,o,i){var u=this.__on,l,s=n(t,o,i);if(u){for(var h=0,b=u.length;h<b;++h)if((l=u[h]).type===e.type&&l.name===e.name){this.removeEventListener(l.type,l.listener,l.capture),this.addEventListener(l.type,l.listener=s,l.capture=r),l.value=t;return}}this.addEventListener(e.type,s,r),l={type:e.type,name:e.name,value:t,listener:s,capture:r},u?u.push(l):this.__on=[l]}}function FS(e,t,r){var n=fI(e+""),a,o=n.length,i;if(arguments.length<2){var u=this.node().__on;if(u){for(var l=0,s=u.length,h;l<s;++l)for(a=0,h=u[l];a<o;++a)if((i=n[a]).type===h.type&&i.name===h.name)return h.value}return}for(u=t?cI:lI,r==null&&(r=!1),a=0;a<o;++a)this.each(u(n[a],t,r));return this}function sI(){}function nf(e){return e==null?sI:function(){return this.querySelector(e)}}function qS(e){typeof e!="function"&&(e=nf(e));for(var t=this._groups,r=t.length,n=new Array(r),a=0;a<r;++a)for(var o=t[a],i=o.length,u=n[a]=new Array(i),l,s,h=0;h<i;++h)(l=o[h])&&(s=e.call(l,l.__data__,h,o))&&("__data__"in l&&(s.__data__=l.__data__),u[h]=s);return new Je(n,this._parents)}function dI(){return[]}function f0(e){return e==null?dI:function(){return this.querySelectorAll(e)}}function WS(e){typeof e!="function"&&(e=f0(e));for(var t=this._groups,r=t.length,n=[],a=[],o=0;o<r;++o)for(var i=t[o],u=i.length,l,s=0;s<u;++s)(l=i[s])&&(n.push(e.call(l,l.__data__,s,i)),a.push(l));return new Je(n,a)}function $S(e){typeof e!="function"&&(e=u0(e));for(var t=this._groups,r=t.length,n=new Array(r),a=0;a<r;++a)for(var o=t[a],i=o.length,u=n[a]=[],l,s=0;s<i;++s)(l=o[s])&&e.call(l,l.__data__,s,o)&&u.push(l);return new Je(n,this._parents)}function ts(e){return new Array(e.length)}function GS(){return new Je(this._enter||this._groups.map(ts),this._parents)}function af(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}af.prototype={constructor:af,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function US(e){return function(){return e}}var XS="$";function mI(e,t,r,n,a,o){for(var i=0,u,l=t.length,s=o.length;i<s;++i)(u=t[i])?(u.__data__=o[i],n[i]=u):r[i]=new af(e,o[i]);for(;i<l;++i)(u=t[i])&&(a[i]=u)}function hI(e,t,r,n,a,o,i){var u,l,s={},h=t.length,b=o.length,v=new Array(h),M;for(u=0;u<h;++u)(l=t[u])&&(v[u]=M=XS+i.call(l,l.__data__,u,t),M in s?a[u]=l:s[M]=l);for(u=0;u<b;++u)M=XS+i.call(e,o[u],u,o),(l=s[M])?(n[u]=l,l.__data__=o[u],s[M]=null):r[u]=new af(e,o[u]);for(u=0;u<h;++u)(l=t[u])&&s[v[u]]===l&&(a[u]=l)}function jS(e,t){if(!e)return M=new Array(this.size()),s=-1,this.each(function(L){M[++s]=L}),M;var r=t?hI:mI,n=this._parents,a=this._groups;typeof e!="function"&&(e=US(e));for(var o=a.length,i=new Array(o),u=new Array(o),l=new Array(o),s=0;s<o;++s){var h=n[s],b=a[s],v=b.length,M=e.call(h,h&&h.__data__,s,n),A=M.length,N=u[s]=new Array(A),C=i[s]=new Array(A),D=l[s]=new Array(v);r(h,b,N,C,D,M,t);for(var B=0,F=0,R,z;B<A;++B)if(R=N[B]){for(B>=F&&(F=B+1);!(z=C[F])&&++F<A;);R._next=z||null}}return i=new Je(i,n),i._enter=u,i._exit=l,i}function QS(){return new Je(this._exit||this._groups.map(ts),this._parents)}function KS(e){for(var t=this._groups,r=e._groups,n=t.length,a=r.length,o=Math.min(n,a),i=new Array(n),u=0;u<o;++u)for(var l=t[u],s=r[u],h=l.length,b=i[u]=new Array(h),v,M=0;M<h;++M)(v=l[M]||s[M])&&(b[M]=v);for(;u<n;++u)i[u]=t[u];return new Je(i,this._parents)}function ZS(){for(var e=this._groups,t=-1,r=e.length;++t<r;)for(var n=e[t],a=n.length-1,o=n[a],i;--a>=0;)(i=n[a])&&(o&&o!==i.nextSibling&&o.parentNode.insertBefore(i,o),o=i);return this}function JS(e){e||(e=pI);function t(b,v){return b&&v?e(b.__data__,v.__data__):!b-!v}for(var r=this._groups,n=r.length,a=new Array(n),o=0;o<n;++o){for(var i=r[o],u=i.length,l=a[o]=new Array(u),s,h=0;h<u;++h)(s=i[h])&&(l[h]=s);l.sort(t)}return new Je(a,this._parents).order()}function pI(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function e7(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function t7(){var e=new Array(this.size()),t=-1;return this.each(function(){e[++t]=this}),e}function r7(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],a=0,o=n.length;a<o;++a){var i=n[a];if(i)return i}return null}function n7(){var e=0;return this.each(function(){++e}),e}function a7(){return!this.node()}function o7(e){for(var t=this._groups,r=0,n=t.length;r<n;++r)for(var a=t[r],o=0,i=a.length,u;o<i;++o)(u=a[o])&&e.call(u,u.__data__,o,a);return this}function gI(e){return function(){this.removeAttribute(e)}}function vI(e){return function(){this.removeAttributeNS(e.space,e.local)}}function xI(e,t){return function(){this.setAttribute(e,t)}}function bI(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function yI(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttribute(e):this.setAttribute(e,r)}}function wI(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,r)}}function i7(e,t){var r=ef(e);if(arguments.length<2){var n=this.node();return r.local?n.getAttributeNS(r.space,r.local):n.getAttribute(r)}return this.each((t==null?r.local?vI:gI:typeof t=="function"?r.local?wI:yI:r.local?bI:xI)(r,t))}function of(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function _I(e){return function(){this.style.removeProperty(e)}}function SI(e,t,r){return function(){this.style.setProperty(e,t,r)}}function MI(e,t,r){return function(){var n=t.apply(this,arguments);n==null?this.style.removeProperty(e):this.style.setProperty(e,n,r)}}function u7(e,t,r){var n;return arguments.length>1?this.each((t==null?_I:typeof t=="function"?MI:SI)(e,t,r??"")):of(n=this.node()).getComputedStyle(n,null).getPropertyValue(e)}function AI(e){return function(){delete this[e]}}function CI(e,t){return function(){this[e]=t}}function kI(e,t){return function(){var r=t.apply(this,arguments);r==null?delete this[e]:this[e]=r}}function f7(e,t){return arguments.length>1?this.each((t==null?AI:typeof t=="function"?kI:CI)(e,t)):this.node()[e]}function l7(e){return e.trim().split(/^|\s+/)}function l0(e){return e.classList||new c7(e)}function c7(e){this._node=e,this._names=l7(e.getAttribute("class")||"")}c7.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function s7(e,t){for(var r=l0(e),n=-1,a=t.length;++n<a;)r.add(t[n])}function d7(e,t){for(var r=l0(e),n=-1,a=t.length;++n<a;)r.remove(t[n])}function TI(e){return function(){s7(this,e)}}function VI(e){return function(){d7(this,e)}}function NI(e,t){return function(){(t.apply(this,arguments)?s7:d7)(this,e)}}function m7(e,t){var r=l7(e+"");if(arguments.length<2){for(var n=l0(this.node()),a=-1,o=r.length;++a<o;)if(!n.contains(r[a]))return!1;return!0}return this.each((typeof t=="function"?NI:t?TI:VI)(r,t))}function DI(){this.textContent=""}function EI(e){return function(){this.textContent=e}}function II(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function h7(e){return arguments.length?this.each(e==null?DI:(typeof e=="function"?II:EI)(e)):this.node().textContent}function PI(){this.innerHTML=""}function zI(e){return function(){this.innerHTML=e}}function RI(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function p7(e){return arguments.length?this.each(e==null?PI:(typeof e=="function"?RI:zI)(e)):this.node().innerHTML}function LI(){this.nextSibling&&this.parentNode.appendChild(this)}function g7(){return this.each(LI)}function OI(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function v7(){return this.each(OI)}function x7(e){var t=typeof e=="function"?e:tf(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function BI(){return null}function b7(e,t){var r=typeof e=="function"?e:tf(e),n=t==null?BI:typeof t=="function"?t:nf(t);return this.select(function(){return this.insertBefore(r.apply(this,arguments),n.apply(this,arguments)||null)})}function FI(){var e=this.parentNode;e&&e.removeChild(this)}function y7(){return this.each(FI)}function w7(e){return arguments.length?this.property("__data__",e):this.node().__data__}function _7(e,t,r){var n=of(e),a=n.CustomEvent;a?a=new a(t,r):(a=n.document.createEvent("Event"),r?(a.initEvent(t,r.bubbles,r.cancelable),a.detail=r.detail):a.initEvent(t,!1,!1)),e.dispatchEvent(a)}function HI(e,t){return function(){return _7(this,e,t)}}function YI(e,t){return function(){return _7(this,e,t.apply(this,arguments))}}function S7(e,t){return this.each((typeof t=="function"?YI:HI)(e,t))}var rs=[null];function Je(e,t){this._groups=e,this._parents=t}function qI(){return new Je([[document.documentElement]],rs)}Je.prototype=qI.prototype={constructor:Je,select:qS,selectAll:WS,filter:$S,data:jS,enter:GS,exit:QS,merge:KS,order:ZS,sort:JS,call:e7,nodes:t7,node:r7,size:n7,empty:a7,each:o7,attr:i7,style:u7,property:f7,classed:m7,text:h7,html:p7,raise:g7,lower:v7,append:x7,insert:b7,remove:y7,datum:w7,on:FS,dispatch:S7};function c0(e){return typeof e=="string"?new Je([[document.querySelector(e)]],[document.documentElement]):new Je([[e]],rs)}function ro(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function uf(e){return e=ro(Math.abs(e)),e?e[1]:NaN}function M7(e,t){return function(r,n){for(var a=r.length,o=[],i=0,u=e[0],l=0;a>0&&u>0&&(l+u+1>n&&(u=Math.max(1,n-l)),o.push(r.substring(a-=u,a+u)),!((l+=u+1)>n));)u=e[i=(i+1)%e.length];return o.reverse().join(t)}}function A7(e,t){e=e.toPrecision(t);e:for(var r=e.length,n=1,a=-1,o;n<r;++n)switch(e[n]){case".":a=o=n;break;case"0":a===0&&(a=n),o=n;break;case"e":break e;default:a>0&&(a=0);break}return a>0?e.slice(0,a)+e.slice(o+1):e}var s0;function C7(e,t){var r=ro(e,t);if(!r)return e+"";var n=r[0],a=r[1],o=a-(s0=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,i=n.length;return o===i?n:o>i?n+new Array(o-i+1).join("0"):o>0?n.slice(0,o)+"."+n.slice(o):"0."+new Array(1-o).join("0")+ro(e,Math.max(0,t+o-1))[0]}function d0(e,t){var r=ro(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}var ns={"":A7,"%":function(e,t){return(e*100).toFixed(t)},b:function(e){return Math.round(e).toString(2)},c:function(e){return e+""},d:function(e){return Math.round(e).toString(10)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},g:function(e,t){return e.toPrecision(t)},o:function(e){return Math.round(e).toString(8)},p:function(e,t){return d0(e*100,t)},r:d0,s:C7,X:function(e){return Math.round(e).toString(16).toUpperCase()},x:function(e){return Math.round(e).toString(16)}};var WI=/^(?:(.)?([<>=^]))?([+\-\( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?([a-z%])?$/i;function no(e){return new k7(e)}function k7(e){if(!(t=WI.exec(e)))throw new Error("invalid format: "+e);var t,r=t[1]||" ",n=t[2]||">",a=t[3]||"-",o=t[4]||"",i=!!t[5],u=t[6]&&+t[6],l=!!t[7],s=t[8]&&+t[8].slice(1),h=t[9]||"";h==="n"?(l=!0,h="g"):ns[h]||(h=""),(i||r==="0"&&n==="=")&&(i=!0,r="0",n="="),this.fill=r,this.align=n,this.sign=a,this.symbol=o,this.zero=i,this.width=u,this.comma=l,this.precision=s,this.type=h}k7.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width==null?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision==null?"":"."+Math.max(0,this.precision|0))+this.type};var T7=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function $I(e){return e}function wi(e){var t=e.grouping&&e.thousands?M7(e.grouping,e.thousands):$I,r=e.currency,n=e.decimal;function a(i){i=no(i);var u=i.fill,l=i.align,s=i.sign,h=i.symbol,b=i.zero,v=i.width,M=i.comma,A=i.precision,N=i.type,C=h==="$"?r[0]:h==="#"&&/[boxX]/.test(N)?"0"+N.toLowerCase():"",D=h==="$"?r[1]:/[%p]/.test(N)?"%":"",B=ns[N],F=!N||/[defgprs%]/.test(N);A=A==null?N?6:12:/[gprs]/.test(N)?Math.max(1,Math.min(21,A)):Math.max(0,Math.min(20,A));function R(z){var L=C,$=D,G,ue,ne;if(N==="c")$=B(z)+$,z="";else{z=+z;var U=(z<0||1/z<0)&&(z*=-1,!0);if(z=B(z,A),U){for(G=-1,ue=z.length,U=!1;++G<ue;)if(ne=z.charCodeAt(G),48<ne&&ne<58||N==="x"&&96<ne&&ne<103||N==="X"&&64<ne&&ne<71){U=!0;break}}if(L=(U?s==="("?s:"-":s==="-"||s==="("?"":s)+L,$=$+(N==="s"?T7[8+s0/3]:"")+(U&&s==="("?")":""),F){for(G=-1,ue=z.length;++G<ue;)if(ne=z.charCodeAt(G),48>ne||ne>57){$=(ne===46?n+z.slice(G+1):z.slice(G))+$,z=z.slice(0,G);break}}}M&&!b&&(z=t(z,1/0));var Z=L.length+z.length+$.length,K=Z<v?new Array(v-Z+1).join(u):"";switch(M&&b&&(z=t(K+z,K.length?v-$.length:1/0),K=""),l){case"<":return L+z+$+K;case"=":return L+K+z+$;case"^":return K.slice(0,Z=K.length>>1)+L+z+$+K.slice(Z)}return K+L+z+$}return R.toString=function(){return i+""},R}function o(i,u){var l=a((i=no(i),i.type="f",i)),s=Math.max(-8,Math.min(8,Math.floor(uf(u)/3)))*3,h=Math.pow(10,-s),b=T7[8+s/3];return function(v){return l(h*v)+b}}return{format:a,formatPrefix:o}}var as,os,is;m0({decimal:".",thousands:",",grouping:[3],currency:["$",""]});function m0(e){return as=wi(e),os=as.format,is=as.formatPrefix,as}var GI={value:function(){}};function N7(){for(var e=0,t=arguments.length,r={},n;e<t;++e){if(!(n=arguments[e]+"")||n in r)throw new Error("illegal type: "+n);r[n]=[]}return new us(r)}function us(e){this._=e}function UI(e,t){return e.trim().split(/^|\s+/).map(function(r){var n="",a=r.indexOf(".");if(a>=0&&(n=r.slice(a+1),r=r.slice(0,a)),r&&!t.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:n}})}us.prototype=N7.prototype={constructor:us,on:function(e,t){var r=this._,n=UI(e+"",r),a,o=-1,i=n.length;if(arguments.length<2){for(;++o<i;)if((a=(e=n[o]).type)&&(a=XI(r[a],e.name)))return a;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++o<i;)if(a=(e=n[o]).type)r[a]=V7(r[a],e.name,t);else if(t==null)for(a in r)r[a]=V7(r[a],e.name,null);return this},copy:function(){var e={},t=this._;for(var r in t)e[r]=t[r].slice();return new us(e)},call:function(e,t){if((a=arguments.length-2)>0)for(var r=new Array(a),n=0,a,o;n<a;++n)r[n]=arguments[n+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=this._[e],n=0,a=o.length;n<a;++n)o[n].value.apply(t,r)},apply:function(e,t,r){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var n=this._[e],a=0,o=n.length;a<o;++a)n[a].value.apply(t,r)}};function XI(e,t){for(var r=0,n=e.length,a;r<n;++r)if((a=e[r]).name===t)return a.value}function V7(e,t,r){for(var n=0,a=e.length;n<a;++n)if(e[n].name===t){e[n]=GI,e=e.slice(0,n).concat(e.slice(n+1));break}return r!=null&&e.push({name:t,value:r}),e}var fs=N7;function _n(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function ls(e){return e.length===1&&(e=jI(e)),{left:function(t,r,n,a){for(n==null&&(n=0),a==null&&(a=t.length);n<a;){var o=n+a>>>1;e(t[o],r)<0?n=o+1:a=o}return n},right:function(t,r,n,a){for(n==null&&(n=0),a==null&&(a=t.length);n<a;){var o=n+a>>>1;e(t[o],r)>0?a=o:n=o+1}return n}}}function jI(e){return function(t,r){return _n(e(t),r)}}var D7=ls(_n),E7=D7.right,QI=D7.left,ao=E7;var I7=Array.prototype,ZI=I7.slice,JI=I7.map;var h0=Math.sqrt(50),p0=Math.sqrt(10),g0=Math.sqrt(2);function ss(e,t,r){var n,a=-1,o,i,u;if(t=+t,e=+e,r=+r,e===t&&r>0)return[e];if((n=t<e)&&(o=e,e=t,t=o),(u=P7(e,t,r))===0||!isFinite(u))return[];if(u>0)for(e=Math.ceil(e/u),t=Math.floor(t/u),i=new Array(o=Math.ceil(t-e+1));++a<o;)i[a]=(e+a)*u;else for(e=Math.floor(e*u),t=Math.ceil(t*u),i=new Array(o=Math.ceil(e-t+1));++a<o;)i[a]=(e-a)/u;return n&&i.reverse(),i}function P7(e,t,r){var n=(t-e)/Math.max(0,r),a=Math.floor(Math.log(n)/Math.LN10),o=n/Math.pow(10,a);return a>=0?(o>=h0?10:o>=p0?5:o>=g0?2:1)*Math.pow(10,a):-Math.pow(10,-a)/(o>=h0?10:o>=p0?5:o>=g0?2:1)}function ra(e,t,r){var n=Math.abs(t-e)/Math.max(0,r),a=Math.pow(10,Math.floor(Math.log(n)/Math.LN10)),o=n/a;return o>=h0?a*=10:o>=p0?a*=5:o>=g0&&(a*=2),t<e?-a:a}var Jt="$";function ds(){}ds.prototype=R7.prototype={constructor:ds,has:function(e){return Jt+e in this},get:function(e){return this[Jt+e]},set:function(e,t){return this[Jt+e]=t,this},remove:function(e){var t=Jt+e;return t in this&&delete this[t]},clear:function(){for(var e in this)e[0]===Jt&&delete this[e]},keys:function(){var e=[];for(var t in this)t[0]===Jt&&e.push(t.slice(1));return e},values:function(){var e=[];for(var t in this)t[0]===Jt&&e.push(this[t]);return e},entries:function(){var e=[];for(var t in this)t[0]===Jt&&e.push({key:t.slice(1),value:this[t]});return e},size:function(){var e=0;for(var t in this)t[0]===Jt&&++e;return e},empty:function(){for(var e in this)if(e[0]===Jt)return!1;return!0},each:function(e){for(var t in this)t[0]===Jt&&e(this[t],t.slice(1),this)}};function R7(e,t){var r=new ds;if(e instanceof ds)e.each(function(u,l){r.set(l,u)});else if(Array.isArray(e)){var n=-1,a=e.length,o;if(t==null)for(;++n<a;)r.set(n,e[n]);else for(;++n<a;)r.set(t(o=e[n],n,e),o)}else if(e)for(var i in e)r.set(i,e[i]);return r}var ff=R7;function ms(){}var oo=ff.prototype;ms.prototype=oP.prototype={constructor:ms,has:oo.has,add:function(e){return e+="",this[Jt+e]=e,this},remove:oo.remove,clear:oo.clear,values:oo.keys,size:oo.size,empty:oo.empty,each:oo.each};function oP(e,t){var r=new ms;if(e instanceof ms)e.each(function(o){r.add(o)});else if(e){var n=-1,a=e.length;if(t==null)for(;++n<a;)r.add(e[n]);else for(;++n<a;)r.add(t(e[n],n,e))}return r}var L7=Array.prototype,hs=L7.map,io=L7.slice;function _i(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function lf(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function fo(){}var na=.7,uo=1/na,Si="\\s*([+-]?\\d+)\\s*",cf="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",tn="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",uP=/^#([0-9a-f]{3,8})$/,fP=new RegExp("^rgb\\("+[Si,Si,Si]+"\\)$"),lP=new RegExp("^rgb\\("+[tn,tn,tn]+"\\)$"),cP=new RegExp("^rgba\\("+[Si,Si,Si,cf]+"\\)$"),sP=new RegExp("^rgba\\("+[tn,tn,tn,cf]+"\\)$"),dP=new RegExp("^hsl\\("+[cf,tn,tn]+"\\)$"),mP=new RegExp("^hsla\\("+[cf,tn,tn,cf]+"\\)$"),O7={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};_i(fo,aa,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:B7,formatHex:B7,formatHsl:hP,formatRgb:F7,toString:F7});function B7(){return this.rgb().formatHex()}function hP(){return $7(this).formatHsl()}function F7(){return this.rgb().formatRgb()}function aa(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=uP.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?H7(t):r===3?new Pt(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?ps(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?ps(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=fP.exec(e))?new Pt(t[1],t[2],t[3],1):(t=lP.exec(e))?new Pt(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=cP.exec(e))?ps(t[1],t[2],t[3],t[4]):(t=sP.exec(e))?ps(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=dP.exec(e))?W7(t[1],t[2]/100,t[3]/100,1):(t=mP.exec(e))?W7(t[1],t[2]/100,t[3]/100,t[4]):O7.hasOwnProperty(e)?H7(O7[e]):e==="transparent"?new Pt(NaN,NaN,NaN,0):null}function H7(e){return new Pt(e>>16&255,e>>8&255,e&255,1)}function ps(e,t,r,n){return n<=0&&(e=t=r=NaN),new Pt(e,t,r,n)}function y0(e){return e instanceof fo||(e=aa(e)),e?(e=e.rgb(),new Pt(e.r,e.g,e.b,e.opacity)):new Pt}function Mi(e,t,r,n){return arguments.length===1?y0(e):new Pt(e,t,r,n??1)}function Pt(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}_i(Pt,Mi,lf(fo,{brighter:function(e){return e=e==null?uo:Math.pow(uo,e),new Pt(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=e==null?na:Math.pow(na,e),new Pt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Y7,formatHex:Y7,formatRgb:q7,toString:q7}));function Y7(){return"#"+x0(this.r)+x0(this.g)+x0(this.b)}function q7(){var e=this.opacity;return e=isNaN(e)?1:Math.max(0,Math.min(1,e)),(e===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(e===1?")":", "+e+")")}function x0(e){return e=Math.max(0,Math.min(255,Math.round(e)||0)),(e<16?"0":"")+e.toString(16)}function W7(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new en(e,t,r,n)}function $7(e){if(e instanceof en)return new en(e.h,e.s,e.l,e.opacity);if(e instanceof fo||(e=aa(e)),!e)return new en;if(e instanceof en)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),o=Math.max(t,r,n),i=NaN,u=o-a,l=(o+a)/2;return u?(t===o?i=(r-n)/u+(r<n)*6:r===o?i=(n-t)/u+2:i=(t-r)/u+4,u/=l<.5?o+a:2-o-a,i*=60):u=l>0&&l<1?0:i,new en(i,u,l,e.opacity)}function G7(e,t,r,n){return arguments.length===1?$7(e):new en(e,t,r,n??1)}function en(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}_i(en,G7,lf(fo,{brighter:function(e){return e=e==null?uo:Math.pow(uo,e),new en(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=e==null?na:Math.pow(na,e),new en(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new Pt(b0(e>=240?e-240:e+120,a,n),b0(e,a,n),b0(e<120?e+240:e-120,a,n),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return e=isNaN(e)?1:Math.max(0,Math.min(1,e)),(e===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(e===1?")":", "+e+")")}}));function b0(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}var U7=Math.PI/180,X7=180/Math.PI;var Z7=-.14861,w0=1.78277,_0=-.29227,gs=-.90649,sf=1.97294,j7=sf*gs,Q7=sf*w0,K7=w0*_0-gs*Z7;function pP(e){if(e instanceof lo)return new lo(e.h,e.s,e.l,e.opacity);e instanceof Pt||(e=y0(e));var t=e.r/255,r=e.g/255,n=e.b/255,a=(K7*n+j7*t-Q7*r)/(K7+j7-Q7),o=n-a,i=(sf*(r-a)-_0*o)/gs,u=Math.sqrt(i*i+o*o)/(sf*a*(1-a)),l=u?Math.atan2(i,o)*X7-120:NaN;return new lo(l<0?l+360:l,u,a,e.opacity)}function Ht(e,t,r,n){return arguments.length===1?pP(e):new lo(e,t,r,n??1)}function lo(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}_i(lo,Ht,lf(fo,{brighter:function(e){return e=e==null?uo:Math.pow(uo,e),new lo(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=e==null?na:Math.pow(na,e),new lo(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=isNaN(this.h)?0:(this.h+120)*U7,t=+this.l,r=isNaN(this.s)?0:this.s*t*(1-t),n=Math.cos(e),a=Math.sin(e);return new Pt(255*(t+r*(Z7*n+w0*a)),255*(t+r*(_0*n+gs*a)),255*(t+r*(sf*n)),this.opacity)}}));function S0(e,t,r,n,a){var o=e*e,i=o*e;return((1-3*e+3*o-i)*t+(4-6*o+3*i)*r+(1+3*e+3*o-3*i)*n+i*a)/6}function J7(e){var t=e.length-1;return function(r){var n=r<=0?r=0:r>=1?(r=1,t-1):Math.floor(r*t),a=e[n],o=e[n+1],i=n>0?e[n-1]:2*a-o,u=n<t-1?e[n+2]:2*o-a;return S0((r-n/t)*t,i,a,o,u)}}function e9(e){var t=e.length;return function(r){var n=Math.floor(((r%=1)<0?++r:r)*t),a=e[(n+t-1)%t],o=e[n%t],i=e[(n+1)%t],u=e[(n+2)%t];return S0((r-n/t)*t,a,o,i,u)}}function Ai(e){return function(){return e}}function t9(e,t){return function(r){return e+r*t}}function gP(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function r9(e,t){var r=t-e;return r?t9(e,r>180||r<-180?r-360*Math.round(r/360):r):Ai(isNaN(e)?t:e)}function n9(e){return(e=+e)==1?Sn:function(t,r){return r-t?gP(t,r,e):Ai(isNaN(t)?r:t)}}function Sn(e,t){var r=t-e;return r?t9(e,r):Ai(isNaN(e)?t:e)}var M0=function e(t){var r=n9(t);function n(a,o){var i=r((a=Mi(a)).r,(o=Mi(o)).r),u=r(a.g,o.g),l=r(a.b,o.b),s=Sn(a.opacity,o.opacity);return function(h){return a.r=i(h),a.g=u(h),a.b=l(h),a.opacity=s(h),a+""}}return n.gamma=e,n}(1);function a9(e){return function(t){var r=t.length,n=new Array(r),a=new Array(r),o=new Array(r),i,u;for(i=0;i<r;++i)u=Mi(t[i]),n[i]=u.r||0,a[i]=u.g||0,o[i]=u.b||0;return n=e(n),a=e(a),o=e(o),u.opacity=1,function(l){return u.r=n(l),u.g=a(l),u.b=o(l),u+""}}}var qde=a9(J7),Wde=a9(e9);function o9(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(o){for(a=0;a<r;++a)n[a]=e[a]*(1-o)+t[a]*o;return n}}function i9(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function u9(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),o=new Array(r),i;for(i=0;i<n;++i)a[i]=co(e[i],t[i]);for(;i<r;++i)o[i]=t[i];return function(u){for(i=0;i<n;++i)o[i]=a[i](u);return o}}function f9(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function oa(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function l9(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=co(e[a],t[a]):n[a]=t[a];return function(o){for(a in r)n[a]=r[a](o);return n}}var C0=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,A0=new RegExp(C0.source,"g");function vP(e){return function(){return e}}function xP(e){return function(t){return e(t)+""}}function c9(e,t){var r=C0.lastIndex=A0.lastIndex=0,n,a,o,i=-1,u=[],l=[];for(e=e+"",t=t+"";(n=C0.exec(e))&&(a=A0.exec(t));)(o=a.index)>r&&(o=t.slice(r,o),u[i]?u[i]+=o:u[++i]=o),(n=n[0])===(a=a[0])?u[i]?u[i]+=a:u[++i]=a:(u[++i]=null,l.push({i,x:oa(n,a)})),r=A0.lastIndex;return r<t.length&&(o=t.slice(r),u[i]?u[i]+=o:u[++i]=o),u.length<2?l[0]?xP(l[0].x):vP(t):(t=l.length,function(s){for(var h=0,b;h<t;++h)u[(b=l[h]).i]=b.x(s);return u.join("")})}function co(e,t){var r=typeof t,n;return t==null||r==="boolean"?Ai(t):(r==="number"?oa:r==="string"?(n=aa(t))?(t=n,M0):c9:t instanceof aa?M0:t instanceof Date?f9:i9(t)?o9:Array.isArray(t)?u9:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?l9:oa)(e,t)}function k0(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function s9(e){return function t(r){r=+r;function n(a,o){var i=e((a=Ht(a)).h,(o=Ht(o)).h),u=Sn(a.s,o.s),l=Sn(a.l,o.l),s=Sn(a.opacity,o.opacity);return function(h){return a.h=i(h),a.s=u(h),a.l=l(Math.pow(h,r)),a.opacity=s(h),a+""}}return n.gamma=t,n}(1)}var bP=s9(r9),Ci=s9(Sn);function vs(e){return function(){return e}}function T0(e){return+e}var d9=[0,1];function xs(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:vs(t)}function yP(e){return function(t,r){var n=e(t=+t,r=+r);return function(a){return a<=t?0:a>=r?1:n(a)}}}function wP(e){return function(t,r){var n=e(t=+t,r=+r);return function(a){return a<=0?t:a>=1?r:n(a)}}}function _P(e,t,r,n){var a=e[0],o=e[1],i=t[0],u=t[1];return o<a?(a=r(o,a),i=n(u,i)):(a=r(a,o),i=n(i,u)),function(l){return i(a(l))}}function SP(e,t,r,n){var a=Math.min(e.length,t.length)-1,o=new Array(a),i=new Array(a),u=-1;for(e[a]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++u<a;)o[u]=r(e[u],e[u+1]),i[u]=n(t[u],t[u+1]);return function(l){var s=ao(e,l,1,a)-1;return i[s](o[s](l))}}function df(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp())}function ki(e,t){var r=d9,n=d9,a=co,o=!1,i,u,l;function s(){return i=Math.min(r.length,n.length)>2?SP:_P,u=l=null,h}function h(b){return(u||(u=i(r,n,o?yP(e):e,a)))(+b)}return h.invert=function(b){return(l||(l=i(n,r,xs,o?wP(t):t)))(+b)},h.domain=function(b){return arguments.length?(r=hs.call(b,T0),s()):r.slice()},h.range=function(b){return arguments.length?(n=io.call(b),s()):n.slice()},h.rangeRound=function(b){return n=io.call(b),a=k0,s()},h.clamp=function(b){return arguments.length?(o=!!b,s()):o},h.interpolate=function(b){return arguments.length?(a=b,s()):a},s()}function m9(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function so(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function rn(e){return e=so(Math.abs(e)),e?e[1]:NaN}function h9(e,t){return function(r,n){for(var a=r.length,o=[],i=0,u=e[0],l=0;a>0&&u>0&&(l+u+1>n&&(u=Math.max(1,n-l)),o.push(r.substring(a-=u,a+u)),!((l+=u+1)>n));)u=e[i=(i+1)%e.length];return o.reverse().join(t)}}function p9(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var MP=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ia(e){if(!(t=MP.exec(e)))throw new Error("invalid format: "+e);var t;return new bs({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}ia.prototype=bs.prototype;function bs(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}bs.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function g9(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var V0;function v9(e,t){var r=so(e,t);if(!r)return e+"";var n=r[0],a=r[1],o=a-(V0=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,i=n.length;return o===i?n:o>i?n+new Array(o-i+1).join("0"):o>0?n.slice(0,o)+"."+n.slice(o):"0."+new Array(1-o).join("0")+so(e,Math.max(0,t+o-1))[0]}function N0(e,t){var r=so(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}var D0={"%":function(e,t){return(e*100).toFixed(t)},b:function(e){return Math.round(e).toString(2)},c:function(e){return e+""},d:m9,e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},g:function(e,t){return e.toPrecision(t)},o:function(e){return Math.round(e).toString(8)},p:function(e,t){return N0(e*100,t)},r:N0,s:v9,X:function(e){return Math.round(e).toString(16).toUpperCase()},x:function(e){return Math.round(e).toString(16)}};function E0(e){return e}var x9=Array.prototype.map,b9=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function y9(e){var t=e.grouping===void 0||e.thousands===void 0?E0:h9(x9.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?E0:p9(x9.call(e.numerals,String)),i=e.percent===void 0?"%":e.percent+"",u=e.minus===void 0?"-":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function s(b){b=ia(b);var v=b.fill,M=b.align,A=b.sign,N=b.symbol,C=b.zero,D=b.width,B=b.comma,F=b.precision,R=b.trim,z=b.type;z==="n"?(B=!0,z="g"):D0[z]||(F===void 0&&(F=12),R=!0,z="g"),(C||v==="0"&&M==="=")&&(C=!0,v="0",M="=");var L=N==="$"?r:N==="#"&&/[boxX]/.test(z)?"0"+z.toLowerCase():"",$=N==="$"?n:/[%p]/.test(z)?i:"",G=D0[z],ue=/[defgprs%]/.test(z);F=F===void 0?6:/[gprs]/.test(z)?Math.max(1,Math.min(21,F)):Math.max(0,Math.min(20,F));function ne(U){var Z=L,K=$,H,te,j;if(z==="c")K=G(U)+K,U="";else{U=+U;var X=U<0||1/U<0;if(U=isNaN(U)?l:G(Math.abs(U),F),R&&(U=g9(U)),X&&+U==0&&A!=="+"&&(X=!1),Z=(X?A==="("?A:u:A==="-"||A==="("?"":A)+Z,K=(z==="s"?b9[8+V0/3]:"")+K+(X&&A==="("?")":""),ue){for(H=-1,te=U.length;++H<te;)if(j=U.charCodeAt(H),48>j||j>57){K=(j===46?a+U.slice(H+1):U.slice(H))+K,U=U.slice(0,H);break}}}B&&!C&&(U=t(U,1/0));var ee=Z.length+U.length+K.length,J=ee<D?new Array(D-ee+1).join(v):"";switch(B&&C&&(U=t(J+U,J.length?D-K.length:1/0),J=""),M){case"<":U=Z+U+K+J;break;case"=":U=Z+J+U+K;break;case"^":U=J.slice(0,ee=J.length>>1)+Z+U+K+J.slice(ee);break;default:U=J+Z+U+K;break}return o(U)}return ne.toString=function(){return b+""},ne}function h(b,v){var M=s((b=ia(b),b.type="f",b)),A=Math.max(-8,Math.min(8,Math.floor(rn(v)/3)))*3,N=Math.pow(10,-A),C=b9[8+A/3];return function(D){return M(N*D)+C}}return{format:s,formatPrefix:h}}var ys,ws,_s;I0({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"});function I0(e){return ys=y9(e),ws=ys.format,_s=ys.formatPrefix,ys}function P0(e){return Math.max(0,-rn(Math.abs(e)))}function z0(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(rn(t)/3)))*3-rn(Math.abs(e)))}function R0(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,rn(t)-rn(e))+1}function w9(e,t,r){var n=e[0],a=e[e.length-1],o=ra(n,a,t??10),i;switch(r=ia(r??",f"),r.type){case"s":{var u=Math.max(Math.abs(n),Math.abs(a));return r.precision==null&&!isNaN(i=z0(o,u))&&(r.precision=i),_s(r,u)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(i=R0(o,Math.max(Math.abs(n),Math.abs(a))))&&(r.precision=i-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(i=P0(o))&&(r.precision=i-(r.type==="%")*2);break}}return ws(r)}function mf(e){var t=e.domain;return e.ticks=function(r){var n=t();return ss(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){return w9(t(),r,n)},e.nice=function(r){var n=t(),a=n.length-1,o=r??10,i=n[0],u=n[a],l=ra(i,u,o);return l&&(l=ra(Math.floor(i/l)*l,Math.ceil(u/l)*l,o),n[0]=Math.floor(i/l)*l,n[a]=Math.ceil(u/l)*l,t(n)),e},e}function Ti(){var e=ki(xs,oa);return e.copy=function(){return df(e,Ti())},mf(e)}var CP=1e3,kP=CP*60,TP=kP*60,L0=TP*24,jhe=L0*7,Qhe=L0*30,Khe=L0*365;function er(e){return e.match(/.{6}/g).map(function(t){return"#"+t})}var VP=er("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf");var NP=er("393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6");var DP=er("3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9");var EP=er("1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5");var IP=Ci(Ht(300,.5,0),Ht(-240,.5,1));var PP=Ci(Ht(-100,.75,.35),Ht(80,1.5,.8)),zP=Ci(Ht(260,.75,.35),Ht(80,1.5,.8)),gpe=Ht();function Ss(e){var t=e.length;return function(r){return e[Math.max(0,Math.min(t-1,Math.floor(r*t)))]}}var RP=Ss(er("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),LP=Ss(er("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),OP=Ss(er("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),BP=Ss(er("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function ua(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function O0(e){return e.length===1&&(e=FP(e)),{left:function(t,r,n,a){for(n==null&&(n=0),a==null&&(a=t.length);n<a;){var o=n+a>>>1;e(t[o],r)<0?n=o+1:a=o}return n},right:function(t,r,n,a){for(n==null&&(n=0),a==null&&(a=t.length);n<a;){var o=n+a>>>1;e(t[o],r)>0?a=o:n=o+1}return n}}}function FP(e){return function(t,r){return ua(e(t),r)}}var _9=O0(ua),HP=_9.right,YP=_9.left;var S9=Array.prototype,WP=S9.slice,$P=S9.map;var yge=Math.sqrt(50),wge=Math.sqrt(10),_ge=Math.sqrt(2);function As(e,t){var r=-1,n=e.length,a,o;if(t==null){for(;++r<n;)if((o=e[r])!=null&&o>=o){a=o;break}for(;++r<n;)(o=e[r])!=null&&o>a&&(a=o)}else{for(;++r<n;)if((o=t(e[r],r,e))!=null&&o>=o){a=o;break}for(;++r<n;)(o=t(e[r],r,e))!=null&&o>a&&(a=o)}return a}function Cs(e,t){var r=0,n=e.length,a,o=-1;if(t==null)for(;++o<n;)(a=+e[o])&&(r+=a);else for(;++o<n;)(a=+t(e[o],o,e))&&(r+=a);return r}var ez=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},k9=function(t){return t},A9=function(t){for(var r=[],n=0,a=t.length;n<a;n++)r[n]=t[a-n-1];return r},C9=function(t,r){t.each(function(){for(var n=c0(this),a=n.text().split(/\s+/).reverse(),o,i=[],u=0,l=1.2,s=n.attr("y"),h=parseFloat(n.attr("dy"))||0,b=n.text(null).append("tspan").attr("x",0).attr("dy",h+"em");o=a.pop();)i.push(o),b.text(i.join(" ")),b.node().getComputedTextLength()>r&&i.length>1&&(i.pop(),b.text(i.join(" ")),i=[o],b=n.append("tspan").attr("x",0).attr("dy",l+h+"em").text(o))})},tz=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=arguments[1],n=arguments[2],a=arguments[3],o=arguments[4];if((typeof r>"u"?"undefined":ez(r))==="object"){if(r.length===0)return t;for(var i=r.length;i<t.length;i++)r.push(t[i]);return r}else if(typeof r=="function"){for(var u=[],l=t.length,s=0;s<l;s++)u.push(r({i:s,genLength:l,generatedLabels:t,domain:n,range:a,labelDelimiter:o}));return u}return t},rz=function(t,r,n){var a=[];if(r.length>1)a=r;else for(var o=t.domain(),i=(o[o.length-1]-o[0])/(r-1),u=0;u<r;u++)a.push(o[0]+u*i);var l=a.map(n);return{data:a,labels:l,feature:function(h){return t(h)}}},nz=function(t,r,n){var a=t.range().map(function(o){var i=t.invertExtent(o);return r(i[0])+" "+n+" "+r(i[1])});return{data:t.range(),labels:a,feature:k9}},az=function(t){return{data:t.domain(),labels:t.domain(),feature:function(n){return t(n)}}},oz=function(t,r,n){t.call("cellover",n,r)},iz=function(t,r,n){t.call("cellout",n,r)},uz=function(t,r,n){t.call("cellclick",n,r)},ot={d3_drawShapes:function(t,r,n,a,o,i){t==="rect"?r.attr("height",n).attr("width",a):t==="circle"?r.attr("r",o):t==="line"?r.attr("x1",0).attr("x2",a).attr("y1",0).attr("y2",0):t==="path"&&r.attr("d",i)},d3_addText:function(t,r,n,a,o){r.append("text").attr("class",a+"label");var i=t.selectAll("g."+a+"cell text."+a+"label").data(n).text(k9);return o&&t.selectAll("g."+a+"cell text."+a+"label").call(C9,o),i},d3_calcType:function(t,r,n,a,o,i){var u=t.invertExtent?nz(t,o,i):t.ticks?rz(t,n,o):az(t),l=t.range&&t.range()||t.domain();return u.labels=tz(u.labels,a,t.domain(),l,i),r&&(u.labels=A9(u.labels),u.data=A9(u.data)),u},d3_filterCells:function(t,r){var n=t.data.map(function(i,u){return{data:i,label:t.labels[u]}}).filter(r),a=n.map(function(i){return i.data}),o=n.map(function(i){return i.label});return t.data=t.data.filter(function(i){return a.indexOf(i)!==-1}),t.labels=t.labels.filter(function(i){return o.indexOf(i)!==-1}),t},d3_placement:function(t,r,n,a,o,i){r.attr("transform",n),a.attr("transform",o),t==="horizontal"&&a.style("text-anchor",i)},d3_addEvents:function(t,r){t.on("mouseover.legend",function(n){oz(r,n,this)}).on("mouseout.legend",function(n){iz(r,n,this)}).on("click.legend",function(n){uz(r,n,this)})},d3_title:function(t,r,n,a){if(r!==""){var o=t.selectAll("text."+n+"legendTitle");o.data([r]).enter().append("text").attr("class",n+"legendTitle"),t.selectAll("text."+n+"legendTitle").text(r),a&&t.selectAll("text."+n+"legendTitle").call(C9,a);var i=t.select("."+n+"legendCells"),u=t.select("."+n+"legendTitle").nodes().map(function(s){return s.getBBox().height})[0],l=-i.nodes().map(function(s){return s.getBBox().x})[0];i.attr("transform","translate("+l+","+u+")")}},d3_defaultLocale:{format:os,formatPrefix:is},d3_defaultFormatSpecifier:".01f",d3_defaultDelimiter:"to"};function ks(){var e=Ti(),t="rect",r=15,n=15,a=10,o=2,i=[5],u=void 0,l=[],s="",h=!1,b="",v=ot.d3_defaultLocale,M=ot.d3_defaultFormatSpecifier,A=10,N="middle",C=ot.d3_defaultDelimiter,D=void 0,B="vertical",F=!1,R=void 0,z=void 0,L=fs("cellover","cellout","cellclick");function $(G){var ue=ot.d3_calcType(e,F,i,l,v.format(M),C),ne=G.selectAll("g").data([e]);ne.enter().append("g").attr("class",s+"legendCells"),u&&ot.d3_filterCells(ue,u);var U=G.select("."+s+"legendCells").selectAll("."+s+"cell").data(ue.data),Z=U.enter().append("g").attr("class",s+"cell");Z.append(t).attr("class",s+"swatch");var K=G.selectAll("g."+s+"cell "+t+"."+s+"swatch").data(ue.data);ot.d3_addEvents(Z,L),U.exit().transition().style("opacity",0).remove(),K.exit().transition().style("opacity",0).remove(),K=K.merge(K),ot.d3_drawShapes(t,K,n,r,a,R);var H=ot.d3_addText(G,Z,ue.labels,s,D);U=Z.merge(U);var te=H.nodes().map(function(ae){return ae.getBBox()}),j=K.nodes().map(function(ae){return ae.getBBox()});h?K.attr("class",function(ae){return s+"swatch "+ue.feature(ae)}):t=="line"?K.style("stroke",ue.feature):K.style("fill",ue.feature);var X=void 0,ee=void 0,J=N=="start"?0:N=="middle"?.5:1;B==="vertical"?function(){var ae=te.map(function(se,de){return Math.max(se.height,j[de].height)});X=function(de,re){var me=Cs(ae.slice(0,re));return"translate(0, "+(me+re*o)+")"},ee=function(de,re){return"translate( "+(j[re].width+j[re].x+A)+", "+(j[re].y+j[re].height/2+5)+")"}}():B==="horizontal"&&(X=function(se,de){return"translate("+de*(j[de].width+o)+",0)"},ee=function(se,de){return"translate("+(j[de].width*J+j[de].x)+`,
          `+(j[de].height+j[de].y+A+8)+")"}),ot.d3_placement(B,U,X,H,ee,N),ot.d3_title(G,b,s,z),U.transition().style("opacity",1)}return $.scale=function(G){return arguments.length?(e=G,$):e},$.cells=function(G){return arguments.length?((G.length>1||G>=2)&&(i=G),$):i},$.cellFilter=function(G){return arguments.length?(u=G,$):u},$.shape=function(G,ue){return arguments.length?((G=="rect"||G=="circle"||G=="line"||G=="path"&&typeof ue=="string")&&(t=G,R=ue),$):t},$.shapeWidth=function(G){return arguments.length?(r=+G,$):r},$.shapeHeight=function(G){return arguments.length?(n=+G,$):n},$.shapeRadius=function(G){return arguments.length?(a=+G,$):a},$.shapePadding=function(G){return arguments.length?(o=+G,$):o},$.labels=function(G){return arguments.length?(l=G,$):l},$.labelAlign=function(G){return arguments.length?((G=="start"||G=="end"||G=="middle")&&(N=G),$):N},$.locale=function(G){return arguments.length?(v=wi(G),$):v},$.labelFormat=function(G){return arguments.length?(M=no(G),$):$.locale().format(M)},$.labelOffset=function(G){return arguments.length?(A=+G,$):A},$.labelDelimiter=function(G){return arguments.length?(C=G,$):C},$.labelWrap=function(G){return arguments.length?(D=G,$):D},$.useClass=function(G){return arguments.length?((G===!0||G===!1)&&(h=G),$):h},$.orient=function(G){return arguments.length?(G=G.toLowerCase(),(G=="horizontal"||G=="vertical")&&(B=G),$):B},$.ascending=function(G){return arguments.length?(F=!!G,$):F},$.classPrefix=function(G){return arguments.length?(s=G,$):s},$.title=function(G){return arguments.length?(b=G,$):b},$.titleWidth=function(G){return arguments.length?(z=G,$):z},$.textWrap=function(G){return arguments.length?(textWrap=G,$):textWrap},$.on=function(){var G=L.on.apply(L,arguments);return G===L?$:G},$}function T9(){var e=Ti(),t="path",r=15,n=15,a=10,o=5,i=[5],u=void 0,l=[],s="",h="",b=ot.d3_defaultLocale,v=ot.d3_defaultFormatSpecifier,M="middle",A=10,N=ot.d3_defaultDelimiter,C=void 0,D="vertical",B=!1,F=void 0,R=fs("cellover","cellout","cellclick");function z(L){var $=ot.d3_calcType(e,B,i,l,b.format(v),N),G=L.selectAll("g").data([e]);u&&ot.d3_filterCells($,u),G.enter().append("g").attr("class",s+"legendCells");var ue=L.select("."+s+"legendCells").selectAll("."+s+"cell").data($.data),ne=ue.enter().append("g").attr("class",s+"cell");ne.append(t).attr("class",s+"swatch");var U=L.selectAll("g."+s+"cell "+t+"."+s+"swatch");ot.d3_addEvents(ne,R),ue.exit().transition().style("opacity",0).remove(),U.exit().transition().style("opacity",0).remove(),U=U.merge(U),ot.d3_drawShapes(t,U,n,r,a,$.feature);var Z=ot.d3_addText(L,ne,$.labels,s,C);ue=ne.merge(ue);var K=Z.nodes().map(function(ae){return ae.getBBox()}),H=U.nodes().map(function(ae){return ae.getBBox()}),te=As(H,function(ae){return ae.height}),j=As(H,function(ae){return ae.width}),X=void 0,ee=void 0,J=M=="start"?0:M=="middle"?.5:1;D==="vertical"?function(){var ae=K.map(function(se,de){return Math.max(te,se.height)});X=function(de,re){var me=Cs(ae.slice(0,re));return"translate(0, "+(me+re*o)+" )"},ee=function(de,re){return"translate( "+(j+A)+`,
              `+(H[re].y+H[re].height/2+5)+")"}}():D==="horizontal"&&(X=function(se,de){return"translate( "+de*(j+o)+",0)"},ee=function(se,de){return"translate( "+(H[de].width*J+H[de].x)+`,
              `+(te+A)+")"}),ot.d3_placement(D,ue,X,Z,ee,M),ot.d3_title(L,h,s,F),ue.transition().style("opacity",1)}return z.scale=function(L){return arguments.length?(e=L,z):e},z.cells=function(L){return arguments.length?((L.length>1||L>=2)&&(i=L),z):i},z.cellFilter=function(L){return arguments.length?(u=L,z):u},z.shapePadding=function(L){return arguments.length?(o=+L,z):o},z.labels=function(L){return arguments.length?(l=L,z):l},z.labelAlign=function(L){return arguments.length?((L=="start"||L=="end"||L=="middle")&&(M=L),z):M},z.locale=function(L){return arguments.length?(b=wi(L),z):b},z.labelFormat=function(L){return arguments.length?(v=no(L),z):z.locale().format(v)},z.labelOffset=function(L){return arguments.length?(A=+L,z):A},z.labelDelimiter=function(L){return arguments.length?(N=L,z):N},z.labelWrap=function(L){return arguments.length?(C=L,z):C},z.orient=function(L){return arguments.length?(L=L.toLowerCase(),(L=="horizontal"||L=="vertical")&&(D=L),z):D},z.ascending=function(L){return arguments.length?(B=!!L,z):B},z.classPrefix=function(L){return arguments.length?(s=L,z):s},z.title=function(L){return arguments.length?(h=L,z):h},z.titleWidth=function(L){return arguments.length?(F=L,z):F},z.on=function(){var L=R.on.apply(R,arguments);return L===R?z:L},z}var F9=Re(Le());var N9=`<span id="up-arrow">&#9650;</span>
<span id="page-text"></span>
<span id="down-arrow">&#9660;</span>
`;function D9(e){let t=e.select("g.legendCells"),r=e.node().getBoundingClientRect();if(!Kr(r,t.node().getBoundingClientRect()))return;let n=e.select(".legend");t.selectAll(".label").text((a,o,i)=>{let u=i[o];if(Kr(r,u.getBoundingClientRect())){let l=lz(u,n,r);return`${a.substring(0,l-3)}...`}else return a})}function lz(e,t,r){let n=e.getBoundingClientRect(),a=t.node().createSVGPoint(),o=3;return a.x=r.right-n.left-o,a.y=0,e.getCharNumAtPosition(a)}var mo=10;function fa(e,t,r){let n=fe(gi(e).getContainer()).node().getBoundingClientRect(),a=e.getBoundingClientRect(),o={top:a.top+r-mo,right:a.right+t+mo,bottom:a.bottom+r+mo,left:a.left+t-mo},i={x:t,y:r};return[{edge:"right",dimension:"x"},{edge:"left",dimension:"x"},{edge:"top",dimension:"y"},{edge:"bottom",dimension:"y"}].forEach(l=>{if(Kr(n,o,l.edge)){let s=o[l.edge]-n[l.edge];i[l.dimension]=i[l.dimension]-s}}),i}var B0="resize.for-dragging";function E9(){let e=!0,t=null,r=n=>{let a=n.node(),o=a.getRootNode().host.closest("perspective-viewer");a.style.cursor="move",t.legend&&(a.style.left=t.legend.left,a.style.top=t.legend.top);let i=ui().on("drag",function(u){let l=fa(this,u.dx,u.dy);this.style.left=`${this.offsetLeft+l.x}px`,this.style.top=`${this.offsetTop+l.y}px`;let s={left:this.style.left,top:this.style.top};t.legend={...t.legend,...s},e=dz(a)?sz(a):cz(a,e)});i.on("end",function(u){fe(window).on(B0,null),o?.dispatchEvent(new Event("perspective-config-update"))}),n.call(i)};return r.settings=(...n)=>n.length?(t=n[0],r):t,r}function cz(e,t){return t!==!1&&fe(window).on(B0,function(){let r=fa(e,0,0);e.style.left=`${e.offsetLeft+r.x}px`,e.style.top=`${e.offsetTop+r.y}px`}),!1}function sz(e){return fe(window).on(B0,null),e.style.left="auto",!0}function dz(e){let t=e.getBoundingClientRect(),r=fe(jn(e)).node().getBoundingClientRect(),n=5;return t.right+mo+n>=r.right&&t.top-mo-n<=r.top}var I9="horizontal-drag-handle",P9="vertical-drag-handle",mz="corner-drag-handle",R9="dragHandles",z9=0,la="resize";function L9(){let e=9,t=3,r=null,n={height:100,width:100},a={height:null,width:null},o=[],i=(h,b)=>o.filter(v=>v.event===h).forEach(v=>v.execute(b)),u=h=>{if(pz(h))return;let b={left:re=>i(la,{horizontal:te(re),vertical:!1}),top:re=>i(la,{horizontal:!1,vertical:X(re)}),right:re=>i(la,{horizontal:j(re),vertical:!1}),bottom:re=>i(la,{horizontal:!1,vertical:ee(re)}),topleft:re=>i(la,{horizontal:te(re),vertical:X(re)}),topright:re=>i(la,{horizontal:j(re),vertical:X(re)}),bottomright:re=>i(la,{horizontal:j(re),vertical:ee(re)}),bottomleft:re=>i(la,{horizontal:te(re),vertical:ee(re)})},v=h.node();r.legend&&(v.style.height=r.legend.height,v.style.width=r.legend.width);let M=v.getBoundingClientRect(),A=h.append("svg").attr("id",R9).attr("width",M.width).attr("height",M.height),N=A.append("g"),C=re=>re==="left"||re==="right",D={left:0,top:e,right:M.width-e,bottom:e},B={left:e,top:0,right:e,bottom:M.height-e},F=["left","top","right","bottom"],[R,z,L,$]=F.map(re=>N.append("rect").attr("id",`drag${re}`).attr("class",C(re)?P9:I9).attr("y",B[re]).attr("x",D[re]).attr("height",C(re)?M.height-e*2:e).attr("width",C(re)?e:M.width-e*2).attr("fill",C(re)?"lightgreen":"lightblue").attr("fill-opacity",z9).style("z-index",t).attr("cursor",C(re)?"ew-resize":"ns-resize").call(ui().on("drag",b[re]))),G=re=>`${re[0]}${re[1]}`,ue={topleft:"nwse",topright:"nesw",bottomright:"nwse",bottomleft:"nesw"},ne=[["top","left"],["top","right"],["bottom","right"],["bottom","left"]],[U,Z,K,H]=ne.map(re=>N.append("rect").attr("id",`drag${G(re)}`).attr("class",`${mz} ${re[0]} ${re[1]}`).attr("height",e).attr("width",e).attr("fill","red").attr("fill-opacity",z9).style("z-index",t).attr("cursor",`${ue[G(re)]}-resize`).call(ui().on("drag",b[G(re)])));de("height","y",$),de("width","x",L),se(A);function te(re){let me=s(fa(R.node(),re.x,0).x,A,"width",(Me,Oe)=>Me-Oe);return v.style.left=`${v.offsetLeft+me}px`,v.style.width=`${v.offsetWidth-me}px`,J(),ae(L,me,"width","x")}function j(re){let me=-s(fa(L.node(),re.dx,0).x,A,"width",(Me,Oe)=>Me+Oe);return l(me,"x",L,re)?!1:(v.style.width=`${v.offsetWidth-me}px`,J(),ae(L,me,"width","x"))}function X(re){let me=s(fa(z.node(),0,re.y).y,A,"height",(Me,Oe)=>Me-Oe);return v.style.top=`${v.offsetTop+me}px`,v.style.height=`${v.offsetHeight-me}px`,J(),ae($,me,"height","y")}function ee(re){let me=-s(fa($.node(),0,re.dy).y,A,"height",(Me,Oe)=>Me+Oe);return l(me,"y",$,re)?!1:(v.style.height=`${v.offsetHeight-me}px`,J(),ae($,me,"height","y"))}function J(){let re={top:v.style.top,left:v.style.left,height:v.style.height,width:v.style.width};r.legend={...r.legend,...re}}function ae(re,me,Me,Oe){return vz(A,Me,me),gz(re,Oe,me),hz(A,me,Me,Me==="height"?P9:I9),se(A),me!=0}function se(re){U.attr("y",0,"x",0),Z.attr("y",0).attr("x",re.attr("width")-e),K.attr("y",re.attr("height")-e).attr("x",re.attr("width")-e),H.attr("y",re.attr("height")-e).attr("x",0)}function de(re,me,Me){!!a[re]&&a[re]<M[re]&&(v.style[re]=`${a[re]}px`,ae(Me,M[re]-a[re],re,me))}};u.on=(h,b)=>(o.push({event:h,execute:b}),u),u.zIndex=h=>(t=h,u),u.settings=(...h)=>h.length?(r=h[0],u):r,u.minWidth=h=>(n.width=h,a.width&&(a.width=Math.max(n.width,a.width)),u),u.minHeight=h=>(n.height=h,a.height&&(a.height=Math.max(n.height,a.height)),u),u.handleWidth=h=>(e=h,u),u.maxWidth=h=>(a.width=h,n.width=Math.min(n.width,a.width),u),u.maxHeight=h=>(a.height=h,n.height=Math.min(n.height,a.height),u);function l(h,b,v,M){let A=(C,D,B,F)=>C<0&&F[D]<Number(B.attr(D)),N=(C,D,B,F)=>C>0&&F[D]>Number(B.attr(D));return A(h,b,v,M)||N(h,b,v,M)}function s(h,b,v,M){let A=M(Number(b.attr(v)),h);if(A<n[v]){let N=n[v]-A;return M(h,N)}if(!!a[v]&&A>a[v]){let N=a[v]-A;return M(h,N)}return h}return u}var hz=(e,t,r,n)=>{e.selectAll(`.${n}`).each((o,i,u)=>{let l=u[i];fe(l).attr(r,l.getBoundingClientRect()[r]-t)})},pz=e=>e.select(`#${R9}`).size()>0,gz=(e,t,r)=>e.attr(t,Number(e.attr(t))-r),vz=(e,t,r)=>e.attr(t,e.node().getBoundingClientRect()[t]-r);var O9=16,B9=20,F0=(e,t)=>{let r=e||ks(),n=[],a=1,o,i=t.legend&&t.legend.pageIndex?t.legend.pageIndex:0,u=()=>{},l=E9().settings(t),s,h=R=>{n=r.scale().domain(),s=L9().settings(t).maxHeight(n.length*O9+B9).on("resize",()=>b(R)),s(R),l(R),b(R)},b=R=>{C(R),v(R),M(R),D9(R)},v=R=>{let z=B(R);z.style("display",a<=1?"none":"block"),z.select("#page-text").text(`${i+1}/${a}`),z.select("#up-arrow").attr("class",i===0?"disabled":"").on("click",()=>{i>0&&(A(i-1),b(R))}),z.select("#down-arrow").attr("class",i>=a-1?"disabled":"").on("click",()=>{i<a-1&&(A(i+1),b(R))})},M=R=>{a>1&&r.cellFilter(N()),R.select("g.legendCells").remove();let z=F(R);z.call(r);let L=R.select("g.legendCells").node().getBBox();z.attr("height",L.height+B9),u(R)},A=R=>{i=R,t.legend={...t.legend,pageIndex:i}},N=()=>(R,z)=>z>=o*i&&z<o*i+o,C=R=>{let z=R.node().getBoundingClientRect(),L=Math.floor(z.height/O9)-1;o=L<n.length?L-1:L,a=D(L),i=Math.min(i,a-1)},D=R=>Math.ceil(n.length/R),B=R=>ht(R,".legend-controls",()=>R.append("g").attr("class","legend-controls").html(N9)),F=R=>ht(R,".legend",()=>R.append("svg").attr("class","legend"));return h.decorate=(...R)=>R.length?(u=R[0],h):u,(0,F9.rebindAll)(h,r),h};var H9=e=>F0(ks().shape("circle").shapeRadius(6),e),xz=e=>F0(T9().shapePadding(1).labelOffset(3),e),Xt=()=>H0(H9),Ts=()=>H0(xz,q9),Y9=()=>H0(H9,q9);function q9(e){if(!e)return null;let t=e.domain(),r=e.range().map(n=>ec().type(n)());return fr().domain(t).range(r)}function H0(e,t){let r={},n=null,a=null;function o(i){if(n&&n.range().length>1){let u=e(r);u.scale(n).orient("vertical").on("cellclick",function(s){let h=this.__data__;r.hideKeys=r.hideKeys||[],r.hideKeys.includes(h)?r.hideKeys=r.hideKeys.filter(b=>b!==h):r.hideKeys.push(h),gi(this)._draw()}),u.labels(s=>{let h=s.domain[s.i].split("|");return r.mainValues.length<=1&&h.length>1?h.slice(0,h.length-1).join("|"):s.domain[s.i]});let l=ht(i,"div.legend-container",()=>i.append("div"));u.decorate(s=>{let h=v=>r.hideKeys&&r.hideKeys.includes(v),b=s.select("g.legendCells").attr("transform","translate(20,20)").selectAll("g.cell");b.classed("hidden",h),b.append("title").html(v=>v),a&&b.select("circle, path").style("fill",v=>h(v)?null:a(v)).style("stroke",v=>h(v)?null:Jr(a(v)))}),l.attr("class","legend-container").attr("borderbox-on-hover",!0).style("z-index","2").call(u)}}return o.settings=(...i)=>i.length?(r=i[0],o):r,o.scale=(...i)=>i.length?(n=t?t(i[0]):i[0],o):n,o.color=(...i)=>i.length?(a=i[0],o):a,o}function wr(e,t){let r=t||e.data;return e.hideKeys&&e.hideKeys.length>0?r.map(n=>{let a={...n};return e.hideKeys.forEach(o=>{delete a[o]}),a}):r}function Vi(e,t){let r=t||e.data;return e.hideKeys&&e.hideKeys.length>0?r.map(n=>{let a={};return Object.keys(n).map(o=>{e.hideKeys.includes(ea(o))||(a[o]=n[o])}),a}):r}var ca=Re(Le()),bz=e=>t=>t.style("stroke-width","1.0").style("stroke",e?e.colorStyles.grid.gridLineColor:"#bbb"),yz=e=>t=>{t.strokeStyle=e?e.colorStyles.grid.gridLineColor:"#bbb",t.lineWidth=1},wz=e=>e.style("display","none"),_z=e=>t=>{t.lineWidth=1,t.strokeStyle=e?e.colorStyles.grid.gridLineColor:"#bbb"},pt=(e,t)=>{let r="both",n=!1,a=null,o=null,i=null,u=ca.seriesSvgMulti(),l=ca.annotationSvgGridline(),s=bz(t),h=wz,b=function(...v){n&&(u=ca.seriesCanvasMulti().context(i),l=ca.annotationCanvasGridline(),s=yz(t),h=_z(t));let M=u.xScale(a).yScale(o),A=r==="vertical"?h:s,N=r==="horizontal"?h:s,C=l.xDecorate(A).yDecorate(N);return M.series([C,e])(...v)};return b.orient=(...v)=>v.length?(r=v[0],b):r,b.canvas=(...v)=>v.length?(n=v[0],b):n,b.xScale=(...v)=>v.length?(a=v[0],b):a,b.yScale=(...v)=>v.length?(o=v[0],b):o,b.context=(...v)=>v.length?(i=v[0],b):i,b};var W9=Re(Le()),zt=()=>{let e=qc(),t=r=>{let n=e.pad(),a=e.padUnit(),o=1;switch(a){case"domain":break;case"percent":{o=r[1]-r[0];break}default:throw new Error("Unknown padUnit: "+a)}let i=r[0]-n[0]*o,u=r[1]+n[1]*o;return r[0]=r[0]>=0&&i<0?0:i,r[1]=r[1]<=0&&u>0?0:u,r};return W9.rebindAll(t,e),t};var $9=`<button id="zoom-reset">Reset zoom</button>
<button id="one-year">1 Year</button>
<button id="six-months">6 Months</button>
<button id="one-month">1 Month</button>
`;var gt=()=>{let e=null,t=null,r=null,n=null,a=null,o=null,i=!1,u=!1,l=()=>{};function s(M){let A=`d3fc-${u?"canvas":"svg"}.plot-area`;if(r||a){let N=n&&n.domain()[0]instanceof Date,C=Lc().on("zoom",B=>{let{transform:F}=B;t.zoom={k:F.k,x:F.x,y:F.y},h(F),M.call(e);let R=F.k===1&&F.x===0&&F.y===0,z=b(M).style("display",R?"none":"");z.select("#zoom-reset").on("click",()=>M.select(A).call(C.transform,jr));let L=z.select("#one-year").style("display",N?"":"none"),$=z.select("#six-months").style("display",N?"":"none"),G=z.select("#one-month").style("display",N?"":"none");if(N){let ue=ne=>()=>{let U=new Date(r.domain()[0]),Z=new Date(U);ne(U,Z);let K=n.range(),H=(K[1]-K[0])/(n(Z)-n(U)),te=-n(U)*H,j=0;if(a){let X=a.domain().reduce((ee,J)=>ee+J)/2;j=-o(X)*H+a(X)}M.select(A).call(C.transform,jr.translate(te,j).scale(H))};L.on("click",ue((ne,U)=>U.setYear(ne.getFullYear()+1))),$.on("click",ue((ne,U)=>U.setMonth(ne.getMonth()+6))),G.on("click",ue((ne,U)=>U.setMonth(ne.getMonth()+1)))}}),D=e.decorate();e.decorate((B,F)=>{if(D(B,F),!i){i=!0;let R=B.select(A),z=u?window.devicePixelRatio:1;R.on("measure.zoom-range",L=>{if(n&&n.range([0,L.detail.width/z]),o&&o.range([0,L.detail.height/z]),t.zoom){let $=jr.translate(t.zoom.x,t.zoom.y).scale(t.zoom.k);R.call(C.transform,$)}}).call(C)}})}M.call(e)}s.chart=(...M)=>M.length?(e=M[0],s):e,s.settings=(...M)=>M.length?(t=M[0],s):t,s.xScale=(...M)=>M.length?(r=v(M[0]),n=r?r.copy():null,s):r,s.yScale=(...M)=>{if(!M.length)return a;if(a=v(M[0]),o=a?a.copy():null,o){let A=o.domain();o.domain([A[1],A[0]])}return s},s.canvas=(...M)=>M.length?(u=M[0],s):u,s.onChange=(...M)=>M.length?(l=M[0],s):l;let h=M=>{let A={...M};if(r&&(r.domain(M.rescaleX(n).domain()),A.xDomain=r.domain()),a){let N=M.rescaleY(o).domain();a.domain([N[1],N[0]]),A.yDomain=a.domain()}l(A)},b=M=>ht(M,".zoom-controls",()=>M.append("div").attr("class","zoom-controls").style("display","none").html($9)),v=M=>M&&M.nice?M:null;return s};function U9(e,t){let r=Zc(t,wr(t)),n=Zr(t),a=Xt().settings(t).scale(n),o=jc(t,n).orient("horizontal"),i=G9.seriesSvgMulti().mapping((b,v)=>b[v]).series(r.map(()=>o)),u=Ge(t).settingName("mainValues").valueName("mainValue").excludeType(We.ordinal).include([0]).paddingStrategy(zt())(r),l=Ge(t).excludeType(We.linear).settingName("crossValues").valueName("crossValue").orient("vertical")(r),s=br(u,l).plotArea(pt(i,t).orient("horizontal"));s.yPaddingInner&&(s.yPaddingInner(.5),s.yPaddingOuter(.25),o.align("left")),s.xNice&&s.xNice();let h=gt().chart(s).settings(t).yScale(l.scale);e.datum(r).call(h),e.call(a)}U9.plugin={name:"X Bar",category:"X Chart",max_cells:1e3,max_columns:50,render_warning:!0};var X9=U9;var rM=Re(Le());var Z9=(e,t)=>{if(!j9(e)||!j9(t))return;let r=Q9(e),n=Q9(t);r>n?t[0]=K9(t,r):e[0]=K9(e,n)},j9=e=>e.length===2&&!isNaN(e[0])&&!isNaN(e[1])&&e[0]!==e[1],Q9=e=>(0-e[0])/(e[1]-e[0]),K9=(e,t)=>t*e[1]/(t-1);var J9=Re(Le());var eM=e=>{let t=[],r=!1,n,a=i=>{i.text("");let u=J9.dataJoin("span","splitter-label").key(h=>h),l=!r&&t.length===1,s=n&&e.splitValues.length===0;u(i,t).classed("disabled",l).text(h=>h.name).style("color",h=>s?Jr(n(h.name)):void 0).on("click",(h,b)=>{l||(r?e.splitMainValues=e.splitMainValues.filter(v=>v!=b.name):e.splitMainValues=[b.name].concat(e.splitMainValues||[]),h.target.getRootNode().host.closest("perspective-viewer")?.dispatchEvent(new Event("perspective-config-update")),o(i))})},o=i=>{let u=gi(i.node());u._container.innerHTML="",u._draw()};return a.labels=(...i)=>i.length?(t=i[0],a):t,a.alt=(...i)=>i.length?(r=i[0],a):r,a.color=(...i)=>i.length?(n=i[0],a):n,a};var sa=(e,t,r=Mz)=>{let n,a,o,i=e.splitMainValues||[],u=h=>{let b=h.split("|");return i.includes(b[b.length-1])},l=e.mainValues.some(h=>u(h.name));a=l?r(t,h=>!u(h)):t,o=l?r(t,u):null;let s=h=>{if(e.mainValues.length===1)return;let b=e.mainValues.map((N,C)=>({index:C,name:N.name})),v=b.filter(N=>!u(N.name)),M=b.filter(N=>u(N.name)),A=()=>eM(e).color(n);h.select(".y-label.left-label").call(A().labels(v)),h.select(".y-label.right-label").call(A().labels(M).alt(!0))};return s.color=(...h)=>h.length?(n=h[0],s):n,s.haveSplit=()=>l,s.data=(...h)=>h.length?(a=h[0],s):a,s.altData=(...h)=>h.length?(o=h[0],s):o,s},Mz=(e,t)=>e.map(r=>r.filter(n=>t(n.key))),Y0=(e,t)=>e.map(r=>t(r.key)?r:r.map(n=>Object.assign({},n,{mainValue:null}))),tM=(e,t)=>e.map(r=>Y0(r,t));function nM(e,t){let r=Zc(t,wr(t)),n=Zr(t),a=Xt().settings(t).scale(n),o=jc(t,n).orient("vertical"),i=rM.seriesSvgMulti().mapping((N,C)=>N[C]).series(r.map(()=>o)),u=Ge(t).excludeType(We.linear).settingName("crossValues").valueName("crossValue")(r),l=Ge(t).settingName("mainValues").valueName("mainValue").excludeType(We.ordinal).orient("vertical").include([0]).paddingStrategy(zt()),s=t.mainValues.length>1?tM:Y0,h=sa(t,r,s).color(n),b=l(h.data()),v=h.haveSplit()?i:pt(i,t).orient("vertical"),M=br(u,b).axisSplitter(h).plotArea(v);M.xPaddingInner&&(M.xPaddingInner(.5),M.xPaddingOuter(.25),o.align("left")),M.yNice&&M.yNice();let A=gt().chart(M).settings(t).xScale(u.scale);if(h.haveSplit()){let N=l(h.altData());Z9(b.domain,N.domain),M.yDomain(b.domain).altAxis(N)}e.datum(h.data()).call(A),e.call(a)}nM.plugin={name:"Y Bar",category:"Y Chart",max_cells:1e3,max_columns:50,render_warning:!0};var aM=nM;var uM=Re(Le());var oM=Re(Le());function Ni(e,t){let r=oM.seriesSvgLine(),n=e.data.length*(e.data?.length>0?Object.keys(e.data[0]).length-(e.crossValues?.length>0?1:0):0),a=Math.max(1,Math.min(3,Math.floor(e.size.width/n/2)));return r=r.decorate(o=>{o.style("stroke",i=>Jr(t(i[0]&&i[0].key))).style("stroke-width",a)}),r.crossValue(o=>o.crossValue).mainValue(o=>o.mainValue)}function iM(e,t){let r=yr(e);return t.map((n,a)=>Object.keys(n).filter(o=>o!=="__ROW_PATH__").map(o=>({key:o,crossValue:r(n,a),mainValue:n[o],row:n})))}var Vs=function(e){let t=[];for(let r of e)for(let n=0;n<r.length;n++)r[n].mainValue!==null&&(t[n]=t[n]||[],t[n].push(r[n]));return t};var Ns=Re(Le());var q0=(e,t,r=Math.min)=>{let n=i=>i.reduce((u,l)=>{let s=a(l,t);return s&&(!u||r(u.value,s.value)===s.value)?s:u},null),a=i=>{if(Array.isArray(i))return n(i,t);let u=t(i);return u!==null?{item:i,value:u}:null},o=n(e,t);return o?o.item:null};var jt=()=>{let e=Jn().alwaysShow(!0),t=null,r=null,n=null,a=null,o=!1,i=null,u="crossValue",l="mainValue",s=null,h=1;function b(A){let N=`d3fc-${o?"canvas":"svg"}.plot-area`;if(t||r){let C=null,D=Ns.pointer().on("point",B=>{let F=B.length?M(B[0]):null;C=F?[F.data]:[];let R=F?F.scale:r;v(A,C,R)});A.select(N).on("measure.nearbyTip",()=>v(A,[])).on("click",()=>{C.length&&Ju(A.node(),C[0],e.settings())}).call(D)}}let v=(A,N,C=r)=>{let D=A.select("d3fc-svg.plot-area svg").selectAll("circle.nearbyTip").data(N);D.exit().remove(),D.enter().append("circle").attr("class","nearbyTip").merge(D).attr("r",B=>a?h*Math.sqrt(a(B.size)):10).attr("transform",B=>`translate(${t(B[u])},${C(B[l])})`).style("stroke","none").style("fill",B=>n&&B.key&&Ja(n(B.key))),e(D)},M=A=>{let N=B=>F=>F[l]===void 0||F[l]===null||F[u]===void 0||F[u]===null?null:Math.sqrt(Math.pow(t(F[u])-A.x,2)+Math.pow(B(F[l])-A.y,2)),C=N(r),D=q0(i,C,Math.min);if(s){let B=N(s.yScale),F=q0(s.data,B,Math.min);return C(D)<=B(F)?{data:D,scale:r}:{data:F,scale:s.yScale}}return{data:D,scale:r}};return b.scaleFactor=(...A)=>A.length?(h=A[0],b):h,b.xScale=(...A)=>A.length?(t=A[0],b):t,b.yScale=(...A)=>A.length?(r=A[0],b):r,b.color=(...A)=>A.length?(n=A[0],b):n,b.size=(...A)=>A.length?(a=A[0]?A[0].copy().range([40,4e3]):null,b):a,b.canvas=(...A)=>A.length?(o=A[0],b):o,b.data=(...A)=>A.length?(i=A[0],b):i,b.xValueName=(...A)=>A.length?(u=A[0],b):u,b.yValueName=(...A)=>A.length?(l=A[0],b):l,b.altDataWithScale=(...A)=>A.length?(s=A[0],b):s,Ns.rebindAll(b,e),b};function fM(e,t){let r=iM(t,wr(t)),n=Zr(t),a=Xt().settings(t).scale(n),o=uM.seriesSvgRepeat().series(Ni(t,n)).orient("horizontal"),i=zt().pad([.1,.1]).padUnit("percent"),u=Ge(t).excludeType(We.linear).settingName("crossValues").valueName("crossValue")(r),l=Ge(t).settingName("mainValues").valueName("mainValue").orient("vertical").paddingStrategy(i),s=sa(t,Vs(r)).color(n),h=l(s.data()),b=s.haveSplit()?o:pt(o,t).orient("vertical"),v=br(u,h).axisSplitter(s).plotArea(b);v.yNice&&v.yNice();let M=gt().chart(v).settings(t).xScale(u.scale),A=jt().settings(t).xScale(u.scale).yScale(h.scale).color(n).data(r);if(s.haveSplit()){let C=l(s.altData());v.altAxis(C),A.data(s.data()).altDataWithScale({yScale:C.scale,data:s.altData()})}let N=s.data();e.datum(N).call(M),e.call(A),e.call(a)}fM.plugin={name:"Y Line",category:"Y Chart",max_cells:4e3,max_columns:50,render_warning:!0};var lM=fM;var mM=Re(Le());var cM=Re(Le());var Az=[$a,Ko,Zo,ei,Jo,ti,ri];function Ds(e){return e.length>1?fr().domain(e).range(Az):null}var Cz=8,kz=1;function sM(e,t,r,n,a,o,i=1){let u=(0,cM.seriesCanvasPoint)().crossValue(l=>l.x).mainValue(l=>l.y);return r&&u.size(l=>Math.round(i*r(l.size))),o&&u.type(o(t)),u.decorate((l,s)=>{let h=n(s.colorValue!==void 0?s.colorValue:t),b=e.colorStyles&&e.colorStyles.opacity;if(a){l.fillStyle=e.textStyles.color,l.font=e.textStyles.font;let{type:v}=e.mainValues.find(C=>C.name===a),M=Zn(v,s.row[a]),A=0;r&&(A=Math.sqrt(i*r(s.size)/Math.PI)*kz);let N=A+Cz;l.fillText(M,N,4)}l.strokeStyle=Jr(h),l.fillStyle=Ja(h,b)}),u}function Es(e){let t=e.data&&e.data.length>0?e.data[0]:{},r=[];return Object.keys(t).forEach(n=>{if(n!=="__ROW_PATH__"){let a=ea(n);r.includes(a)||r.push(a)}}),Ds(r)}function dM(e,t){let r=e.mainValues.length;return t.map(n=>{let a=Object.keys(n).filter(i=>i!=="__ROW_PATH__"),o=new Array(a.length/r);for(let i=0;i<a.length/r;i++)o[i]={key:ea(a[i*r]),crossValue:n[a[i*r]],mainValue:n[a[i*r+1]],row:n};return o})}function hM(e,t){let r=Vs(dM(t,Vi(t))),n=Kc(t),a=Es(t),o=null;n.domain().length>2&&(o=Y9().settings(t).scale(a).color(n));let i=mM.seriesSvgRepeat().series(Ni(t,n)).orient("horizontal"),u=zt().pad([.1,.1]).padUnit("percent"),l=Ge(t).settingName("mainValues").settingValue(t.mainValues[0].name).valueName("crossValue").paddingStrategy(u),h=Ge(t).settingName("mainValues").settingValue(t.mainValues[1].name).valueName("mainValue").orient("vertical").paddingStrategy(u)(r),b=l(r),v=pt(i,t).orient("vertical"),M=br(b,h).xLabel(t.mainValues[0].name).yLabel(t.mainValues[1].name).plotArea(v);M.xNice&&M.xNice(),M.yNice&&M.yNice();let A=gt().chart(M).settings(t).xScale(b.scale).yScale(h.scale),N=jt().settings(t).xScale(b.scale).yScale(h.scale).color(n).data(r);e.datum(r).call(A),e.call(N),o&&e.call(o)}hM.plugin={name:"X/Y Line",category:"X/Y Chart",max_cells:5e4,max_columns:50,render_warning:!0,initial:{type:"number",count:2,names:["X Axis","Y Axis","Tooltip"]},selectMode:"toggle"};var pM=hM;var hf=Re(Le());var gM=Re(Le());function vM(e,t){let r=gM.seriesSvgArea();return r=r.decorate(n=>{n.style("fill",a=>t(a[0].key)).style("opacity",.5)}),r.crossValue(n=>n.crossValue).mainValue(n=>n.mainValue).baseValue(n=>n.baseValue)}function xM(e,t){let r=yr(e);return t.map((n,a)=>{let o={};return Object.keys(n).filter(i=>i!=="__ROW_PATH__").map(i=>{let u=i.split("|"),l=u[u.length-1],s=o[l]||0,h=s+n[i];return o[l]=h,{key:i,crossValue:r(n,a),mainValue:h,baseValue:s,row:n}})})}function bM(e,t){let r=xM(t,wr(t)),n=Zr(t),a=Xt().settings(t).scale(n),o=hf.seriesSvgRepeat().series(vM(t,n).orient("vertical")),i=hf.seriesSvgRepeat().series(Ni(t,n)).orient("vertical"),u=hf.seriesSvgMulti().series([o,i]),l=Ge(t).excludeType(We.linear).settingName("crossValues").valueName("crossValue")(r),s=Ge(t).settingName("mainValues").valueName("mainValue").excludeType(We.ordinal).orient("vertical").include([0]).paddingStrategy(zt()),h=sa(t,r).color(n),b=s(h.data()),v=h.haveSplit()?u:pt(u,t).orient("vertical"),M=br(l,b).axisSplitter(h).plotArea(v);M.yNice&&M.yNice();let A=gt().chart(M).settings(t).xScale(l.scale),N=jt().settings(t).xScale(l.scale).yScale(b.scale).color(n).data(r);if(h.haveSplit()){let C=s(h.altData());M.altAxis(C),N.data(h.data()).altDataWithScale({yScale:C.scale,data:h.altData()})}e.datum(h.data()).call(A),e.call(N),e.call(a)}bM.plugin={name:"Y Area",category:"Y Chart",max_cells:4e3,max_columns:50,render_warning:!0};var yM=bM;var MM=Re(Le());var wM=Re(Le());function _M(e,t,r,n){let a=wM.seriesSvgPoint().size(100),o=e.colorStyles&&e.colorStyles.opacity;return n&&a.type(n(t)),a.decorate(i=>{i.style("stroke",u=>Jr(r(u.colorValue||t))).style("fill",u=>Ja(r(u.colorValue||t),o))}),a.crossValue(i=>i.crossValue).mainValue(i=>i.mainValue)}function SM(e){let t=e.data&&e.data.length>0?e.data[0]:{},r=Object.keys(t).filter(n=>n!=="__ROW_PATH__");return Ds(r)}function AM(e,t){let r=IS(t,wr(t)),n=SM(t),a=Zr(t),o=Ts().settings(t).scale(n).color(a),i=MM.seriesSvgMulti().mapping((C,D)=>C[D]).series(r.map(C=>_M(t,C.key,a,n))),u=zt().pad([.05,.05]).padUnit("percent"),l=Ge(t).excludeType(We.linear).settingName("crossValues").valueName("crossValue")(r),s=Ge(t).settingName("mainValues").valueName("mainValue").orient("vertical").paddingStrategy(u),h=sa(t,r).color(a),b=s(h.data()),v=h.haveSplit()?i:pt(i,t).orient("vertical"),M=br(l,b).axisSplitter(h).plotArea(v);M.yNice&&M.yNice();let A=gt().chart(M).settings(t).xScale(l.scale),N=jt().settings(t).xScale(l.scale).yScale(b.scale).color(a).data(r);if(h.haveSplit()){let C=s(h.altData());M.altAxis(C),N.data(h.data()).altDataWithScale({yScale:C.scale,data:h.altData()})}e.datum(h.data()).call(A),e.call(N),o&&e.call(o)}AM.plugin={name:"Y Scatter",category:"Y Chart",max_cells:4e3,max_columns:50,render_warning:!0};var CM=AM;var NM=Re(Le());function kM(e,t){return to(e,t,{excludeEmpty:!0}).map(r=>Tz(e,r))}function Tz(e,t){let r=yr(e),n=t.map((a,o)=>({crossValue:r(a,o),mainValues:e.mainValues.map(i=>a[i.name]),x:a[e.mainValues[0].name],y:a[e.mainValues[1].name],colorValue:e.realValues[2]?a[e.realValues[2]]:void 0,size:e.realValues[3]?a[e.realValues[3]]:void 0,key:t.key,row:a}));return n.key=t.key,n}function TM(e,t,r,n){return Hr().domain(VM(t,r,n))}function da(e,t,r,n){let a=VM(t,r,n),o=e.colorStyles.gradient.full;if(a[0]>=0)o=e.colorStyles.gradient.positive;else if(a[1]<=0)o=e.colorStyles.gradient.negative;else{let u=Math.max(-a[0],a[1]);a=[-u,u]}let i=Vz(o);return Bo(i).domain(a)}var VM=(e,t,r)=>r||jg().valueName(t).pad([0,0])(e),Vz=e=>{let t=e.slice(1).map((r,n)=>tt(e[n][1],r[1]));return r=>{let n=e.findIndex((u,l)=>l<e.length-1&&r<=e[l+1][0]&&r>u[0]);if(n===-1)return r<=e[0][0]?e[0][1]:e[e.length-1][1];let a=t[n],[o]=e[n],[i]=e[n+1];return a((r-o)/(i-o))}};var ma=Re(Le());function ha(){let e=null;function t(r){let n=ht(r,"div.legend-container",()=>r.append("div").attr("class","legend-container legend-color").style("z-index","2")),{width:a,height:o}=n.node().getBoundingClientRect(),i=Ar().domain([0,1]).range([0,a]),u=e.copy().nice().domain(),l=ma.extentLinear().pad([.1,.1]).padUnit("percent")(u),[s,h]=l,b=Bc(s,h,(h-s)/o),v=Hr().domain(l).range([o,0]),M=ma.autoBandwidth(ma.seriesSvgBar()).xScale(i).yScale(v).crossValue(0).baseValue((R,z)=>b[Math.max(0,z-1)]).mainValue(R=>R).decorate(R=>{R.selectAll("path").style("fill",z=>e(z))}),A=u[0]<0&&u[1]>0?0:Math.round((u[1]+u[0])/2),N=[...u,A],C=ma.axisRight(v).tickValues(N).tickSizeOuter(0).tickFormat(R=>Wc(R)),D=ht(n,"svg",()=>n.append("svg")).style("width",a).style("height",o),B=ht(D,"g",()=>D.append("g")).datum(b).call(M),F=Math.abs(B.node().getBBox().x);ht(D,"#legend-axis",()=>D.append("g").attr("id","legend-axis")).attr("transform",`translate(${F})`).datum(b).call(C).select(".domain").attr("visibility","hidden")}return t.scale=(...r)=>r.length?(e=r[0],t):e,t}function Nz([e,t],[r,n]){let a=(n-t)/(r-e),o=n-a*r;return function(i){let u=i.node(),l=Math.min(u.clientWidth,u.clientHeight);return Math.min(n,Math.max(t,a*l+o))}}function DM(e,t){let r=kM(t,Vi(t)),n=Es(t),a=t.realValues.length<=2||t.realValues[2]===null,o=null,i=null;a?(o=Kc(t),i=Ts().settings(t).scale(n).color(a?o:null)):(o=da(t,r,"colorValue"),i=ha().scale(o));let u=t.realValues[3]?TM(t,r,"size").range([10,1e4]):null,l=t.realValues[4],s=Nz([600,.1],[1600,1])(e),h=NM.seriesCanvasMulti().mapping((D,B)=>D[B]).series(r.map(D=>sM(t,D.key,u,o,l,n,s))),b=()=>Ge(t).settingName("mainValues").paddingStrategy(zt()).pad([.1,.1]),v=b().settingValue(t.mainValues[0].name).valueName("x")(r),M=b().orient("vertical").settingValue(t.mainValues[1].name).valueName("y")(r),A=xi(v,M).xLabel(t.mainValues[0].name).yLabel(t.mainValues[1].name).plotArea(pt(h,t).canvas(!0));A.xNice&&A.xNice(),A.yNice&&A.yNice();let N=gt().chart(A).settings(t).xScale(v.scale).yScale(M.scale).canvas(!0),C=jt().scaleFactor(s).settings(t).canvas(!0).xScale(v.scale).xValueName("x").yValueName("y").yScale(M.scale).color(a&&o).size(u).data(r);e.datum(r).call(N),e.call(C),i&&e.call(i)}DM.plugin={name:"X/Y Scatter",category:"X/Y Chart",max_cells:5e4,max_columns:50,render_warning:!0,initial:{type:"number",count:2,names:["X Axis","Y Axis","Color","Size","Label","Tooltip"]},selectMode:"toggle"};var EM=DM;var Is=Re(Le());function IM(e,t){let r=Is.seriesCanvasHeatmap();return r.decorate((n,a)=>{n.fillStyle=t(a.colorValue)}),Is.autoBandwidth(r).xValue(n=>n.crossValue).yValue(n=>n.mainValue).colorValue(n=>n.colorValue).colorInterpolate(t.interpolator()).widthFraction(1)}function PM(e,t){let r=yr(e),n=mi(e).excludeType(We.linear).settingName("splitValues")(),a=[];return t.forEach((o,i)=>{let u=r(o,i);Object.keys(o).filter(l=>l!=="__ROW_PATH__").forEach(l=>{let s=Dz(l);a.push({crossValue:u,mainValue:n===We.time?new Date(s):s,colorValue:o[l],row:o})})}),a}function Dz(e){let t=e.split("|");return t.pop(),t.join("|")}function zM(e,t){let r=PM(t,wr(t)),n=da(t,r,"colorValue"),a=IM(t,n),o=ha().scale(n),i=Ge(t).excludeType(We.linear).settingName("crossValues").valueName("crossValue")(r),u=Ge(t).excludeType(We.linear).settingName("splitValues").valueName("mainValue").orient("vertical")(r),l=xi(i,u).plotArea(pt(a,t).canvas(!0));l.xPaddingInner&&(l.xPaddingInner(0),l.xPaddingOuter(0),a.xAlign("right")),l.yPaddingInner&&(l.yPaddingInner(0),l.yPaddingOuter(0),a.yAlign("top"));let s=gt().chart(l).settings(t).xScale(i.scale).yScale(u.scale).canvas(!0),h=jt().settings(t).canvas(!0).xScale(i.scale).yScale(u.scale).color(n).data(r);e.datum(r).call(s),e.call(o),e.call(h)}zM.plugin={name:"Heatmap",category:"Hierarchial Chart",max_cells:5e4,max_columns:500,render_warning:!0};var RM=zM;var BM=Re(Le());var Ps=Re(Le());function LM(e,t){return to(e,t,{excludeEmpty:!0}).map(r=>Ez(e,r))}function Ez(e,t){let r=yr(e),n=o=>t[o<t.length-1?o+1:o][e.mainValues[0].name],a=t.map((o,i)=>{let u=e.mainValues.length>=1?o[e.mainValues[0].name]:void 0,l=e.mainValues.length>=2?o[e.mainValues[1].name]:n(i);return{crossValue:r(o,i),mainValues:e.mainValues.map(s=>o[s.name]),openValue:u,closeValue:l,highValue:e.mainValues.length>=3?o[e.mainValues[2].name]:Math.max(u,l),lowValue:e.mainValues.length>=4?o[e.mainValues[3].name]:Math.min(u,l),key:t.key,row:o}});return a.key=t.key,a}var Di=Re(Le());var Iz=e=>e.closeValue>=e.openValue;function OM(e,t,r){let n=r.domain(),a=ta().domain(n).settings(e).defaultColors([e.colorStyles["series-2"]]).mapFunction(eo(.5))(),o=ta().settings(e).domain(n)(),i=t().crossValue(s=>s.crossValue).openValue(s=>s.openValue).highValue(s=>s.highValue).lowValue(s=>s.lowValue).closeValue(s=>s.closeValue).decorate((s,h)=>{let b=Iz(h)?r(h.key):a(h.key);s.fillStyle=b,s.strokeStyle=b}),u=Di.seriesCanvasLine().mainValue(s=>s.bollinger.average).crossValue(s=>s.crossValue).decorate((s,h)=>{s.strokeStyle=o(h[0].key)}),l=Di.seriesCanvasArea().mainValue(s=>s.bollinger.upper).baseValue(s=>s.bollinger.lower).crossValue(s=>s.crossValue).decorate((s,h)=>{s.fillStyle=eo(.25)(o(h[0].key))});return Di.seriesCanvasMulti().series([l,i,u])}function Pz(e){return function(t,r){let n=LM(r,Vi(r)),a=Ps.indicatorBollingerBands().value(D=>D.openValue),o=n.map(D=>{let B=a(D);return D.map((F,R)=>Object.assign({bollinger:B[R]},F))}),i=n.map(D=>D.key).concat(r.hideKeys?r.hideKeys:[]).sort(),u=ta().domain(i).settings(r).mapFunction(eo(1))(),l=Xt().settings(r).scale(i.length>1?u:null),s=OM(r,e,u),h=Ps.seriesCanvasMulti().mapping((D,B)=>D[B]).series(o.map(()=>s)),b=zt().pad([.1,.1]).padUnit("percent"),v=Ge(r).settingName("crossValues").valueName("crossValue")(o),M=Ge(r).settingName("mainValues").valueNames(["lowValue","highValue"]).orient("vertical").paddingStrategy(b)(o),A=xi(v,M).plotArea(pt(h,r).orient("vertical").canvas(!0));A.yNice&&A.yNice();let N=gt().chart(A).settings(r).xScale(v.scale).onChange(D=>{let B=o.map(F=>F.filter(R=>R.crossValue>=D.xDomain[0]&&R.crossValue<=D.xDomain[1]));A.yDomain(M.domainFunction(B))}).canvas(!0),C=jt().settings(r).xScale(v.scale).yScale(M.scale).yValueName("closeValue").color(u).data(o).canvas(!0);t.datum(o).call(N),t.call(C),t.call(l)}}var zs=Pz;var FM=zs(BM.seriesCanvasOhlc);FM.plugin={name:"OHLC",category:"Y Chart",max_cells:3500,max_columns:50,render_warning:!0,initial:{type:"number",count:4,names:["Open","Close","High","Low"]},selectMode:"toggle"};var HM=FM;var YM=Re(Le());var qM=zs(YM.seriesCanvasCandlestick);qM.plugin={name:"Candlestick",category:"Y Chart",max_cells:4e3,max_columns:50,render_warning:!0,initial:{type:"number",count:4,names:["Open","Close","High","Low"]},selectMode:"toggle"};var WM=qM;function $M(e,t){if(e.realValues.length>1&&e.realValues[1]!==null){let r=e.realValues[1];if(e.mainValues.find(n=>n.name===r)?.type==="string"){let n=t.map(a=>a.data).filter(a=>a.height>0).map(a=>GM(a)).reduce((a,o)=>a.concat(o));return Qc(e,n)}else return da(e,null,null,hS(t.map(n=>n.extents)))}}function GM(e,t=[]){return e.children&&e.children.length>0?e.children.forEach(r=>t.concat(GM(r,t))):e.data.color&&t.push(e.data.color),t}function Rs(e){let t={},r=e.realValues.map(a=>a===null?null:e.mainValues.find(o=>o.name===a));return e.data.forEach((a,o)=>{let i=a.__ROW_PATH__;Rz(a).forEach(l=>{let s;t[l]||(t[l]=[]),s=t[l],i.forEach((h,b)=>{let v=s.find(M=>M.name===h);if(v||(v={name:h,children:[]},s.push(v)),e.realValues.length>1&&e.realValues[1]!==null){let M=b===i.length-1,A=pf(M?a:e.agg_paths[o][b+1]||a,e.mainValues[1],l);A!==void 0&&(v.color=A)}if(e.realValues.length>2&&e.realValues[2]!==null){v.tooltip=[];for(let M=2;M<e.realValues.length;++M)v.tooltip.push(pf(a,r[M],l))}if(b===i.length-1&&(v.name=i.slice(-1)[0],i.length===e.crossValues.length)){let M=pf(a,e.mainValues[0],l);v.size=M>0?M:0}s=v.children})})}),Object.entries(t).map(a=>{let o={name:"root",children:a[1]},i=Un(o).sum(l=>l.size),u=qg().size([2*Math.PI,i.height+1])(i);return u.each(l=>{l.current=l,l.mainValues=e.realValues.length===1||e.realValues[1]===null&&e.realValues[2]===null?l.value:[l.value,l.data.color].concat(l.data.tooltip||[]).filter(s=>s!==void 0),l.crossValue=l.ancestors().slice(0,-1).reverse().map(s=>s.data.name),l.key=a[0],l.label=Zn(e.crossValues[l.depth-1<0?0:l.depth-1].type,l.data.name)}),{split:a[0],data:u,extents:zz(e,a)}})}var pf=(e,t,r)=>r.length?e[`${r}|${t.name}`]:e[t.name];function zz(e,[t,r]){if(e.realValues.length>1&&e.realValues[1]!==null){let n=Math.min(...e.data.map(o=>pf(o,e.mainValues[1],t))),a=Math.max(...r.map(o=>o.color));return[n,a]}}function Rz(e){let t=[];return Object.keys(e).forEach(r=>{if(r!=="__ROW_PATH__"){let n=r.split("|").slice(0,-1).join("|");t.includes(n)||t.push(n)}}),t}var Ls=e=>jl().startAngle(t=>t.x0).endAngle(t=>t.x1).padAngle(t=>Math.min((t.x1-t.x0)/2,.005)).padRadius(e).innerRadius(t=>Math.max(1,(t.y0-1)*e)).outerRadius(t=>Math.max((t.y0-1)*e,(t.y1-1)*e-1)),Mn=e=>e.y0>=1&&e.x1>e.x0;var gf=e=>e.y1<=3&&e.y0>=1&&(e.y1-e.y0)*(e.x1-e.x0)>.06;function Os(e,t){let r=(e.x0+e.x1)/2*180/Math.PI,n=(e.y0-1+(e.y1-1))/2*t;return`rotate(${r-90}) translate(${n},0) rotate(${r<180?0:180})`}function UM(e,t){let r=this.getBBox().width;if(r>t){let n=e.label,a=fe(this);for(;r>t;)n=n.substring(0,n.length-1),a.text(()=>n),r=this.getBBox().width;a.text(()=>`${n.substring(0,n.length-3).replace(/\s+$/,"")}...`)}}var XM=(e,t,r,n,a,o,i,u,l)=>(s,h)=>{l.sunburstLevel[u]=s.data.name,s.parent?(r.datum(s.parent),r.style("cursor","pointer"),n.html(`&#8682; ${s.label}`)):(r.datum(e),r.style("cursor","default"),n.html("")),e.each(v=>v.target={x0:Math.max(0,Math.min(1,(v.x0-s.x0)/(s.x1-s.x0)))*2*Math.PI,x1:Math.max(0,Math.min(1,(v.x1-s.x0)/(s.x1-s.x0)))*2*Math.PI,y0:Math.max(0,v.y0-s.depth),y1:Math.max(0,v.y1-s.depth)});let b=t.transition().duration(h?0:750);a.transition(b).tween("data",v=>{let M=tt(v.current,v.target);return A=>v.current=M(A)}).filter(function(v){return+this.getAttribute("fill-opacity")||Mn(v.target)}).attr("fill-opacity",v=>Mn(v.target)?1:0).attr("user-select",v=>Mn(v.target)?"initial":"none").style("pointer-events",v=>Mn(v.target)?"initial":"none").attrTween("d",v=>()=>Ls(i)(v.current)),o.filter(function(v){return+this.getAttribute("fill-opacity")||gf(v.target)}).transition(b).attr("fill-opacity",v=>+gf(v.target)).attrTween("transform",v=>()=>Os(v.current,i))};function jM(){let e=null,t=null,r=null,n=null,a=null,o=i=>{let u=i.selectAll("g.segment").data(r.descendants().slice(1)),l=u.enter().append("g").attr("class","segment");l.append("path"),l.append("text").attr("class","segment").attr("dy","0.35em");let s=l.merge(u),h=s.select("path").attr("fill-opacity",N=>Mn(N.current)?1:0).attr("user-select",N=>Mn(N.current)?"initial":"none").style("pointer-events",N=>Mn(N.current)?"initial":"none").attr("d",N=>Ls(a)(N.current));n&&h.style("fill",N=>n(N.data.color));let b=s.select("text").attr("fill-opacity",N=>+gf(N.current)).attr("transform",N=>Os(N.current,a)).text(N=>N.label).each(function(N){UM.call(this,N,a)}),v=i.select("text.parent"),M=i.select("circle").attr("r",a).datum(r),A=XM(r,i,M,v,h,b,a,t,e);if(e.sunburstLevel){let N=r.descendants().find(C=>C.data.name===e.sunburstLevel[t]);N&&A(N,!0)}else e.sunburstLevel={};M.on("click",N=>A(N,!1)),h.filter(N=>N.children).style("cursor","pointer").on("click",N=>A(N,!1))};return o.settings=(...i)=>i.length?(e=i[0],o):e,o.split=(...i)=>i.length?(t=i[0],o):t,o.data=(...i)=>i.length?(r=i[0],o):r,o.color=(...i)=>i.length?(n=i[0],o):n,o.radius=(...i)=>i.length?(a=i[0],o):a,o}function Bs(){let e="element-prefix-unset",t=null,r=null,n=null,a=null,o=null,i=null,u=l=>{let s=ht(l,"div.inner-container",()=>l.append("div").attr("class","inner-container")),h=s.node().getBoundingClientRect(),b=h.height,v=h.width-(o?70:0),M=300,A=l.datum(),N=Math.max(1,Math.min(A.length,Math.floor(v/M))),C=Math.ceil(A.length/N);i={width:v/Math.max(N,1),height:Math.min(b,Math.max(b/C,v/Math.max(N,1)))},b/C>i.height*.75&&(i.height=b/C),A.length>1?(s.style("grid-template-columns",`repeat(${N}, ${100/N}%)`),s.style("grid-template-rows",`repeat(${C}, ${i.height}px)`)):(s.style("grid-template-columns","repeat(1, 100%)"),s.style("grid-template-rows","repeat(1, 100%)")),n=s.selectAll(`div.${e}-container`).data(A,D=>D.split),n.exit().remove(),r=n.enter().append("div").attr("class",`${e}-container`),a=r.append("div").attr("class","title-container").style("text-align","center").attr("display","inline-block").append("text").attr("class","title").style("text-align","left"),t=r.append("svg").append("g").attr("class",e)};return u.elementsPrefix=(...l)=>l.length?(e=l[0],u):e,u.chartContainer=()=>t,u.chartEnter=()=>r,u.chartDiv=()=>n,u.chartTitle=()=>a,u.containerSize=()=>i,u}function QM(e,t){if(t.crossValues.length===0){console.warn("Unable to render a chart in the absence of any groups.");return}let r=Rs(t),n=$M(t,r),a=Bs().elementsPrefix("sunburst");if(e.datum(r).call(a),n){let h=t.realValues[1];if(t.mainValues.find(b=>b.name===h)?.type==="string"){let b=Xt().settings(t).scale(n);e.call(b)}else{let b=ha().scale(n);e.call(b)}}let o=a.chartContainer(),i=a.chartEnter(),u=a.chartDiv(),l=a.chartTitle(),s=a.containerSize();l.each((h,b,v)=>fe(v[b]).text(h.split)),o.append("circle").attr("fill","none").style("pointer-events","all"),o.append("text").attr("class","parent"),i.merge(u).select("svg").select("g.sunburst").attr("transform",`translate(${s.width/2}, ${s.height/2})`).each(function({split:h,data:b}){let v=fe(this),M=this.parentNode,{width:A,height:N}=M.getBoundingClientRect(),C=(Math.min(A,N)-24)/(t.crossValues.length*2);jM().settings(t).split(h).data(b).color(n).radius(C)(v),Jn().settings(t)(v.selectAll("g.segment"))})}QM.plugin={name:"Sunburst",category:"Hierarchial Chart",max_cells:7500,max_columns:50,render_warning:!0,initial:{type:"number",count:1,names:["Size","Color","Tooltip"]}};var KM=QM;function ZM(e,t){if(e.realValues.length<1||e.realValues[1]===null||e.realValues[1]===void 0)return;let r=e.realValues[1],n=t.filter(a=>a.height>0).map(a=>JM(a)).reduce((a,o)=>a.concat(o));if(e.mainValues.find(a=>a.name===r)?.type==="string")return Qc(e,n);{let a=Math.min(...n),o=Math.max(...n);return da(e,null,null,[a,o])}}function JM(e,t=[]){return e.children&&e.children.length>0?e.children.forEach(r=>t.concat(JM(r,t))):e.data.color&&t.push(e.data.color),t}var eA=7,Fs=e=>!!(e.target&&e.target.textAttributes),Hs=(e,t,r)=>{e.selectAll("text").each(function(a,o){let i=Fz(a,t,r);this.style=i});let n=xf(e);Lz(n),W0(n)},tA=e=>{e.each((t,r,n)=>{fe(n[r]).selectAll("text").attr("dx",t.target.textAttributes.dx).attr("dy",t.target.textAttributes.dy).attr("style",t.target.textAttributes.style)})},W0=e=>{let n=o=>o.getBoundingClientRect(),a=[];e.selectAll("text").filter((o,i,u)=>fe(u[i]).attr("style")===ho.high).each((o,i,u)=>a.push(u[i])),e.selectAll("text").filter((o,i,u)=>fe(u[i]).attr("style")===ho.low).each((o,i,u)=>{let l=u[i];a.filter(s=>r0("x",n(s),n(l))&&r0("y",n(s),n(l),-2)).forEach(()=>fe(l).attr("dy",Number(fe(l).attr("dy"))+14))})},rA=e=>fe(e).style("opacity",vf[fe(e).attr("class")]),nA=e=>fe(e).style("opacity",null),vf={top:1,mid:.7,lower:0},xf=e=>e.filter((t,r,n)=>fe(n[r]).selectAll("text").attr("style")!==ho.zero),Ys=e=>e.selectAll("text").each((t,r,n)=>Oz(n[r])),Lz=e=>e.selectAll("text").each((t,r,n)=>aA(n[r])),aA=e=>{let t=fe(e),r=e.getBoundingClientRect();t.attr("dx",0-r.width/2).attr("dy",0+r.height/4)},Oz=e=>{let r=e.parentNode.childNodes[0],n=e.getBBox(),a=r.getBBox();Bz(e,a,n)||fe(e).attr("style",fe(e).attr("style"))},Bz=(e,t,r)=>{let n=Math.min(t.height/r.height,t.width/r.width);if(n<1){let a=parseInt(fe(e).style("font-size")),o=Math.floor(a*n);return a>eA&&o>eA?(fe(e).style("font-size",`${o}px`),aA(e)):(fe(e).style("font-size",null),fe(e).style("opacity","0")),!0}return!1},Fz=(e,t,r)=>{if(!r.filter(n=>n!=="").every(n=>e.crossValue.includes(n)))return ho.zero;switch(e.depth){case t+1:return ho.high;case t+2:return ho.low;default:return ho.zero}},ho={high:"font-size:14px;z-index:5;pointer-events: none;",low:"font-size:8px;opacity:0.7;z-index:4;",zero:"font-size:0px;opacity:0;z-index:4;"};var qs=(e,t)=>{let r=Wg().size([e,t]).paddingInner(n=>1+2*(n.height-1));return r.tile($g),r};var Hz=(e,t)=>t.every(r=>e.crossValue.includes(r));function $0(e,t,r,n,a,o){Yz(e,t,r,n,a),e.mapLevel[n].levelRoot=!0,qz(e,o.node().getBoundingClientRect().width,o.node().getBoundingClientRect().height,n),iA(r,n)}function oA(e,t){e.each(r=>{r.mapLevel=[],r.mapLevel[0]={x0:r.x0,x1:po(r)+r.x0,y0:r.y0,y1:go(r)+r.y0,visible:!0,opacity:1}}),t.mapLevel[0].levelRoot=!0,iA(e,0)}var Ws=(e,t)=>{e.each((r,n,a)=>{let o=fe(a[n]).selectAll("text");r.mapLevel[t].textAttributes={dx:o.attr("dx"),dy:o.attr("dy"),class:o.attr("class"),"font-size":o.style("font-size")}})};function Yz(e,t,r,n,a){let o={x:e.x0,y:e.y0,width:e.x1-e.x0,height:e.y1-e.y0},i={width:a.x1-a.x0,height:a.y1-a.y0},u={width:i.width/o.width,height:i.height/o.height};r.each(l=>{let s=(l.x0-o.x)*u.width,h=(l.y0-o.y)*u.height,b=po(l)*u.width,v=go(l)*u.height,M=Hz(l,t)&&l.data.name!==t[n-1];l.mapLevel[n]={x0:s,x1:b+s,y0:h,y1:v+h,visible:M,opacity:M?1:0}}),e.mapLevel[n].levelRoot=!0}function qz(e,t,r,n){let i=qs(t,r)(Un(e.data).sum(l=>l.size)).descendants(),u=e.descendants();i.forEach((l,s)=>{u[s].mapLevel[n].x0=i[s].x0,u[s].mapLevel[n].x1=i[s].x1,u[s].mapLevel[n].y0=i[s].y0,u[s].mapLevel[n].y1=i[s].y1})}function iA(e,t){e.selectAll("text").each((r,n,a)=>{let o=fe(a[n]),i=fe(a[n]).datum(),u=o.attr("class");i.mapLevel[t].textLockedAt={opacity:vf[u]}})}function uA(e,t,r,n,a,o,i,u,l){if(n.treemapLevel>0){let s=i.crossValue;U0(i,e,t,r,n,a,o,i,0,s,u,l,1,!1),n.treemapRoute.slice(1,n.treemapRoute.length).forEach(h=>{let b=t.filter(M=>M.crossValue===h).datum(),v=b.crossValue;$0(b,v,t,b.depth,i,a),U0(b,e,t,r,n,a,o,i,b.depth,v,u,l,1,!1)})}}function X0(e,t,r,n,a,o,i,u,l,s){if(!e.children)return;a.treemapLevel<e.depth?a.treemapRoute.push(e.crossValue):a.treemapRoute.pop(),a.treemapLevel=e.depth;let h=e.crossValue;(!e.mapLevel[a.treemapLevel]||!e.mapLevel[a.treemapLevel].levelRoot)&&$0(e,h,r,a.treemapLevel,u,o),U0(e,t,r,n,a,o,i,u,a.treemapLevel,h,l,s)}function U0(e,t,r,n,a,o,i,u,l,s,h,b,v=500,M=!0){let A=e.parent,N=i.transition("main transition").duration(v).ease(Tc);r.each(D=>D.target=D.mapLevel[l]),Fs(e)||Uz(r,h),r.transition(N).tween("data",D=>{let B=tt(D.current,D.target);return F=>D.current=B(F)}).styleTween("opacity",D=>()=>D.current.opacity).attrTween("pointer-events",D=>()=>D.target.visible?"all":"none"),t.transition(N).filter(D=>D.target.visible).styleTween("x",D=>()=>`${D.current.x0}px`).styleTween("y",D=>()=>`${D.current.y0}px`).styleTween("width",D=>()=>`${D.current.x1-D.current.x0}px`).styleTween("height",D=>()=>`${D.current.y1-D.current.y0}px`),n.transition(N).filter(D=>D.target.visible).attrTween("x",D=>()=>D.current.x0+po(D.current)/2).attrTween("y",D=>()=>D.current.y0+go(D.current)/2).end().catch(()=>G0(r)).then(()=>{Fs(e)||(W0(C),Ys(C),Wz(n,i,v),M&&Ws(r,l),G0(r,h,A))}).catch(D=>{console.error("Exception completing promises after main transition",D),G0(r,h,A)}),Fs(e)?tA(r):(n.each((D,B,F)=>rA(F[B])),Hs(r,l,s));let C=xf(r);A?h.hide(!1).text(e.label).onClick(()=>{X0(A,t,r,n,a,o,i,u,h,b);let D=o.node().getRootNode().host.parentElement;Ju(D,A,b)})():h.hide(!0)()}async function Wz(e,t,r=400){let n=t.transition("text fade transition").duration(r).ease(Tc);await e.transition(n).filter(a=>a.target.visible).tween("data",(a,o,i)=>{let u=i[o],l=tt($z(a),Gz(u));return s=>a.current.opacity=l(s)}).styleTween("opacity",a=>()=>a.current.opacity).end().catch(a=>console.error("Exception in text fade transition",a)).then(()=>e.each((a,o,i)=>nA(i[o])))}var $z=e=>e.target.textLockedAt.opacity,Gz=e=>vf[fe(e).attr("class")],Uz=(e,t)=>{t.deactivate(!0),e.each((r,n,a)=>{fe(a[n]).selectAll("rect").style("pointer-events","none")})},G0=(e,t)=>{t&&t.deactivate(!1),e.each((r,n,a)=>{fe(a[n]).selectAll("rect").style("pointer-events",null)})};var fA=`<button id="goto-parent">Goto parent</button>
`;function lA(e){let t=null,r=null,n=!0,a=!1,o=ht(e,".parent-controls",()=>e.append("div").attr("class","parent-controls").style("display",n?"none":"").html(fA)),i=()=>{o.style("display",n?"none":"").select("#goto-parent").style("pointer-events",a?"none":null).html(`\u21EA ${r}`).on("click",()=>t())};return i.deactivate=(...u)=>{if(!u.length)return a;a=u[0];let l=o.select("#goto-parent");return a?l.style("pointer-events","none"):l.style("pointer-events",null),i},i.hide=(...u)=>u.length?(n=u[0],i):n,i.text=(...u)=>u.length?(r=u[0],i):r,i.onClick=(...u)=>u.length?(t=u[0],i):t,i}var $s={leaf:"leafnode",branch:"branchnode",root:"rootnode"},po=e=>e.x1-e.x0,go=e=>e.y1-e.y0,jz=(e,t)=>t.depth===e,cA=(e,t)=>t.depth===0?$s.root:jz(e,t)?$s.leaf:$s.branch;function sA(){let e=null,t=null,r=null,n=null,a=null,o=null,i=u=>{o=lA(a),o();let l=r.height;e.treemapLevel||(e.treemapLevel=0),e.treemapRoute||(e.treemapRoute=[]),qs(a.node().getBoundingClientRect().width,a.node().getBoundingClientRect().height)(r);let h=u.selectAll("g").data(r.descendants()),b=h.enter().append("g");b.append("rect"),b.append("text");let v=b.merge(h).sort((C,D)=>D.depth-C.depth),M=v.select("rect").attr("class",C=>`treerect ${cA(l,C)}`).style("x",C=>C.x0).style("y",C=>C.y0).style("width",C=>po(C)).style("height",C=>go(C));M.style("fill",C=>cA(l,C)===$s.leaf?C.data.color?n(C.data.color):t.colorStyles.series:"transparent");let A=v.filter(C=>C.value!==0).select("text").attr("x",C=>C.x0+po(C)/2).attr("y",C=>C.y0+go(C)/2).text(C=>C.label),N=M.filter(C=>C.crossValue.length===0).datum();oA(v,N),Hs(v,0,[]),Ys(xf(v)),Ws(v,0),e.treemapRoute.length===0&&e.treemapRoute.push(N.crossValue),M.filter(C=>C.children).on("click",(C,D)=>X0(D,M,v,A,e,a,u,N,o,t)),uA(M,v,A,e,a,u,N,o,t)};return i.settings=(...u)=>u.length?(e=u[0],t=u[1],i):e,i.data=(...u)=>u.length?(r=u[0],i):r,i.color=(...u)=>u.length?(n=u[0],i):n,i.container=(...u)=>u.length?(a=u[0],i):a,i}function dA(e,t){if(t.crossValues.length===0){console.warn("Unable to render a chart in the absence of any groups.");return}t.treemaps||(t.treemaps={});let r=Rs(t),n=ZM(t,r.map(l=>l.data));n&&this._container.classList.add("has-legend");let a=Bs().elementsPrefix("treemap");if(e.datum(r).call(a),n){let l=t.realValues[1];if(t.mainValues.find(s=>s.name===l)?.type==="string"){let s=Xt().settings(t).scale(n);e.call(s)}else{let s=ha().scale(n);e.call(s)}}let o=a.chartEnter(),i=a.chartDiv();a.chartTitle().each((l,s,h)=>fe(h[s]).text(l.split)),o.merge(i).select("svg").select("g.treemap").each(function({split:l,data:s}){let h=fe(this);t.treemaps[l]||(t.treemaps[l]={}),sA().settings(t.treemaps[l],t).data(s).container(fe(fe(this.parentNode).node().parentNode)).color(n)(h),Jn().settings(t).centered(!0)(h.selectAll("g"))})}dA.plugin={type:"Treemap",name:"Treemap",category:"Hierarchial Chart",max_cells:5e3,max_columns:50,render_warning:!0,initial:{type:"number",count:1,names:["Size","Color","Tooltip"]}};var mA=dA;var Qz=[X9,aM,lM,pM,yM,CM,EM,HM,WM,mA,KM,RM],j0=Qz;var pA=Re(hA()),gA=(e,t)=>{if(!t.colorStyles){let r={scheme:[],gradient:{},interpolator:{},grid:{}},n=Jz(e);r.series=n("--d3fc-local-series");for(let o=1;;o++){let i=`series-${o}`,u=n(`--d3fc-local-${i}`);if(!u)break;r[i]=u,r.scheme.push(u)}r.opacity=Kz(r.series),r.grid.gridLineColor=n`--d3fc-gridline--color`,["full","positive","negative"].forEach(o=>{let i=n(`--d3fc-local-${o}--gradient`);r.gradient[o]=eR(i,r.opacity)}),t.colorStyles=r}if(!t.textStyles){let r=window.getComputedStyle(e),n=r.getPropertyValue("color"),a=`12px ${r.getPropertyValue("font-family")}`;t.textStyles={color:n,font:a}}},Kz=e=>Tt(e).opacity,Zz=(e,t)=>{let r=Tt(`#${e}`);return r.opacity=t,r+""},Jz=e=>{let t=getComputedStyle(e);return r=>t?.getPropertyValue(r)},eR=(e,t)=>{let r=pA.parse(e)[0].colorStops;return r.map((n,a)=>[n.length?n.length.value/100:a/(r.length-1),Zz(n.value,t)]).sort((n,a)=>n[0]-a[0])};var vA=`:host .chart{--d3fc-local-full--gradient: var(--d3fc-full--gradient, linear-gradient(#4d342f 0%, #e4521b 22.5%, #feeb65 42.5%, #f0f0f0 50%, #dcedc8 57.5%, #42b3d5 67.5%, #1a237e 100%));--d3fc-local-positive--gradient: var(--d3fc-positive--gradient, linear-gradient(#dcedc8 0%, #42b3d5 35%, #1a237e 100%));--d3fc-local-negative--gradient: var(--d3fc-negative--gradient, linear-gradient(#feeb65 100%, #e4521b 70%, #4d342f 0%))}:host .chart{--d3fc-local-series: var(--d3fc-series, rgba(31, 119, 180, .5));--d3fc-local-series-1: var(--d3fc-series-1, #0366d6);--d3fc-local-series-2: var(--d3fc-series-2, #ff7f0e);--d3fc-local-series-3: var(--d3fc-series-3, #2ca02c);--d3fc-local-series-4: var(--d3fc-series-4, #d62728);--d3fc-local-series-5: var(--d3fc-series-5, #9467bd);--d3fc-local-series-6: var(--d3fc-series-6, #8c564b);--d3fc-local-series-7: var(--d3fc-series-7, #e377c2);--d3fc-local-series-8: var(--d3fc-series-8, #7f7f7f);--d3fc-local-series-9: var(--d3fc-series-9, #bcbd22);--d3fc-local-series-10: var(--d3fc-series-10, #17becf)}:host .chart .series{fill:var(--d3fc-local-series)}:host .chart .series-1{fill:var(--d3fc-local-series-1)}:host .chart .series-2{fill:var(--d3fc-local-series-2)}:host .chart .series-3{fill:var(--d3fc-local-series-3)}:host .chart .series-4{fill:var(--d3fc-local-series-4)}:host .chart .series-5{fill:var(--d3fc-local-series-5)}:host .chart .series-6{fill:var(--d3fc-local-series-6)}:host .chart .series-7{fill:var(--d3fc-local-series-7)}:host .chart .series-8{fill:var(--d3fc-local-series-8)}:host .chart .series-9{fill:var(--d3fc-local-series-9)}:host .chart .series-10{fill:var(--d3fc-local-series-10)}:host{user-select:none}:host .chart{position:absolute;box-sizing:border-box;left:0;top:0;width:100%;height:100%;padding:15px;overflow:hidden}:host .chart.heatmap d3fc-group.cartesian-chart,:host .chart.treemap d3fc-group.cartesian-chart{grid-template-columns:minmax(0em,max-content) auto 1fr auto minmax(0em,max-content);grid-template-rows:minmax(0em,max-content) auto 1fr auto minmax(0em,max-content)}:host .chart .chart-label{display:none}:host .chart.heatmap{padding-right:120px}:host .chart.sunburst{padding:0;font-size:14px}:host .chart.sunburst .inner-container{width:100%;height:100%;display:inline-grid;padding:0;margin:0;overflow-x:hidden;overflow-y:auto}:host .chart.sunburst .inner-container div{overflow:hidden}:host .chart.sunburst .inner-container .sunburst-container:not(:only-child) svg{transform:translateY(-27px)}:host .chart.sunburst .inner-container svg{width:100%;height:100%}:host .chart.sunburst .inner-container path{fill:var(--d3fc-series, rgba(31, 119, 180, .5))}:host .chart.sunburst .inner-container text.segment,:host .chart.sunburst .inner-container text.parent{text-anchor:middle;user-select:none;pointer-events:none;fill:var(--d3fc-treedata--labels, #333333)}:host .chart.sunburst .inner-container div.title-container{margin-top:5px}:host .chart.has-legend{padding-right:120px}:host .chart.treemap .treemap-container{position:relative}:host .chart.treemap .treemap-container:not(:only-child){width:calc(100% - 12px);height:calc(100% - 12px)}:host .chart.treemap .inner-container{width:100%;height:100%;display:inline-grid;padding:0;margin:0;overflow-x:hidden;overflow-y:auto}:host .chart.treemap .inner-container div{overflow:hidden}:host .chart.treemap .inner-container svg{width:100%;height:100%}:host .chart.treemap .inner-container .treerect{stroke:var(--d3fc-treedata-axis--lines, var(--d3fc-axis--lines, white));fill:var(--d3fc-series, rgba(31, 119, 180, .5))}:host .chart.treemap .inner-container .treerect:hover{cursor:pointer;stroke:var(--d3fc-treedata--hover-highlight, black);stroke-opacity:1}:host .chart.treemap .inner-container .rootnode{opacity:0;pointer-events:none;z-index:0}:host .chart.treemap .inner-container .branchnode{opacity:0}:host .chart.treemap .inner-container .branchnode:hover{fill-opacity:.1;opacity:1;fill:var(--d3fc-treedata--hover-highlight, black)}:host .chart.treemap .inner-container .leafnode{fill-opacity:.8}:host .chart.treemap .inner-container .leafnode:hover{fill-opacity:.5}:host .chart.treemap .inner-container #hidden{opacity:0;pointer-events:none;z-index:0}:host .chart.treemap .inner-container .top{font-size:14px;z-index:5;pointer-events:none}:host .chart.treemap .inner-container .mid{font-size:8px;opacity:.7;z-index:4}:host .chart.treemap .inner-container .lower{font-size:0px;opacity:0;z-index:4}:host .chart.treemap .inner-container text{fill:var(--d3fc-treedata--labels, #333333)}:host .chart.treemap .inner-container text.title{dominant-baseline:hanging}:host .chart.treemap .inner-container .parent-controls{position:absolute;top:15px;right:auto;left:30px;width:auto;z-index:4;transition:box-shadow 1s}:host .chart.treemap .inner-container .parent-controls:hover{box-shadow:2px 2px 6px #000;transition:box-shadow .2s}:host .chart .x-label{height:1.2em!important;line-height:1em!important}:host .chart .x-label,:host .chart .y-label{color:var(--d3fc-label--color, inherit);font-size:14px}:host .chart d3fc-canvas.plot-area{display:none}:host .chart.xyscatter d3fc-canvas.plot-area,:host .chart.xyline d3fc-canvas.plot-area,:host .chart.ohlc d3fc-canvas.plot-area,:host .chart.candlestick d3fc-canvas.plot-area,:host .chart.heatmap d3fc-canvas.plot-area{display:block}:host .chart .y-axis text,:host .chart .x-axis text{fill:var(--d3fc-axis-ticks--color, #505050);font-size:11px}:host .chart .y-axis path,:host .chart .x-axis path{stroke:var(--d3fc-axis--lines, #b4d2e1)}:host .chart .splitter-label{display:inline-block;margin:0 10px;cursor:pointer}:host .chart .splitter-label:after{margin-left:5px;color:var(--d3fc-axis--lines, #b4d2e1)}:host .chart .splitter-label:hover:after{color:var(--d3fc-axis-ticks--color, #505050)}:host .chart .splitter-label.disabled{cursor:default}:host .chart .splitter-label.disabled:after{color:#5050504d}:host .chart .y-label.left-label .splitter-label:after{font-family:var(--d3fc-y1-label--font-family, var(--button--font-family, inherit));content:var(--d3fc-y1-label--content, "\\1f847")}:host .chart .y-label.right-label .splitter-label:after{font-family:var(--d3fc-y2-label--font-family, var(--button--font-family, inherit));content:var(--d3fc-y2-label--content, "\\1f845")}:host .chart.ybar .y-axis path,:host .chart.yline .y-axis path,:host .chart.xyline .y-axis path,:host .chart.xyline .x-axis path,:host .chart.yarea .y-axis path,:host .chart.yscatter .y-axis path,:host .chart.xyscatter .y-axis path,:host .chart.xyscatter .x-axis path,:host .chart.xbar .x-axis path{visibility:hidden}:host .chart .y-label{white-space:nowrap}:host .chart .nearbyTip{fill:var(--d3fc-series, rgba(31, 119, 180, .5))}:host #dragHandles{position:absolute;top:0;right:0;left:auto;pointer-events:none}:host #dragHandles rect{pointer-events:all}:host .label rect{fill:none}:host .legend-container{position:absolute;top:15px;right:15px;left:auto;width:150px;height:280px}:host .legend-container.legend-color{width:90px;height:150px}:host .legend-container[borderbox-on-hover=true]{transition:box-shadow 1s}:host .legend-container[borderbox-on-hover=true]:hover{background-color:var(--d3fc-legend--background, #ffffff);box-shadow:0 2px 4px #0000001a;transition:box-shadow .2s,background-color .2s}:host .legend-container .legend{font-size:8pt;width:100%}:host .legend-container .legend .cell{cursor:pointer}:host .legend-container .legend .cell path{fill:var(--d3fc-series, rgba(31, 119, 180, .5));stroke:var(--d3fc-series, #1f77b4)}:host .legend-container .legend .cell.hidden path{fill:#cccccc80;stroke:#ccc}:host .legend-container .legend .cell.hidden circle{fill:#ccc!important}:host .legend-container text{fill:var(--d3fc-legend--text, #333333)}:host .legend-container .label:hover{fill:#22a0ce}:host .legend-container #legend-axis path{stroke:var(--d3fc-legend--text, #333333)}:host .legend-container .legend-controls{margin-left:12px}:host .legend-container .legend-controls #up-arrow,:host .legend-container .legend-controls #down-arrow{cursor:pointer;color:#1f77b4}:host .legend-container .legend-controls #up-arrow.disabled,:host .legend-container .legend-controls #down-arrow.disabled{cursor:default;color:#333}:host .heatmap .legend-container.legend-color{height:200px}:host .treemap .legend-container.legend-color{height:200px}:host .treemap .legend-container:not(.legend-color){width:100px}:host .zoom-controls{position:absolute;top:10px;left:0;width:100%;text-align:center}:host .zoom-controls button{-webkit-appearance:none;background:var(--plugin--background, #f7f7f7);border:1px solid var(--inactive--color, #cccccc);color:var(--d3fc-label--color, inherit);font-size:12px;padding:8px;opacity:.5;cursor:pointer}:host .zoom-controls button:hover{opacity:1}:host .parent-controls{position:absolute;top:30px;right:145px;width:100%;text-align:right}:host .parent-controls button{-webkit-appearance:none;background:#f7f7f7;border:1px solid #cccccc;padding:10px;opacity:.5;cursor:pointer}:host .parent-controls button:hover{background:#e6e6e6}:host div.tooltip{position:absolute;text-align:left;font-size:12px;font-weight:300;white-space:nowrap;padding:.5em;background:var(--d3fc-tooltip--background, #ffffff);color:var(--d3fc-tooltip--color, black);border:1px solid var(--d3fc-tooltip--border-color, #777777);box-shadow:var(--d3fc-tooltip--box-shadow, none);pointer-events:none}:host div.tooltip ul{margin:0;padding:0;list-style-type:none}
`;var xA={initial:{type:"number",count:1},selectMode:"select"},rR=`${vA}${nR()}`,K0=["crossValues","mainValues","realValues","splitValues","filter","data","size","colorStyles","textStyles","agg_paths","treemaps"];function nR(){let e=document.querySelector("head").querySelectorAll("style"),t=[];return e.forEach(r=>{r.innerText.indexOf("d3fc-")!==-1&&t.push(r.innerText)}),t.join("")}function aR(e){customElements.get("perspective-viewer").registerPlugin(e)}function bA(...e){e=new Set(e.length>0?e:j0.map(t=>t.plugin.name)),j0.forEach(t=>{if(e.has(t.plugin.name)){let r=t.plugin.name.toLowerCase().replace(/[ \t\r\n\/]*/g,""),n=`perspective-viewer-d3fc-${r}`;customElements.define(n,class extends HTMLElement{constructor(){super(),this._chart=null,this._settings=null,this.render_warning=!0}connectedCallback(){this._initialized||(this.attachShadow({mode:"open"}),this.shadowRoot.innerHTML=`<style>${rR}</style>`,this.shadowRoot.innerHTML+='<div id="container" class="chart"></div>',this._container=this.shadowRoot.querySelector(".chart"),this._initialized=!0)}get name(){return t.plugin.name}get category(){return t.plugin.category}get select_mode(){return t.plugin.selectMode||"select"}get min_config_columns(){return t.plugin.initial?.count||xA.initial.count}get config_column_names(){return t.plugin.initial?.names||xA.initial.names}get max_cells(){return t.plugin.max_cells||4e3}set max_cells(a){t.plugin.max_cells=a}get max_columns(){return t.plugin.max_columns||50}set max_columns(a){t.plugin.max_columns=a}async render(){var a=document.createElement("canvas"),o=this.shadowRoot.querySelector("#container");a.width=o.offsetWidth,a.height=o.offsetHeight;let i=a.getContext("2d");i.fillStyle=window.getComputedStyle(this).getPropertyValue("--plugin--background")||"white",i.fillRect(0,0,a.width,a.height);let u=window.getComputedStyle(this).getPropertyValue("color"),l=Array.from(this.shadowRoot.querySelectorAll("svg:not(#dragHandles)"));for(let v of l.reverse()){var s=document.createElement("img");s.width=v.parentNode.offsetWidth,s.height=v.parentNode.offsetHeight;let M=v.cloneNode(!0);M.hasAttribute("viewBox")||M.setAttribute("viewBox",`0 0 ${s.width} ${s.height}`),M.setAttribute("xmlns","http://www.w3.org/2000/svg");for(let N of M.querySelectorAll("text"))N.setAttribute("fill",u);var h=new XMLSerializer().serializeToString(M);h=h.replace(/[^\x00-\x7F]/g,"");let A=new Promise((N,C)=>{s.onload=N,s.onerror=C});try{s.src=`data:image/svg+xml;base64,${btoa(h)}`,await A}catch{let C=new Promise((D,B)=>{s.onload=D,s.onerror=B});s.src=`data:image/svg+xml;utf8,${h}`,await C}i.drawImage(s,v.parentNode.offsetLeft,v.parentNode.offsetTop,s.width,s.height)}let b=Array.from(this.shadowRoot.querySelectorAll("canvas"));for(let v of b.reverse())i.drawImage(v,v.parentNode.offsetLeft,v.parentNode.offsetTop,v.width/window.devicePixelRatio,v.height/window.devicePixelRatio);return await new Promise(v=>a.toBlob(M=>v(M)),"image/png")}async draw(a,o,i){if(this.offsetParent===null){this._staged_view=[a,o,i];return}this._staged_view=void 0,this.config=await this.parentElement.save(),await this.update(a,o,i,!0)}async update(a,o,i,u=!1){if(this.offsetParent===null)return;let l=this.parentElement,s,h,b=this.config.columns,v=t.plugin.name!=="Sunburst";o&&i?s=a.to_json({end_row:i,end_col:o,leaves_only:v}):o?s=a.to_json({end_col:o,leaves_only:v}):i?s=a.to_json({end_row:i,leaves_only:v}):s=a.to_json({leaves_only:v}),h=await Promise.all([l.getTable().then(Z=>Z.schema(!1)),a.expression_schema(!1),a.schema(!1),s,a.get_config()]);let[M,A,N,C,D]=h,B=function(Z){let K=M[Z];return K||(K=A[Z]),K},{columns:F,group_by:R,split_by:z,filter:L}=D,$=R.length>0?C.reduce((Z,K)=>{if(K.__ROW_PATH__&&K.__ROW_PATH__.length==R.length)Z.agg_paths.push(Z.aggs.slice()),Z.rows.push(K);else{let H=K.__ROW_PATH__.filter(te=>te!==void 0).length;Z.aggs[H]=K,Z.aggs=Z.aggs.slice(0,H+1)}return Z},{rows:[],aggs:[],agg_paths:[]}):{rows:C},G=(Z,K)=>R.length?Z:{...Z,__ROW_PATH__:[K]},ue=$.rows.map(G),ne={realValues:b,crossValues:R.map(Z=>({name:Z,type:B(Z)})),mainValues:F.map(Z=>({name:Z,type:N[Z]})),splitValues:z.map(Z=>({name:Z,type:B(Z)})),filter:L,data:ue,agg_paths:$.agg_paths};this._chart=t;let U={set:(Z,K,H)=>(K0.includes(K)||this._container&&this._container.dispatchEvent(new Event("perspective-plugin-update",{bubbles:!0,composed:!0})),Z[K]=H,!0)};this._settings=new Proxy({...this._settings,...ne},U),this._settings.splitMainValues&&this._settings.splitMainValues.length>=F.length&&(this._settings.splitMainValues=[]),gA(this._container,this._settings),u&&(this._container.innerHTML=""),this._draw(),await new Promise(Z=>requestAnimationFrame(Z))}async clear(){this._container&&(this._container.innerHTML="")}_draw(){if(this.offsetParent!==null){let a=fe(this._container),o=`chart ${r}`;this._settings.size=this._container.getBoundingClientRect(),this._settings.data.length>0?this._chart(a.attr("class",o),this._settings):a.attr("class",`${o} disabled`)}}async resize(a){if(this.offsetParent!==null)if(this._settings?.data!==void 0)this._draw();else{let[o,i,u]=this._staged_view;this._staged_view=void 0,this.draw(o,i,u)}}async restyle(...a){let o=this._settings;o&&(delete o.colorStyles,delete o.textStyles,await this.draw(...a))}async delete(){this._container.innerHTML=""}getContainer(){return this._container}save(){let a={...this._settings};return K0.forEach(o=>{delete a[o]}),a}restore(a){let o={};for(let i of K0)o[i]=this._settings?.[i];this._settings={...o,...a},this._draw()}}),customElements.whenDefined("perspective-viewer").then(()=>aR(n))}})}Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector);bA();
}));

//# sourceMappingURL=perspective-viewer-d3fc.js.map
